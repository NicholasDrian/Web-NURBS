/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/cad.ts":
/*!********************!*\
  !*** ./src/cad.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INSTANCE: () => (/* binding */ INSTANCE)\n/* harmony export */ });\n/* harmony import */ var _render_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render/renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _scene_scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scene/scene */ \"./src/scene/scene.ts\");\n/* harmony import */ var _utils_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/timer */ \"./src/utils/timer.ts\");\n/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stats */ \"./src/stats.ts\");\n/* harmony import */ var _events_eventManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/eventManager */ \"./src/events/eventManager.ts\");\n/* harmony import */ var _mode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mode */ \"./src/mode.ts\");\n/* harmony import */ var _commands_cli__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./commands/cli */ \"./src/commands/cli.ts\");\n/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./log */ \"./src/log.ts\");\n/* harmony import */ var _commands_commandManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./commands/commandManager */ \"./src/commands/commandManager.ts\");\n/* harmony import */ var _tests_testScene1__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tests/testScene1 */ \"./src/tests/testScene1.ts\");\n/* harmony import */ var _window_windowManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./window/windowManager */ \"./src/window/windowManager.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n/*\n  * Browser Based NURBS Modeling Software\n  * Inspired by Rhino, Vim\n  *\n  * By Nick Drian\n  *\n*/\nclass CAD {\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.windowManager = new _window_windowManager__WEBPACK_IMPORTED_MODULE_10__.WindowManager();\n            this.commandManager = new _commands_commandManager__WEBPACK_IMPORTED_MODULE_8__.CommandManager();\n            this.cli = new _commands_cli__WEBPACK_IMPORTED_MODULE_6__.CLI();\n            this.setMode(_mode__WEBPACK_IMPORTED_MODULE_5__.OperatingMode.Command);\n            this.renderer = new _render_renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer();\n            yield this.renderer.init();\n            this.scene = new _scene_scene__WEBPACK_IMPORTED_MODULE_1__.Scene();\n            yield this.scene.init();\n            this.eventManager = new _events_eventManager__WEBPACK_IMPORTED_MODULE_4__.EventManager();\n            this.log = new _log__WEBPACK_IMPORTED_MODULE_7__.Log();\n            this.renderStats = new _stats__WEBPACK_IMPORTED_MODULE_3__.RenderStats();\n            (0,_tests_testScene1__WEBPACK_IMPORTED_MODULE_9__.addTestScene1)();\n        });\n    }\n    run() {\n        return __awaiter(this, void 0, void 0, function* () {\n            while (true) {\n                if (document.hasFocus()) {\n                    var frameTimer = new _utils_timer__WEBPACK_IMPORTED_MODULE_2__.Timer();\n                    // update scene\n                    var sceneTimer = new _utils_timer__WEBPACK_IMPORTED_MODULE_2__.Timer();\n                    this.scene.tick();\n                    this.renderStats.setSceneTime(sceneTimer.getTime());\n                    // render\n                    var renderTimer = new _utils_timer__WEBPACK_IMPORTED_MODULE_2__.Timer();\n                    yield this.renderer.render(this.scene);\n                    this.renderStats.setRenderTime(renderTimer.getTime());\n                    //stats\n                    this.renderStats.setFrameTime(frameTimer.getTime());\n                    // windows\n                    this.windowManager.tick();\n                }\n                else {\n                    yield new Promise(r => setTimeout(r, 100));\n                }\n            }\n        });\n    }\n    getMode() {\n        return this.operatingMode;\n    }\n    setMode(operatingMode) {\n        this.operatingMode = operatingMode;\n        if (this.operatingMode == _mode__WEBPACK_IMPORTED_MODULE_5__.OperatingMode.Command) {\n            this.cli.show();\n        }\n        else {\n            this.cli.hide();\n        }\n    }\n    getCli() {\n        return this.cli;\n    }\n    getStats() {\n        return this.renderStats;\n    }\n    getScene() {\n        return this.scene;\n    }\n    getRenderer() {\n        return this.renderer;\n    }\n    getLog() {\n        return this.log;\n    }\n    getCommandManager() {\n        return this.commandManager;\n    }\n    getWindowManager() {\n        return this.windowManager;\n    }\n}\nconst INSTANCE = new CAD();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO0lBQzFCLENBQUM7SUFFTSxRQUFRO1FBQ2IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFFTSxXQUFXO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0lBRU0sTUFBTTtRQUNYLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNsQixDQUFDO0lBRU0saUJBQWlCO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUM3QixDQUFDO0lBRU0sZ0JBQWdCO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0NBRUY7QUFFTSxNQUFNLFFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvY2FkLnRzP2RkZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXIvcmVuZGVyZXJcIlxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi9zY2VuZS9zY2VuZVwiO1xuaW1wb3J0IHsgVGltZXIgfSBmcm9tIFwiLi91dGlscy90aW1lclwiXG5pbXBvcnQgeyBSZW5kZXJTdGF0cyB9IGZyb20gXCIuL3N0YXRzXCJcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gXCIuL2V2ZW50cy9ldmVudE1hbmFnZXJcIlxuaW1wb3J0IHsgT3BlcmF0aW5nTW9kZSB9IGZyb20gXCIuL21vZGVcIlxuaW1wb3J0IHsgQ0xJIH0gZnJvbSBcIi4vY29tbWFuZHMvY2xpXCJcbmltcG9ydCB7IExvZyB9IGZyb20gXCIuL2xvZ1wiO1xuaW1wb3J0IHsgQ29tbWFuZE1hbmFnZXIgfSBmcm9tIFwiLi9jb21tYW5kcy9jb21tYW5kTWFuYWdlclwiO1xuaW1wb3J0IHsgYWRkVGVzdFNjZW5lMSB9IGZyb20gXCIuL3Rlc3RzL3Rlc3RTY2VuZTFcIjtcbmltcG9ydCB7IFdpbmRvd01hbmFnZXIgfSBmcm9tIFwiLi93aW5kb3cvd2luZG93TWFuYWdlclwiO1xuXG4vKlxuICAqIEJyb3dzZXIgQmFzZWQgTlVSQlMgTW9kZWxpbmcgU29mdHdhcmVcbiAgKiBJbnNwaXJlZCBieSBSaGlubywgVmltXG4gICpcbiAgKiBCeSBOaWNrIERyaWFuXG4gICpcbiovXG5cbmNsYXNzIENBRCB7XG5cbiAgcHJpdmF0ZSByZW5kZXJlciE6IFJlbmRlcmVyO1xuICBwcml2YXRlIHNjZW5lITogU2NlbmU7XG4gIHByaXZhdGUgZXZlbnRNYW5hZ2VyITogRXZlbnRNYW5hZ2VyO1xuICBwcml2YXRlIGNvbW1hbmRNYW5hZ2VyITogQ29tbWFuZE1hbmFnZXI7XG4gIHByaXZhdGUgd2luZG93TWFuYWdlciE6IFdpbmRvd01hbmFnZXI7XG4gIHByaXZhdGUgcmVuZGVyU3RhdHMhOiBSZW5kZXJTdGF0cztcbiAgcHJpdmF0ZSBvcGVyYXRpbmdNb2RlITogT3BlcmF0aW5nTW9kZTtcbiAgcHJpdmF0ZSBjbGkhOiBDTEk7XG4gIHByaXZhdGUgbG9nITogTG9nXG5cbiAgcHVibGljIGFzeW5jIGluaXQoKSB7XG5cbiAgICB0aGlzLndpbmRvd01hbmFnZXIgPSBuZXcgV2luZG93TWFuYWdlcigpO1xuXG4gICAgdGhpcy5jb21tYW5kTWFuYWdlciA9IG5ldyBDb21tYW5kTWFuYWdlcigpO1xuICAgIHRoaXMuY2xpID0gbmV3IENMSSgpO1xuXG4gICAgdGhpcy5zZXRNb2RlKE9wZXJhdGluZ01vZGUuQ29tbWFuZCk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCk7XG4gICAgYXdhaXQgdGhpcy5yZW5kZXJlci5pbml0KCk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgYXdhaXQgdGhpcy5zY2VuZS5pbml0KCk7XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlciA9IG5ldyBFdmVudE1hbmFnZXIoKTtcbiAgICB0aGlzLmxvZyA9IG5ldyBMb2coKTtcblxuICAgIHRoaXMucmVuZGVyU3RhdHMgPSBuZXcgUmVuZGVyU3RhdHMoKTtcblxuICAgIGFkZFRlc3RTY2VuZTEoKTtcblxuICB9XG5cbiAgcHVibGljIGFzeW5jIHJ1bigpIHtcblxuICAgIHdoaWxlICh0cnVlKSB7XG5cbiAgICAgIGlmIChkb2N1bWVudC5oYXNGb2N1cygpKSB7XG5cbiAgICAgICAgdmFyIGZyYW1lVGltZXIgPSBuZXcgVGltZXIoKTtcblxuICAgICAgICAvLyB1cGRhdGUgc2NlbmVcbiAgICAgICAgdmFyIHNjZW5lVGltZXIgPSBuZXcgVGltZXIoKTtcbiAgICAgICAgdGhpcy5zY2VuZS50aWNrKCk7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdHMuc2V0U2NlbmVUaW1lKHNjZW5lVGltZXIuZ2V0VGltZSgpKTtcblxuICAgICAgICAvLyByZW5kZXJcbiAgICAgICAgdmFyIHJlbmRlclRpbWVyID0gbmV3IFRpbWVyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUpO1xuICAgICAgICB0aGlzLnJlbmRlclN0YXRzLnNldFJlbmRlclRpbWUocmVuZGVyVGltZXIuZ2V0VGltZSgpKTtcblxuICAgICAgICAvL3N0YXRzXG4gICAgICAgIHRoaXMucmVuZGVyU3RhdHMuc2V0RnJhbWVUaW1lKGZyYW1lVGltZXIuZ2V0VGltZSgpKTtcblxuICAgICAgICAvLyB3aW5kb3dzXG4gICAgICAgIHRoaXMud2luZG93TWFuYWdlci50aWNrKCk7XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDEwMCkpO1xuXG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZSgpOiBPcGVyYXRpbmdNb2RlIHtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpbmdNb2RlO1xuICB9XG5cbiAgcHVibGljIHNldE1vZGUob3BlcmF0aW5nTW9kZTogT3BlcmF0aW5nTW9kZSk6IHZvaWQge1xuICAgIHRoaXMub3BlcmF0aW5nTW9kZSA9IG9wZXJhdGluZ01vZGU7XG5cbiAgICBpZiAodGhpcy5vcGVyYXRpbmdNb2RlID09IE9wZXJhdGluZ01vZGUuQ29tbWFuZCkge1xuICAgICAgdGhpcy5jbGkuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsaS5oaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldENsaSgpOiBDTEkge1xuICAgIHJldHVybiB0aGlzLmNsaTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdGF0cygpOiBSZW5kZXJTdGF0cyB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyU3RhdHM7XG4gIH1cblxuICBwdWJsaWMgZ2V0U2NlbmUoKTogU2NlbmUge1xuICAgIHJldHVybiB0aGlzLnNjZW5lO1xuICB9XG5cbiAgcHVibGljIGdldFJlbmRlcmVyKCk6IFJlbmRlcmVyIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMb2coKTogTG9nIHtcbiAgICByZXR1cm4gdGhpcy5sb2c7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29tbWFuZE1hbmFnZXIoKTogQ29tbWFuZE1hbmFnZXIge1xuICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYW5hZ2VyO1xuICB9XG5cbiAgcHVibGljIGdldFdpbmRvd01hbmFnZXIoKTogV2luZG93TWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMud2luZG93TWFuYWdlcjtcbiAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBJTlNUQU5DRSA9IG5ldyBDQUQoKTtcblxuXG5cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cad.ts\n");

/***/ }),

/***/ "./src/commands/cli.ts":
/*!*****************************!*\
  !*** ./src/commands/cli.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CLI: () => (/* binding */ CLI)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n\nclass CLI {\n    constructor() {\n        this.element = document.getElementById(\"cli\");\n        this.input = \"\";\n        this.render();\n    }\n    show() {\n        this.element.hidden = false;\n    }\n    hide() {\n        this.element.hidden = true;\n    }\n    processKeyDownEvent(event) {\n        if (event.key == \"Enter\") {\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getCommandManager().handleInput(this.input);\n            this.clearInput();\n        }\n        else if (event.key == \"Escape\") {\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getCommandManager().handleInput(\"Escape\");\n            this.clearInput();\n        }\n        else if (event.key == \"Backspace\") {\n            this.deleteLast();\n        }\n        else if (event.key.length == 1) {\n            this.addChar(event.key);\n        }\n    }\n    hasInput() {\n        return this.input != \"\";\n    }\n    clearInput() {\n        this.input = \"\";\n        this.render();\n    }\n    render() {\n        this.element.innerText = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getCommandManager().getInstructions() + this.input;\n    }\n    deleteLast() {\n        if (this.input.length) {\n            this.input = this.input.slice(0, -1);\n            this.render();\n        }\n    }\n    addChar(char) {\n        this.input += char;\n        this.render();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY2xpLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDO0FBRTNCLE1BQU0sR0FBRztJQUtaO1FBQ0ksSUFBSSxDQUFDLE9BQU8sR0FBb0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDaEMsQ0FBQztJQUNNLElBQUk7UUFDUCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDL0IsQ0FBQztJQUVNLG1CQUFtQixDQUFDLEtBQW9CO1FBQzNDLElBQUksS0FBSyxDQUFDLEdBQUcsSUFBSSxPQUFPLEVBQUU7WUFDdEIsMENBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckQsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQ3JCO2FBQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxJQUFJLFFBQVEsRUFBRTtZQUM5QiwwQ0FBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ25ELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQjthQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsSUFBSSxXQUFXLEVBQUU7WUFDakMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQ3JCO2FBQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBR00sUUFBUTtRQUNYLE9BQU8sSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVNLFVBQVU7UUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVNLE1BQU07UUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRywwQ0FBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsZUFBZSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN6RixDQUFDO0lBRU8sVUFBVTtRQUNkLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDakI7SUFDTCxDQUFDO0lBRU8sT0FBTyxDQUFDLElBQVk7UUFDeEIsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7Q0FHSiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2NvbW1hbmRzL2NsaS50cz9hNWMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uL2NhZFwiO1xuXG5leHBvcnQgY2xhc3MgQ0xJIHtcblxuICAgIHByaXZhdGUgZWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBpbnB1dDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IDxIVE1MRGl2RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGlcIik7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQuaGlkZGVuID0gZmFsc2U7XG4gICAgfVxuICAgIHB1YmxpYyBoaWRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQuaGlkZGVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJvY2Vzc0tleURvd25FdmVudChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgSU5TVEFOQ0UuZ2V0Q29tbWFuZE1hbmFnZXIoKS5oYW5kbGVJbnB1dCh0aGlzLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJJbnB1dCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICBJTlNUQU5DRS5nZXRDb21tYW5kTWFuYWdlcigpLmhhbmRsZUlucHV0KFwiRXNjYXBlXCIpO1xuICAgICAgICAgICAgdGhpcy5jbGVhcklucHV0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09IFwiQmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlTGFzdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5hZGRDaGFyKGV2ZW50LmtleSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHB1YmxpYyBoYXNJbnB1dCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQgIT0gXCJcIjtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJJbnB1dCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVyVGV4dCA9IElOU1RBTkNFLmdldENvbW1hbmRNYW5hZ2VyKCkuZ2V0SW5zdHJ1Y3Rpb25zKCkgKyB0aGlzLmlucHV0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVsZXRlTGFzdCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5pbnB1dC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRDaGFyKGNoYXI6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmlucHV0ICs9IGNoYXI7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG5cbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/commands/cli.ts\n");

/***/ }),

/***/ "./src/commands/command.ts":
/*!*********************************!*\
  !*** ./src/commands/command.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Command: () => (/* binding */ Command)\n/* harmony export */ });\nclass Command {\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY29tbWFuZC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRU8sTUFBZSxPQUFPO0NBUTVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvY29tbWFuZHMvY29tbWFuZC50cz80ZDA2Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tbWFuZCB7XG5cbiAgICBhYnN0cmFjdCBoYW5kbGVJbnB1dChpbnB1dDogc3RyaW5nKTogdm9pZDtcbiAgICBhYnN0cmFjdCBoYW5kbGVDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQ7XG4gICAgYWJzdHJhY3QgaGFuZGxlTW91c2VNb3ZlKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZDtcbiAgICBhYnN0cmFjdCBnZXRJbnN0cnVjdGlvbnMoKTogc3RyaW5nO1xuICAgIGFic3RyYWN0IGlzRmluaXNoZWQoKTogYm9vbGVhbjtcblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/commands/command.ts\n");

/***/ }),

/***/ "./src/commands/commandManager.ts":
/*!****************************************!*\
  !*** ./src/commands/commandManager.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommandManager: () => (/* binding */ CommandManager)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _commands_cameraCommand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./commands/cameraCommand */ \"./src/commands/commands/cameraCommand.ts\");\n/* harmony import */ var _commands_constructionPlaneCommand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./commands/constructionPlaneCommand */ \"./src/commands/commands/constructionPlaneCommand.ts\");\n/* harmony import */ var _commands_curveCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./commands/curveCommand */ \"./src/commands/commands/curveCommand.ts\");\n/* harmony import */ var _commands_lineCommand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./commands/lineCommand */ \"./src/commands/commands/lineCommand.ts\");\n/* harmony import */ var _commands_polylineCommand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./commands/polylineCommand */ \"./src/commands/commands/polylineCommand.ts\");\n/* harmony import */ var _commands_windowCommand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./commands/windowCommand */ \"./src/commands/commands/windowCommand.ts\");\n/* harmony import */ var _oneTimeCommands_toggleDarkModeCommand__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./oneTimeCommands/toggleDarkModeCommand */ \"./src/commands/oneTimeCommands/toggleDarkModeCommand.ts\");\n\n\n\n\n\n\n\n\nclass CommandManager {\n    constructor() {\n        this.currentCommand = null;\n        this.previousInput = \"\";\n    }\n    handleInput(input) {\n        var _a;\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getLog().log(input);\n        input = input.toLowerCase();\n        if (this.currentCommand)\n            this.currentCommand.handleInput(input);\n        else {\n            switch (input) {\n                case \"\":\n                    this.handleInput(this.previousInput);\n                    return;\n                case \"darkmode\":\n                case \"dm\":\n                    (0,_oneTimeCommands_toggleDarkModeCommand__WEBPACK_IMPORTED_MODULE_7__.toggleDarkMode)();\n                    break;\n                case \"constructionplane\":\n                case \"cp\":\n                    this.currentCommand = new _commands_constructionPlaneCommand__WEBPACK_IMPORTED_MODULE_2__.ConstructionPlaneCommand();\n                    break;\n                case \"camera\":\n                case \"cam\":\n                    this.currentCommand = new _commands_cameraCommand__WEBPACK_IMPORTED_MODULE_1__.CameraCommand();\n                    break;\n                case \"line\":\n                case \"ln\":\n                    this.currentCommand = new _commands_lineCommand__WEBPACK_IMPORTED_MODULE_4__.LineCommand();\n                    break;\n                case \"polyline\":\n                case \"pl\":\n                    this.currentCommand = new _commands_polylineCommand__WEBPACK_IMPORTED_MODULE_5__.PolyLineCommand();\n                    break;\n                case \"curve\":\n                case \"cv\":\n                    this.currentCommand = new _commands_curveCommand__WEBPACK_IMPORTED_MODULE_3__.CurveCommand();\n                    break;\n                case \"window\":\n                case \"w\":\n                    this.currentCommand = new _commands_windowCommand__WEBPACK_IMPORTED_MODULE_6__.WindowCommand();\n                    break;\n                default: _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getLog().log(\"Invalid Command\");\n            }\n            this.previousInput = input;\n        }\n        if ((_a = this.currentCommand) === null || _a === void 0 ? void 0 : _a.isFinished()) {\n            this.currentCommand = null;\n        }\n    }\n    handleClickInput(event) {\n        var _a, _b;\n        (_a = this.currentCommand) === null || _a === void 0 ? void 0 : _a.handleClick(event.clientX, event.clientY);\n        if ((_b = this.currentCommand) === null || _b === void 0 ? void 0 : _b.isFinished()) {\n            this.currentCommand = null;\n        }\n    }\n    handleMouseMove(event) {\n        var _a;\n        (_a = this.currentCommand) === null || _a === void 0 ? void 0 : _a.handleMouseMove(event.clientX, event.clientY);\n    }\n    getInstructions() {\n        if (this.currentCommand)\n            return this.currentCommand.getInstructions();\n        return \"$\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY29tbWFuZE1hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtDO0FBRXVCO0FBQ3NCO0FBQ3hCO0FBQ0Y7QUFDUTtBQUNKO0FBQ2dCO0FBR2xFLE1BQU0sY0FBYztJQUt6QjtRQUNFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBYTs7UUFFOUIsMENBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFN0IsS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUU1QixJQUFJLElBQUksQ0FBQyxjQUFjO1lBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDM0Q7WUFDSCxRQUFRLEtBQUssRUFBRTtnQkFDYixLQUFLLEVBQUU7b0JBQ0wsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7b0JBQ3JDLE9BQU87Z0JBQ1QsS0FBSyxVQUFVLENBQUM7Z0JBQUMsS0FBSyxJQUFJO29CQUN4QixzRkFBYyxFQUFFLENBQUM7b0JBQ2pCLE1BQU07Z0JBQ1IsS0FBSyxtQkFBbUIsQ0FBQztnQkFBQyxLQUFLLElBQUk7b0JBQ2pDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSx3RkFBd0IsRUFBRSxDQUFDO29CQUNyRCxNQUFNO2dCQUNSLEtBQUssUUFBUSxDQUFDO2dCQUFDLEtBQUssS0FBSztvQkFDdkIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLGtFQUFhLEVBQUUsQ0FBQztvQkFDMUMsTUFBTTtnQkFDUixLQUFLLE1BQU0sQ0FBQztnQkFBQyxLQUFLLElBQUk7b0JBQ3BCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSw4REFBVyxFQUFFLENBQUM7b0JBQ3hDLE1BQU07Z0JBQ1IsS0FBSyxVQUFVLENBQUM7Z0JBQUMsS0FBSyxJQUFJO29CQUN4QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksc0VBQWUsRUFBRSxDQUFDO29CQUM1QyxNQUFNO2dCQUNSLEtBQUssT0FBTyxDQUFDO2dCQUFDLEtBQUssSUFBSTtvQkFDckIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLGdFQUFZLEVBQUUsQ0FBQztvQkFDekMsTUFBTTtnQkFDUixLQUFLLFFBQVEsQ0FBQztnQkFBQyxLQUFLLEdBQUc7b0JBQ3JCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxrRUFBYSxFQUFFLENBQUM7b0JBQzFDLE1BQU07Z0JBQ1IsT0FBTyxDQUFDLENBQUMsMENBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQzthQUNuRDtZQUNELElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1NBQzVCO1FBRUQsSUFBSSxVQUFJLENBQUMsY0FBYywwQ0FBRSxVQUFVLEVBQUUsRUFBRTtZQUNyQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztTQUM1QjtJQUdILENBQUM7SUFFTSxnQkFBZ0IsQ0FBQyxLQUFpQjs7UUFDdkMsVUFBSSxDQUFDLGNBQWMsMENBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9ELElBQUksVUFBSSxDQUFDLGNBQWMsMENBQUUsVUFBVSxFQUFFLEVBQUU7WUFDckMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDNUI7SUFDSCxDQUFDO0lBRU0sZUFBZSxDQUFDLEtBQWlCOztRQUN0QyxVQUFJLENBQUMsY0FBYywwQ0FBRSxlQUFlLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVNLGVBQWU7UUFDcEIsSUFBSSxJQUFJLENBQUMsY0FBYztZQUFFLE9BQU8sSUFBSSxDQUFDLGNBQWUsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2RSxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2NvbW1hbmRzL2NvbW1hbmRNYW5hZ2VyLnRzPzRlMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vY2FkXCI7XG5pbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuaW1wb3J0IHsgQ2FtZXJhQ29tbWFuZCB9IGZyb20gXCIuL2NvbW1hbmRzL2NhbWVyYUNvbW1hbmRcIjtcbmltcG9ydCB7IENvbnN0cnVjdGlvblBsYW5lQ29tbWFuZCB9IGZyb20gXCIuL2NvbW1hbmRzL2NvbnN0cnVjdGlvblBsYW5lQ29tbWFuZFwiO1xuaW1wb3J0IHsgQ3VydmVDb21tYW5kIH0gZnJvbSBcIi4vY29tbWFuZHMvY3VydmVDb21tYW5kXCI7XG5pbXBvcnQgeyBMaW5lQ29tbWFuZCB9IGZyb20gXCIuL2NvbW1hbmRzL2xpbmVDb21tYW5kXCI7XG5pbXBvcnQgeyBQb2x5TGluZUNvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kcy9wb2x5bGluZUNvbW1hbmRcIjtcbmltcG9ydCB7IFdpbmRvd0NvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kcy93aW5kb3dDb21tYW5kXCI7XG5pbXBvcnQgeyB0b2dnbGVEYXJrTW9kZSB9IGZyb20gXCIuL29uZVRpbWVDb21tYW5kcy90b2dnbGVEYXJrTW9kZUNvbW1hbmRcIjtcblxuXG5leHBvcnQgY2xhc3MgQ29tbWFuZE1hbmFnZXIge1xuXG4gIHByaXZhdGUgY3VycmVudENvbW1hbmQ6IENvbW1hbmQgfCBudWxsO1xuICBwcml2YXRlIHByZXZpb3VzSW5wdXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN1cnJlbnRDb21tYW5kID0gbnVsbDtcbiAgICB0aGlzLnByZXZpb3VzSW5wdXQgPSBcIlwiO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUlucHV0KGlucHV0OiBzdHJpbmcpIHtcblxuICAgIElOU1RBTkNFLmdldExvZygpLmxvZyhpbnB1dCk7XG5cbiAgICBpbnB1dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAodGhpcy5jdXJyZW50Q29tbWFuZCkgdGhpcy5jdXJyZW50Q29tbWFuZC5oYW5kbGVJbnB1dChpbnB1dCk7XG4gICAgZWxzZSB7XG4gICAgICBzd2l0Y2ggKGlucHV0KSB7XG4gICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICB0aGlzLmhhbmRsZUlucHV0KHRoaXMucHJldmlvdXNJbnB1dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwiZGFya21vZGVcIjogY2FzZSBcImRtXCI6XG4gICAgICAgICAgdG9nZ2xlRGFya01vZGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbnN0cnVjdGlvbnBsYW5lXCI6IGNhc2UgXCJjcFwiOlxuICAgICAgICAgIHRoaXMuY3VycmVudENvbW1hbmQgPSBuZXcgQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjYW1lcmFcIjogY2FzZSBcImNhbVwiOlxuICAgICAgICAgIHRoaXMuY3VycmVudENvbW1hbmQgPSBuZXcgQ2FtZXJhQ29tbWFuZCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGluZVwiOiBjYXNlIFwibG5cIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb21tYW5kID0gbmV3IExpbmVDb21tYW5kKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb2x5bGluZVwiOiBjYXNlIFwicGxcIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb21tYW5kID0gbmV3IFBvbHlMaW5lQ29tbWFuZCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY3VydmVcIjogY2FzZSBcImN2XCI6XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29tbWFuZCA9IG5ldyBDdXJ2ZUNvbW1hbmQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIndpbmRvd1wiOiBjYXNlIFwid1wiOlxuICAgICAgICAgIHRoaXMuY3VycmVudENvbW1hbmQgPSBuZXcgV2luZG93Q29tbWFuZCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBJTlNUQU5DRS5nZXRMb2coKS5sb2coXCJJbnZhbGlkIENvbW1hbmRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnByZXZpb3VzSW5wdXQgPSBpbnB1dDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50Q29tbWFuZD8uaXNGaW5pc2hlZCgpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRDb21tYW5kID0gbnVsbDtcbiAgICB9XG5cblxuICB9XG5cbiAgcHVibGljIGhhbmRsZUNsaWNrSW5wdXQoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLmN1cnJlbnRDb21tYW5kPy5oYW5kbGVDbGljayhldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICBpZiAodGhpcy5jdXJyZW50Q29tbWFuZD8uaXNGaW5pc2hlZCgpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRDb21tYW5kID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5jdXJyZW50Q29tbWFuZD8uaGFuZGxlTW91c2VNb3ZlKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICB9XG5cbiAgcHVibGljIGdldEluc3RydWN0aW9ucygpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLmN1cnJlbnRDb21tYW5kKSByZXR1cm4gdGhpcy5jdXJyZW50Q29tbWFuZCEuZ2V0SW5zdHJ1Y3Rpb25zKCk7XG4gICAgcmV0dXJuIFwiJFwiO1xuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/commands/commandManager.ts\n");

/***/ }),

/***/ "./src/commands/commands/cameraCommand.ts":
/*!************************************************!*\
  !*** ./src/commands/commands/cameraCommand.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CameraCommand: () => (/* binding */ CameraCommand)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n\nvar CameraCommandMode;\n(function (CameraCommandMode) {\n    CameraCommandMode[CameraCommandMode[\"Menu\"] = 0] = \"Menu\";\n    CameraCommandMode[CameraCommandMode[\"Fovy\"] = 1] = \"Fovy\";\n})(CameraCommandMode || (CameraCommandMode = {}));\nclass CameraCommand {\n    constructor() {\n        this.mode = CameraCommandMode.Menu;\n        this.finished = false;\n    }\n    handleInput(input) {\n        switch (this.mode) {\n            case CameraCommandMode.Menu:\n                this.handleMenuInput(input);\n                break;\n            case CameraCommandMode.Fovy:\n                this.handleFovyInput(input);\n                break;\n        }\n    }\n    handleClick(x, y) {\n    }\n    handleMouseMove(x, y) {\n    }\n    getInstructions() {\n        const fovy = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getFovy();\n        const fovyDegrees = (180.0 * fovy / Math.PI).toFixed(1);\n        switch (this.mode) {\n            case CameraCommandMode.Menu:\n                return `0:Exit,  1:FOVY(${fovyDegrees})  $`;\n            case CameraCommandMode.Fovy:\n                return `0:Exit,  Enter New FOVY(${fovyDegrees})  $`;\n            default:\n                console.error(\"Unimplemented CameraCommandMode\");\n                return \"\";\n        }\n    }\n    isFinished() {\n        return this.finished;\n    }\n    handleFovyInput(input) {\n        const inputNum = parseFloat(input);\n        if (inputNum === 0) {\n            this.mode = CameraCommandMode.Menu;\n        }\n        if (inputNum) {\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().setFovy(Math.PI * inputNum / 180.0);\n            this.mode = CameraCommandMode.Menu;\n        }\n    }\n    handleMenuInput(input) {\n        switch (input) {\n            case \"0\":\n            case \"exit\":\n                this.finished = true;\n                break;\n            case \"1\":\n            case \"fovy\":\n                this.mode = CameraCommandMode.Fovy;\n                break;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvY2FtZXJhQ29tbWFuZC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUVyQyxJQUFLLGlCQUdKO0FBSEQsV0FBSyxpQkFBaUI7SUFDcEIseURBQUk7SUFDSix5REFBSTtBQUNOLENBQUMsRUFISSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBR3JCO0FBRU0sTUFBTSxhQUFhO0lBS3hCO1FBQ0UsSUFBSSxDQUFDLElBQUksR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVNLFdBQVcsQ0FBQyxLQUFhO1FBQzlCLFFBQVEsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNqQixLQUFLLGlCQUFpQixDQUFDLElBQUk7Z0JBQ3pCLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzVCLE1BQU07WUFDUixLQUFLLGlCQUFpQixDQUFDLElBQUk7Z0JBQ3pCLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzVCLE1BQU07U0FDVDtJQUNILENBQUM7SUFFTSxXQUFXLENBQUMsQ0FBUyxFQUFFLENBQVM7SUFFdkMsQ0FBQztJQUVNLGVBQWUsQ0FBQyxDQUFTLEVBQUUsQ0FBUztJQUUzQyxDQUFDO0lBRU0sZUFBZTtRQUNwQixNQUFNLElBQUksR0FBVywwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQy9ELE1BQU0sV0FBVyxHQUFXLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLFFBQVEsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNqQixLQUFLLGlCQUFpQixDQUFDLElBQUk7Z0JBQ3pCLE9BQU8sbUJBQW1CLFdBQVcsTUFBTSxDQUFDO1lBQzlDLEtBQUssaUJBQWlCLENBQUMsSUFBSTtnQkFDekIsT0FBTywyQkFBMkIsV0FBVyxNQUFNLENBQUM7WUFDdEQ7Z0JBQ0UsT0FBTyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO2dCQUNqRCxPQUFPLEVBQUUsQ0FBQztTQUNiO0lBQ0gsQ0FBQztJQUVNLFVBQVU7UUFDZixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVPLGVBQWUsQ0FBQyxLQUFhO1FBQ25DLE1BQU0sUUFBUSxHQUF1QixVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkQsSUFBSSxRQUFRLEtBQUssQ0FBQyxFQUFFO1lBQ2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDO1NBQ3BDO1FBQ0QsSUFBSSxRQUFRLEVBQUU7WUFDWiwwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUNwRSxJQUFJLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQztTQUNwQztJQUNILENBQUM7SUFFTyxlQUFlLENBQUMsS0FBYTtRQUNuQyxRQUFRLEtBQUssRUFBRTtZQUNiLEtBQUssR0FBRyxDQUFDO1lBQUMsS0FBSyxNQUFNO2dCQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDckIsTUFBTTtZQUNSLEtBQUssR0FBRyxDQUFDO1lBQUMsS0FBSyxNQUFNO2dCQUNuQixJQUFJLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQztnQkFDbkMsTUFBTTtTQUNUO0lBQ0gsQ0FBQztDQUdGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvY2FtZXJhQ29tbWFuZC50cz81ZTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uLy4uL2NhZFwiO1xuXG5lbnVtIENhbWVyYUNvbW1hbmRNb2RlIHtcbiAgTWVudSxcbiAgRm92eSxcbn1cblxuZXhwb3J0IGNsYXNzIENhbWVyYUNvbW1hbmQge1xuXG4gIHByaXZhdGUgbW9kZTogQ2FtZXJhQ29tbWFuZE1vZGU7XG4gIHByaXZhdGUgZmluaXNoZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlID0gQ2FtZXJhQ29tbWFuZE1vZGUuTWVudTtcbiAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlSW5wdXQoaW5wdXQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIENhbWVyYUNvbW1hbmRNb2RlLk1lbnU6XG4gICAgICAgIHRoaXMuaGFuZGxlTWVudUlucHV0KGlucHV0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENhbWVyYUNvbW1hbmRNb2RlLkZvdnk6XG4gICAgICAgIHRoaXMuaGFuZGxlRm92eUlucHV0KGlucHV0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhhbmRsZUNsaWNrKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG5cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVNb3VzZU1vdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcblxuICB9XG5cbiAgcHVibGljIGdldEluc3RydWN0aW9ucygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZvdnk6IG51bWJlciA9IElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q2FtZXJhKCkuZ2V0Rm92eSgpO1xuICAgIGNvbnN0IGZvdnlEZWdyZWVzOiBzdHJpbmcgPSAoMTgwLjAgKiBmb3Z5IC8gTWF0aC5QSSkudG9GaXhlZCgxKTtcbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgY2FzZSBDYW1lcmFDb21tYW5kTW9kZS5NZW51OlxuICAgICAgICByZXR1cm4gYDA6RXhpdCwgIDE6Rk9WWSgke2ZvdnlEZWdyZWVzfSkgICRgO1xuICAgICAgY2FzZSBDYW1lcmFDb21tYW5kTW9kZS5Gb3Z5OlxuICAgICAgICByZXR1cm4gYDA6RXhpdCwgIEVudGVyIE5ldyBGT1ZZKCR7Zm92eURlZ3JlZXN9KSAgJGA7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5pbXBsZW1lbnRlZCBDYW1lcmFDb21tYW5kTW9kZVwiKTtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluaXNoZWQ7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUZvdnlJbnB1dChpbnB1dDogc3RyaW5nKSB7XG4gICAgY29uc3QgaW5wdXROdW06IG51bWJlciB8IHVuZGVmaW5lZCA9IHBhcnNlRmxvYXQoaW5wdXQpO1xuICAgIGlmIChpbnB1dE51bSA9PT0gMCkge1xuICAgICAgdGhpcy5tb2RlID0gQ2FtZXJhQ29tbWFuZE1vZGUuTWVudTtcbiAgICB9XG4gICAgaWYgKGlucHV0TnVtKSB7XG4gICAgICBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENhbWVyYSgpLnNldEZvdnkoTWF0aC5QSSAqIGlucHV0TnVtIC8gMTgwLjApO1xuICAgICAgdGhpcy5tb2RlID0gQ2FtZXJhQ29tbWFuZE1vZGUuTWVudTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1lbnVJbnB1dChpbnB1dDogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChpbnB1dCkge1xuICAgICAgY2FzZSBcIjBcIjogY2FzZSBcImV4aXRcIjpcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjFcIjogY2FzZSBcImZvdnlcIjpcbiAgICAgICAgdGhpcy5tb2RlID0gQ2FtZXJhQ29tbWFuZE1vZGUuRm92eTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/commands/commands/cameraCommand.ts\n");

/***/ }),

/***/ "./src/commands/commands/constructionPlaneCommand.ts":
/*!***********************************************************!*\
  !*** ./src/commands/commands/constructionPlaneCommand.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstructionPlaneCommand: () => (/* binding */ ConstructionPlaneCommand)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command */ \"./src/commands/command.ts\");\n\n\nvar ConstructionPlaneCommandMode;\n(function (ConstructionPlaneCommandMode) {\n    ConstructionPlaneCommandMode[ConstructionPlaneCommandMode[\"Menu\"] = 0] = \"Menu\";\n    ConstructionPlaneCommandMode[ConstructionPlaneCommandMode[\"ChangeMajorCount\"] = 1] = \"ChangeMajorCount\";\n    ConstructionPlaneCommandMode[ConstructionPlaneCommandMode[\"ChangeMinorCount\"] = 2] = \"ChangeMinorCount\";\n    ConstructionPlaneCommandMode[ConstructionPlaneCommandMode[\"ChangeSpacing\"] = 3] = \"ChangeSpacing\";\n})(ConstructionPlaneCommandMode || (ConstructionPlaneCommandMode = {}));\nclass ConstructionPlaneCommand extends _command__WEBPACK_IMPORTED_MODULE_1__.Command {\n    constructor() {\n        super();\n        this.mode = ConstructionPlaneCommandMode.Menu;\n        this.finished = false;\n    }\n    handleInput(input) {\n        switch (this.mode) {\n            case ConstructionPlaneCommandMode.Menu:\n                this.handleMenuInput(input);\n                break;\n            case ConstructionPlaneCommandMode.ChangeMajorCount:\n                this.changeMajorCount(input);\n                break;\n            case ConstructionPlaneCommandMode.ChangeMinorCount:\n                this.changeMinorCount(input);\n                break;\n            case ConstructionPlaneCommandMode.ChangeSpacing:\n                this.changeCellSize(input);\n                break;\n            default: console.error(\"Unhandled Mode\");\n        }\n    }\n    handleClick(x, y) {\n    }\n    getInstructions() {\n        const constructionPlane = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane();\n        const minorCount = constructionPlane.getMinorCount().toString();\n        const majorCount = constructionPlane.getMajorCount().toString();\n        const cellSize = constructionPlane.getCellSize().toFixed(2);\n        switch (this.mode) {\n            case ConstructionPlaneCommandMode.Menu:\n                return `0:Exit,  1:MajorCount(${majorCount}),  2:MinorCount(${minorCount}),  3:CellSize(${cellSize})  $`;\n            case ConstructionPlaneCommandMode.ChangeMajorCount:\n                return `0:Exit,  Enter New Major Count(${majorCount})  $`;\n            case ConstructionPlaneCommandMode.ChangeMinorCount:\n                return `0:Exit,  Enter New Minor Count(${minorCount})  $`;\n            case ConstructionPlaneCommandMode.ChangeSpacing:\n                return `0:Exit,  Enter New Cell Size(${cellSize})  $`;\n            default: console.error(\"Unhandled Mode\");\n        }\n        return \"\";\n    }\n    isFinished() {\n        return this.finished;\n    }\n    handleMouseMove(x, y) {\n    }\n    handleMenuInput(input) {\n        switch (input) {\n            case \"0\":\n            case \"exit\":\n                this.finished = true;\n                return;\n            case \"1\":\n            case \"majorcount\":\n                this.mode = ConstructionPlaneCommandMode.ChangeMajorCount;\n                return;\n            case \"2\":\n            case \"minorcount\":\n                this.mode = ConstructionPlaneCommandMode.ChangeMinorCount;\n                return;\n            case \"3\":\n            case \"cellspacing\":\n                this.mode = ConstructionPlaneCommandMode.ChangeSpacing;\n                return;\n        }\n    }\n    changeMajorCount(input) {\n        if (input === '0' || input === \"exit\") {\n            this.mode = ConstructionPlaneCommandMode.Menu;\n        }\n        const count = parseInt(input);\n        if (count) {\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setMajorCount(count);\n            this.mode = ConstructionPlaneCommandMode.Menu;\n        }\n    }\n    changeMinorCount(input) {\n        if (input === '0' || input === \"exit\") {\n            this.mode = ConstructionPlaneCommandMode.Menu;\n        }\n        const count = parseInt(input);\n        if (count) {\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setMinorCount(count);\n            this.mode = ConstructionPlaneCommandMode.Menu;\n        }\n    }\n    changeCellSize(input) {\n        if (input === '0' || input === \"exit\") {\n            this.mode = ConstructionPlaneCommandMode.Menu;\n        }\n        const size = parseFloat(input);\n        if (size) {\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setCellSize(size);\n            this.mode = ConstructionPlaneCommandMode.Menu;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvY29uc3RydWN0aW9uUGxhbmVDb21tYW5kLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUNEO0FBR3BDLElBQUssNEJBS0o7QUFMRCxXQUFLLDRCQUE0QjtJQUMvQiwrRUFBSTtJQUNKLHVHQUFnQjtJQUNoQix1R0FBZ0I7SUFDaEIsaUdBQWE7QUFDZixDQUFDLEVBTEksNEJBQTRCLEtBQTVCLDRCQUE0QixRQUtoQztBQUVNLE1BQU0sd0JBQXlCLFNBQVEsNkNBQU87SUFLbkQ7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxJQUFJLEdBQUcsNEJBQTRCLENBQUMsSUFBSSxDQUFDO1FBQzlDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBYTtRQUM5QixRQUFRLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDakIsS0FBSyw0QkFBNEIsQ0FBQyxJQUFJO2dCQUNwQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1QixNQUFNO1lBQ1IsS0FBSyw0QkFBNEIsQ0FBQyxnQkFBZ0I7Z0JBQ2hELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDN0IsTUFBTTtZQUNSLEtBQUssNEJBQTRCLENBQUMsZ0JBQWdCO2dCQUNoRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzdCLE1BQUs7WUFDUCxLQUFLLDRCQUE0QixDQUFDLGFBQWE7Z0JBQzdDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzNCLE1BQUs7WUFDUCxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDMUM7SUFDSCxDQUFDO0lBRU0sV0FBVyxDQUFDLENBQVMsRUFBRSxDQUFTO0lBRXZDLENBQUM7SUFFTSxlQUFlO1FBQ3BCLE1BQU0saUJBQWlC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QTRCLENBQUMsSUFBSSxDQUFDO1NBQy9DO0lBQ0gsQ0FBQztJQUVPLGNBQWMsQ0FBQyxLQUFhO1FBQ2xDLElBQUksS0FBSyxLQUFLLEdBQUcsSUFBSSxLQUFLLEtBQUssTUFBTSxFQUFFO1lBQ3JDLElBQUksQ0FBQyxJQUFJLEdBQUcsNEJBQTRCLENBQUMsSUFBSSxDQUFDO1NBQy9DO1FBQ0QsTUFBTSxJQUFJLEdBQXVCLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLElBQUksRUFBRTtZQUNSLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLElBQUksR0FBRyw0QkFBNEIsQ0FBQyxJQUFJLENBQUM7U0FDL0M7SUFDSCxDQUFDO0NBRUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9jb21tYW5kcy9jb21tYW5kcy9jb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmQudHM/YTYwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi8uLi9jYWRcIjtcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZFwiXG5cblxuZW51bSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlIHtcbiAgTWVudSxcbiAgQ2hhbmdlTWFqb3JDb3VudCxcbiAgQ2hhbmdlTWlub3JDb3VudCxcbiAgQ2hhbmdlU3BhY2luZyxcbn1cblxuZXhwb3J0IGNsYXNzIENvbnN0cnVjdGlvblBsYW5lQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuXG4gIHByaXZhdGUgbW9kZTogQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZTtcbiAgcHJpdmF0ZSBmaW5pc2hlZDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubW9kZSA9IENvbnN0cnVjdGlvblBsYW5lQ29tbWFuZE1vZGUuTWVudTtcbiAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlSW5wdXQoaW5wdXQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIENvbnN0cnVjdGlvblBsYW5lQ29tbWFuZE1vZGUuTWVudTpcbiAgICAgICAgdGhpcy5oYW5kbGVNZW51SW5wdXQoaW5wdXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZS5DaGFuZ2VNYWpvckNvdW50OlxuICAgICAgICB0aGlzLmNoYW5nZU1ham9yQ291bnQoaW5wdXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZS5DaGFuZ2VNaW5vckNvdW50OlxuICAgICAgICB0aGlzLmNoYW5nZU1pbm9yQ291bnQoaW5wdXQpO1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLkNoYW5nZVNwYWNpbmc6XG4gICAgICAgIHRoaXMuY2hhbmdlQ2VsbFNpemUoaW5wdXQpO1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDogY29uc29sZS5lcnJvcihcIlVuaGFuZGxlZCBNb2RlXCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuXG4gIH1cblxuICBwdWJsaWMgZ2V0SW5zdHJ1Y3Rpb25zKCk6IHN0cmluZyB7XG4gICAgY29uc3QgY29uc3RydWN0aW9uUGxhbmUgPSBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENvbnN0cnVjdGlvblBsYW5lKCk7XG4gICAgY29uc3QgbWlub3JDb3VudDogc3RyaW5nID0gY29uc3RydWN0aW9uUGxhbmUuZ2V0TWlub3JDb3VudCgpLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgbWFqb3JDb3VudDogc3RyaW5nID0gY29uc3RydWN0aW9uUGxhbmUuZ2V0TWFqb3JDb3VudCgpLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgY2VsbFNpemU6IHN0cmluZyA9IGNvbnN0cnVjdGlvblBsYW5lLmdldENlbGxTaXplKCkudG9GaXhlZCgyKTtcbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgY2FzZSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLk1lbnU6XG4gICAgICAgIHJldHVybiBgMDpFeGl0LCAgMTpNYWpvckNvdW50KCR7bWFqb3JDb3VudH0pLCAgMjpNaW5vckNvdW50KCR7bWlub3JDb3VudH0pLCAgMzpDZWxsU2l6ZSgke2NlbGxTaXplfSkgICRgO1xuICAgICAgY2FzZSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLkNoYW5nZU1ham9yQ291bnQ6XG4gICAgICAgIHJldHVybiBgMDpFeGl0LCAgRW50ZXIgTmV3IE1ham9yIENvdW50KCR7bWFqb3JDb3VudH0pICAkYDtcbiAgICAgIGNhc2UgQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZS5DaGFuZ2VNaW5vckNvdW50OlxuICAgICAgICByZXR1cm4gYDA6RXhpdCwgIEVudGVyIE5ldyBNaW5vciBDb3VudCgke21pbm9yQ291bnR9KSAgJGA7XG4gICAgICBjYXNlIENvbnN0cnVjdGlvblBsYW5lQ29tbWFuZE1vZGUuQ2hhbmdlU3BhY2luZzpcbiAgICAgICAgcmV0dXJuIGAwOkV4aXQsICBFbnRlciBOZXcgQ2VsbCBTaXplKCR7Y2VsbFNpemV9KSAgJGA7XG4gICAgICBkZWZhdWx0OiBjb25zb2xlLmVycm9yKFwiVW5oYW5kbGVkIE1vZGVcIik7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgcHVibGljIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluaXNoZWQ7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlTW91c2VNb3ZlKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG5cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWVudUlucHV0KGlucHV0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGlucHV0KSB7XG4gICAgICBjYXNlIFwiMFwiOiBjYXNlIFwiZXhpdFwiOlxuICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIjFcIjogY2FzZSBcIm1ham9yY291bnRcIjpcbiAgICAgICAgdGhpcy5tb2RlID0gQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZS5DaGFuZ2VNYWpvckNvdW50O1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFwiMlwiOiBjYXNlIFwibWlub3Jjb3VudFwiOlxuICAgICAgICB0aGlzLm1vZGUgPSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLkNoYW5nZU1pbm9yQ291bnQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCIzXCI6IGNhc2UgXCJjZWxsc3BhY2luZ1wiOlxuICAgICAgICB0aGlzLm1vZGUgPSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLkNoYW5nZVNwYWNpbmc7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoYW5nZU1ham9yQ291bnQoaW5wdXQ6IHN0cmluZykge1xuICAgIGlmIChpbnB1dCA9PT0gJzAnIHx8IGlucHV0ID09PSBcImV4aXRcIikge1xuICAgICAgdGhpcy5tb2RlID0gQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZS5NZW51O1xuICAgIH1cbiAgICBjb25zdCBjb3VudDogbnVtYmVyIHwgdW5kZWZpbmVkID0gcGFyc2VJbnQoaW5wdXQpO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDb25zdHJ1Y3Rpb25QbGFuZSgpLnNldE1ham9yQ291bnQoY291bnQpO1xuICAgICAgdGhpcy5tb2RlID0gQ29uc3RydWN0aW9uUGxhbmVDb21tYW5kTW9kZS5NZW51O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2hhbmdlTWlub3JDb3VudChpbnB1dDogc3RyaW5nKSB7XG4gICAgaWYgKGlucHV0ID09PSAnMCcgfHwgaW5wdXQgPT09IFwiZXhpdFwiKSB7XG4gICAgICB0aGlzLm1vZGUgPSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLk1lbnU7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50OiBudW1iZXIgfCB1bmRlZmluZWQgPSBwYXJzZUludChpbnB1dCk7XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENvbnN0cnVjdGlvblBsYW5lKCkuc2V0TWlub3JDb3VudChjb3VudCk7XG4gICAgICB0aGlzLm1vZGUgPSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLk1lbnU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGFuZ2VDZWxsU2l6ZShpbnB1dDogc3RyaW5nKSB7XG4gICAgaWYgKGlucHV0ID09PSAnMCcgfHwgaW5wdXQgPT09IFwiZXhpdFwiKSB7XG4gICAgICB0aGlzLm1vZGUgPSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLk1lbnU7XG4gICAgfVxuICAgIGNvbnN0IHNpemU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHBhcnNlRmxvYXQoaW5wdXQpO1xuICAgIGlmIChzaXplKSB7XG4gICAgICBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENvbnN0cnVjdGlvblBsYW5lKCkuc2V0Q2VsbFNpemUoc2l6ZSk7XG4gICAgICB0aGlzLm1vZGUgPSBDb25zdHJ1Y3Rpb25QbGFuZUNvbW1hbmRNb2RlLk1lbnU7XG4gICAgfVxuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/commands/commands/constructionPlaneCommand.ts\n");

/***/ }),

/***/ "./src/commands/commands/curveCommand.ts":
/*!***********************************************!*\
  !*** ./src/commands/commands/curveCommand.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CurveCommand: () => (/* binding */ CurveCommand)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n/* harmony import */ var _geometry_nurbs_curve__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/nurbs/curve */ \"./src/geometry/nurbs/curve.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command */ \"./src/commands/command.ts\");\n\n\n\n\nvar CurveCommandMode;\n(function (CurveCommandMode) {\n    CurveCommandMode[CurveCommandMode[\"AddPoints\"] = 0] = \"AddPoints\";\n    CurveCommandMode[CurveCommandMode[\"ChangeDegree\"] = 1] = \"ChangeDegree\";\n})(CurveCommandMode || (CurveCommandMode = {}));\nclass CurveCommand extends _command__WEBPACK_IMPORTED_MODULE_2__.Command {\n    constructor() {\n        super();\n        this.finished = false;\n        this.curve = null;\n        this.degree = 2;\n        this.mode = CurveCommandMode.AddPoints;\n    }\n    handleInput(input) {\n        var _a, _b;\n        if (this.mode === CurveCommandMode.AddPoints) {\n            switch (input) {\n                case \"0\":\n                    (_a = this.curve) === null || _a === void 0 ? void 0 : _a.destroy();\n                    this.finished = true;\n                    break;\n                case \"1\":\n                    this.mode = CurveCommandMode.ChangeDegree;\n                    break;\n                case \"\":\n                    if (this.curve != null) {\n                        if (this.curve.getControlPointCount() < 3)\n                            this.curve.destroy();\n                        else {\n                            this.curve.removeLastControlPoint();\n                            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addGeometry(this.curve);\n                        }\n                    }\n                    this.finished = true;\n                    break;\n            }\n        }\n        else if (this.mode === CurveCommandMode.ChangeDegree) {\n            switch (input) {\n                case \"0\":\n                case \"\":\n                    break;\n                default:\n                    const degree = parseInt(input);\n                    if (degree) {\n                        this.degree = degree;\n                        (_b = this.curve) === null || _b === void 0 ? void 0 : _b.elevateDegree(Math.min(this.curve.getControlPointCount() - 1, this.degree));\n                    }\n                    break;\n            }\n            this.mode = CurveCommandMode.AddPoints;\n        }\n    }\n    handleClick(x, y) {\n        const ray = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getRayAtPixel(x, y);\n        const t = ray.intersectScene(_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene());\n        if (t && t > 0.0) { // click intersected scene\n            const point = ray.at(t);\n            if (this.curve) {\n                this.curve.updateLastControlPoint(point, 1);\n                this.curve.addControlPoint(point, 1);\n                if (this.curve.getDegree() < this.degree)\n                    this.curve.elevateDegree(1);\n            }\n            else {\n                this.curve = new _geometry_nurbs_curve__WEBPACK_IMPORTED_MODULE_1__.Curve([wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(...point, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(...point, 1)], 1);\n            }\n        }\n    }\n    handleMouseMove(x, y) {\n        if (this.curve) {\n            const ray = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getRayAtPixel(x, y);\n            const t = ray.intersectScene(_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene());\n            if (t && t > 0.0) { // click intersected scene\n                this.curve.updateLastControlPoint(ray.at(t), 1);\n            }\n        }\n    }\n    getInstructions() {\n        switch (this.mode) {\n            case CurveCommandMode.AddPoints:\n                if (this.curve == null)\n                    return `Exit:0  Degree(${this.degree}):1  Click start point.  $`;\n                return `Exit:0  Degree(${this.degree}):1  Click next point.  $`;\n            case CurveCommandMode.ChangeDegree:\n                return `Exit:0  Enter New Degree(${this.degree})  $`;\n            default:\n                return \"\";\n        }\n    }\n    isFinished() {\n        return this.finished;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixLQUFLLGdCQUFnQixDQUFDLFNBQVM7Z0JBQzdCLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJO29CQUNwQixPQUFPLGtCQUFrQixJQUFJLENBQUMsTUFBTSw0QkFBNEIsQ0FBQztnQkFDbkUsT0FBTyxrQkFBa0IsSUFBSSxDQUFDLE1BQU0sMkJBQTJCLENBQUM7WUFDbEUsS0FBSyxnQkFBZ0IsQ0FBQyxZQUFZO2dCQUNoQyxPQUFPLDRCQUE0QixJQUFJLENBQUMsTUFBTSxNQUFNLENBQUM7WUFDdkQ7Z0JBQ0UsT0FBTyxFQUFFLENBQUM7U0FDYjtJQUNILENBQUM7SUFFTSxVQUFVO1FBQ2YsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3ZCLENBQUM7Q0FHRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2NvbW1hbmRzL2NvbW1hbmRzL2N1cnZlQ29tbWFuZC50cz8wMGI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlYzMsIHZlYzQgfSBmcm9tIFwid2dwdS1tYXRyaXhcIjtcbmltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uLy4uL2NhZFwiO1xuaW1wb3J0IHsgQ3VydmUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvbnVyYnMvY3VydmVcIjtcbmltcG9ydCB7IFJheSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yYXlcIjtcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZFwiO1xuXG5cbmVudW0gQ3VydmVDb21tYW5kTW9kZSB7XG4gIEFkZFBvaW50cyxcbiAgQ2hhbmdlRGVncmVlLFxufVxuXG5leHBvcnQgY2xhc3MgQ3VydmVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG5cbiAgcHJpdmF0ZSBmaW5pc2hlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBkZWdyZWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBjdXJ2ZTogQ3VydmUgfCBudWxsO1xuICBwcml2YXRlIG1vZGU6IEN1cnZlQ29tbWFuZE1vZGU7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5jdXJ2ZSA9IG51bGw7XG4gICAgdGhpcy5kZWdyZWUgPSAyO1xuICAgIHRoaXMubW9kZSA9IEN1cnZlQ29tbWFuZE1vZGUuQWRkUG9pbnRzO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUlucHV0KGlucHV0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2RlID09PSBDdXJ2ZUNvbW1hbmRNb2RlLkFkZFBvaW50cykge1xuICAgICAgc3dpdGNoIChpbnB1dCkge1xuICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgIHRoaXMuY3VydmU/LmRlc3Ryb3koKTtcbiAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICB0aGlzLm1vZGUgPSBDdXJ2ZUNvbW1hbmRNb2RlLkNoYW5nZURlZ3JlZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgIGlmICh0aGlzLmN1cnZlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnZlLmdldENvbnRyb2xQb2ludENvdW50KCkgPCAzKSB0aGlzLmN1cnZlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmN1cnZlLnJlbW92ZUxhc3RDb250cm9sUG9pbnQoKTtcbiAgICAgICAgICAgICAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5hZGRHZW9tZXRyeSh0aGlzLmN1cnZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09IEN1cnZlQ29tbWFuZE1vZGUuQ2hhbmdlRGVncmVlKSB7XG4gICAgICBzd2l0Y2ggKGlucHV0KSB7XG4gICAgICAgIGNhc2UgXCIwXCI6IGNhc2UgXCJcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zdCBkZWdyZWU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHBhcnNlSW50KGlucHV0KTtcbiAgICAgICAgICBpZiAoZGVncmVlKSB7XG4gICAgICAgICAgICB0aGlzLmRlZ3JlZSA9IGRlZ3JlZTtcbiAgICAgICAgICAgIHRoaXMuY3VydmU/LmVsZXZhdGVEZWdyZWUoTWF0aC5taW4odGhpcy5jdXJ2ZS5nZXRDb250cm9sUG9pbnRDb3VudCgpIC0gMSwgdGhpcy5kZWdyZWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLm1vZGUgPSBDdXJ2ZUNvbW1hbmRNb2RlLkFkZFBvaW50cztcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQ2xpY2soeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCByYXk6IFJheSA9IElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q2FtZXJhKCkuZ2V0UmF5QXRQaXhlbCh4LCB5KTtcbiAgICBjb25zdCB0OiBudW1iZXIgfCBudWxsID0gcmF5LmludGVyc2VjdFNjZW5lKElOU1RBTkNFLmdldFNjZW5lKCkpO1xuICAgIGlmICh0ICYmIHQgPiAwLjApIHsgLy8gY2xpY2sgaW50ZXJzZWN0ZWQgc2NlbmVcbiAgICAgIGNvbnN0IHBvaW50OiBWZWMzID0gcmF5LmF0KHQpO1xuICAgICAgaWYgKHRoaXMuY3VydmUpIHtcbiAgICAgICAgdGhpcy5jdXJ2ZS51cGRhdGVMYXN0Q29udHJvbFBvaW50KHBvaW50LCAxKTtcbiAgICAgICAgdGhpcy5jdXJ2ZS5hZGRDb250cm9sUG9pbnQocG9pbnQsIDEpO1xuICAgICAgICBpZiAodGhpcy5jdXJ2ZS5nZXREZWdyZWUoKSA8IHRoaXMuZGVncmVlKSB0aGlzLmN1cnZlLmVsZXZhdGVEZWdyZWUoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnZlID0gbmV3IEN1cnZlKFxuICAgICAgICAgIFt2ZWM0LmNyZWF0ZSguLi5wb2ludCwgMSksIHZlYzQuY3JlYXRlKC4uLnBvaW50LCAxKV0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhhbmRsZU1vdXNlTW92ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnZlKSB7XG4gICAgICBjb25zdCByYXk6IFJheSA9IElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q2FtZXJhKCkuZ2V0UmF5QXRQaXhlbCh4LCB5KTtcbiAgICAgIGNvbnN0IHQ6IG51bWJlciB8IG51bGwgPSByYXkuaW50ZXJzZWN0U2NlbmUoSU5TVEFOQ0UuZ2V0U2NlbmUoKSk7XG4gICAgICBpZiAodCAmJiB0ID4gMC4wKSB7IC8vIGNsaWNrIGludGVyc2VjdGVkIHNjZW5lXG4gICAgICAgIHRoaXMuY3VydmUudXBkYXRlTGFzdENvbnRyb2xQb2ludChyYXkuYXQodCksIDEpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEluc3RydWN0aW9ucygpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIEN1cnZlQ29tbWFuZE1vZGUuQWRkUG9pbnRzOlxuICAgICAgICBpZiAodGhpcy5jdXJ2ZSA9PSBudWxsKVxuICAgICAgICAgIHJldHVybiBgRXhpdDowICBEZWdyZWUoJHt0aGlzLmRlZ3JlZX0pOjEgIENsaWNrIHN0YXJ0IHBvaW50LiAgJGA7XG4gICAgICAgIHJldHVybiBgRXhpdDowICBEZWdyZWUoJHt0aGlzLmRlZ3JlZX0pOjEgIENsaWNrIG5leHQgcG9pbnQuICAkYDtcbiAgICAgIGNhc2UgQ3VydmVDb21tYW5kTW9kZS5DaGFuZ2VEZWdyZWU6XG4gICAgICAgIHJldHVybiBgRXhpdDowICBFbnRlciBOZXcgRGVncmVlKCR7dGhpcy5kZWdyZWV9KSAgJGA7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaXNGaW5pc2hlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5pc2hlZDtcbiAgfVxuXG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/commands/commands/curveCommand.ts\n");

/***/ }),

/***/ "./src/commands/commands/lineCommand.ts":
/*!**********************************************!*\
  !*** ./src/commands/commands/lineCommand.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineCommand: () => (/* binding */ LineCommand)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/line */ \"./src/geometry/line.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command */ \"./src/commands/command.ts\");\n\n\n\nclass LineCommand extends _command__WEBPACK_IMPORTED_MODULE_2__.Command {\n    constructor() {\n        super();\n        this.finished = false;\n        this.line = null;\n    }\n    handleInput(input) {\n        switch (input) {\n            case \"0\":\n            case \"\":\n                if (this.line)\n                    this.line.delete();\n                this.finished = true;\n                break;\n        }\n        // todo\n    }\n    handleMouseMove(x, y) {\n        if (this.line) {\n            const ray = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getRayAtPixel(x, y);\n            const t = ray.intersectScene(_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene());\n            if (t && t > 0.0) { // click intersected scene\n                const point = ray.at(t);\n                this.line.updateEnd(point);\n            }\n        }\n    }\n    handleClick(x, y) {\n        const ray = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getRayAtPixel(x, y);\n        const t = ray.intersectScene(_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene());\n        if (t && t > 0.0) { // click intersected scene\n            const point = ray.at(t);\n            if (this.line) {\n                this.line.updateEnd(point);\n                _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addGeometry(this.line);\n                this.finished = true;\n            }\n            else {\n                this.line = new _geometry_line__WEBPACK_IMPORTED_MODULE_1__.Line(point, point, [1, 0, 0, 1]);\n            }\n        }\n    }\n    getInstructions() {\n        if (this.line) {\n            return \"Exit:0  Click or type end point.  $\";\n        }\n        else {\n            return \"Exit:0  Click or type start point.  $\";\n        }\n    }\n    isFinished() {\n        return this.finished;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvbGluZUNvbW1hbmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNxQztBQUNNO0FBRU47QUFHOUIsTUFBTSxXQUFZLFNBQVEsNkNBQU87SUFLdEM7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBYTtRQUM5QixRQUFRLEtBQUssRUFBRTtZQUNiLEtBQUssR0FBRyxDQUFDO1lBQUMsS0FBSyxFQUFFO2dCQUNmLElBQUksSUFBSSxDQUFDLElBQUk7b0JBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3JCLE1BQU07U0FDVDtRQUVELE9BQU87SUFDVCxDQUFDO0lBRU0sZUFBZSxDQUFDLENBQVMsRUFBRSxDQUFTO1FBQ3pDLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNiLE1BQU0sR0FBRyxHQUFRLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyRSxNQUFNLENBQUMsR0FBa0IsR0FBRyxDQUFDLGNBQWMsQ0FBQywwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxFQUFFLDBCQUEwQjtnQkFDNUMsTUFBTSxLQUFLLEdBQVMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDNUI7U0FDRjtJQUNILENBQUM7SUFFTSxXQUFXLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFFckMsTUFBTSxHQUFHLEdBQVEsMENBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLE1BQU0sQ0FBQyxHQUFrQixHQUFHLENBQUMsY0FBYyxDQUFDLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsMEJBQTBCO1lBQzVDLE1BQU0sS0FBSyxHQUFTLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMzQiwwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzNDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2FBQ3RCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxnREFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2xEO1NBQ0Y7SUFDSCxDQUFDO0lBRU0sZUFBZTtRQUNwQixJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDYixPQUFPLHFDQUFxQyxDQUFDO1NBQzlDO2FBQU07WUFDTCxPQUFPLHVDQUF1QyxDQUFDO1NBQ2hEO0lBQ0gsQ0FBQztJQUVNLFVBQVU7UUFDZixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztDQUdGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvbGluZUNvbW1hbmQudHM/ZTE4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWMzIH0gZnJvbSBcIndncHUtbWF0cml4XCI7XG5pbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi8uLi9jYWRcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvbGluZVwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JheVwiO1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kXCI7XG5cblxuZXhwb3J0IGNsYXNzIExpbmVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG5cbiAgcHJpdmF0ZSBmaW5pc2hlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBsaW5lOiBMaW5lIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxpbmUgPSBudWxsO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUlucHV0KGlucHV0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGlucHV0KSB7XG4gICAgICBjYXNlIFwiMFwiOiBjYXNlIFwiXCI6XG4gICAgICAgIGlmICh0aGlzLmxpbmUpIHRoaXMubGluZS5kZWxldGUoKTtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIHRvZG9cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVNb3VzZU1vdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saW5lKSB7XG4gICAgICBjb25zdCByYXk6IFJheSA9IElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q2FtZXJhKCkuZ2V0UmF5QXRQaXhlbCh4LCB5KTtcbiAgICAgIGNvbnN0IHQ6IG51bWJlciB8IG51bGwgPSByYXkuaW50ZXJzZWN0U2NlbmUoSU5TVEFOQ0UuZ2V0U2NlbmUoKSk7XG4gICAgICBpZiAodCAmJiB0ID4gMC4wKSB7IC8vIGNsaWNrIGludGVyc2VjdGVkIHNjZW5lXG4gICAgICAgIGNvbnN0IHBvaW50OiBWZWMzID0gcmF5LmF0KHQpO1xuICAgICAgICB0aGlzLmxpbmUudXBkYXRlRW5kKHBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQ2xpY2soeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcblxuICAgIGNvbnN0IHJheTogUmF5ID0gSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDYW1lcmEoKS5nZXRSYXlBdFBpeGVsKHgsIHkpO1xuICAgIGNvbnN0IHQ6IG51bWJlciB8IG51bGwgPSByYXkuaW50ZXJzZWN0U2NlbmUoSU5TVEFOQ0UuZ2V0U2NlbmUoKSk7XG4gICAgaWYgKHQgJiYgdCA+IDAuMCkgeyAvLyBjbGljayBpbnRlcnNlY3RlZCBzY2VuZVxuICAgICAgY29uc3QgcG9pbnQ6IFZlYzMgPSByYXkuYXQodCk7XG4gICAgICBpZiAodGhpcy5saW5lKSB7XG4gICAgICAgIHRoaXMubGluZS51cGRhdGVFbmQocG9pbnQpO1xuICAgICAgICBJTlNUQU5DRS5nZXRTY2VuZSgpLmFkZEdlb21ldHJ5KHRoaXMubGluZSk7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5saW5lID0gbmV3IExpbmUocG9pbnQsIHBvaW50LCBbMSwgMCwgMCwgMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRJbnN0cnVjdGlvbnMoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5saW5lKSB7XG4gICAgICByZXR1cm4gXCJFeGl0OjAgIENsaWNrIG9yIHR5cGUgZW5kIHBvaW50LiAgJFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJFeGl0OjAgIENsaWNrIG9yIHR5cGUgc3RhcnQgcG9pbnQuICAkXCI7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluaXNoZWQ7XG4gIH1cblxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/commands/commands/lineCommand.ts\n");

/***/ }),

/***/ "./src/commands/commands/polylineCommand.ts":
/*!**************************************************!*\
  !*** ./src/commands/commands/polylineCommand.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PolyLineCommand: () => (/* binding */ PolyLineCommand)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n/* harmony import */ var _geometry_polyLine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/polyLine */ \"./src/geometry/polyLine.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command */ \"./src/commands/command.ts\");\n\n\n\nclass PolyLineCommand extends _command__WEBPACK_IMPORTED_MODULE_2__.Command {\n    constructor() {\n        super();\n        this.polyline = null;\n        this.finished = false;\n    }\n    handleInput(input) {\n        switch (input) {\n            case \"0\":\n                if (this.polyline)\n                    this.polyline.delete();\n                this.finished = true;\n            case \"\":\n                if (this.polyline) {\n                    if (this.polyline.getSegmentCount() < 2)\n                        this.polyline.delete();\n                    else {\n                        this.polyline.removeLastPoint();\n                        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addGeometry(this.polyline);\n                    }\n                }\n                this.finished = true;\n                break;\n        }\n    }\n    handleClick(x, y) {\n        const ray = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getRayAtPixel(x, y);\n        const t = ray.intersectScene(_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene());\n        if (t && t > 0.0) { // click intersected scene\n            const point = ray.at(t);\n            if (this.polyline) {\n                this.polyline.updateLastPoint(point);\n                this.polyline.addPoint(point);\n            }\n            else {\n                this.polyline = new _geometry_polyLine__WEBPACK_IMPORTED_MODULE_1__.PolyLine([point, point], [1, 0, 0, 1]);\n            }\n        }\n    }\n    handleMouseMove(x, y) {\n        if (this.polyline) {\n            const ray = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getRayAtPixel(x, y);\n            const t = ray.intersectScene(_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene());\n            if (t && t > 0.0) { // click intersected scene\n                const point = ray.at(t);\n                this.polyline.updateLastPoint(point);\n            }\n        }\n    }\n    getInstructions() {\n        if (this.polyline) {\n            return \"Exit:0  click or type next point  $\";\n        }\n        else {\n            return \"Exit:0  click or type start point  $\";\n        }\n    }\n    isFinished() {\n        return this.finished;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvcG9seWxpbmVDb21tYW5kLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDcUM7QUFDYztBQUVkO0FBRTlCLE1BQU0sZUFBZ0IsU0FBUSw2Q0FBTztJQUsxQztRQUNFLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVNLFdBQVcsQ0FBQyxLQUFhO1FBQzlCLFFBQVEsS0FBSyxFQUFFO1lBQ2IsS0FBSyxHQUFHO2dCQUNOLElBQUksSUFBSSxDQUFDLFFBQVE7b0JBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDdkIsS0FBSyxFQUFFO2dCQUNMLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDakIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUM7d0JBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQzt5QkFDM0Q7d0JBQ0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsQ0FBQzt3QkFDaEMsMENBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3FCQUNoRDtpQkFDRjtnQkFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDckIsTUFBTTtTQUNUO0lBQ0gsQ0FBQztJQUVNLFdBQVcsQ0FBQyxDQUFTLEVBQUUsQ0FBUztRQUNyQyxNQUFNLEdBQUcsR0FBUSwwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDckUsTUFBTSxDQUFDLEdBQWtCLEdBQUcsQ0FBQyxjQUFjLENBQUMsMENBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSwwQkFBMEI7WUFDNUMsTUFBTSxLQUFLLEdBQVMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMvQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksd0RBQVEsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDNUQ7U0FDRjtJQUVILENBQUM7SUFFTSxlQUFlLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDekMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLE1BQU0sR0FBRyxHQUFRLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyRSxNQUFNLENBQUMsR0FBa0IsR0FBRyxDQUFDLGNBQWMsQ0FBQywwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxFQUFFLDBCQUEwQjtnQkFDNUMsTUFBTSxLQUFLLEdBQVMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDdEM7U0FDRjtJQUNILENBQUM7SUFFTSxlQUFlO1FBQ3BCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixPQUFPLHFDQUFxQyxDQUFDO1NBQzlDO2FBQU07WUFDTCxPQUFPLHNDQUFzQyxDQUFDO1NBQy9DO0lBQ0gsQ0FBQztJQUVNLFVBQVU7UUFDZixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztDQUdGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvY29tbWFuZHMvY29tbWFuZHMvcG9seWxpbmVDb21tYW5kLnRzPzEwN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVjMyB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiO1xuaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vLi4vY2FkXCI7XG5pbXBvcnQgeyBQb2x5TGluZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9wb2x5TGluZVwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JheVwiO1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kXCI7XG5cbmV4cG9ydCBjbGFzcyBQb2x5TGluZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICBwcml2YXRlIHBvbHlsaW5lOiBQb2x5TGluZSB8IG51bGw7XG4gIHByaXZhdGUgZmluaXNoZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBvbHlsaW5lID0gbnVsbDtcbiAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlSW5wdXQoaW5wdXQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAoaW5wdXQpIHtcbiAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgIGlmICh0aGlzLnBvbHlsaW5lKSB0aGlzLnBvbHlsaW5lLmRlbGV0ZSgpO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgaWYgKHRoaXMucG9seWxpbmUpIHtcbiAgICAgICAgICBpZiAodGhpcy5wb2x5bGluZS5nZXRTZWdtZW50Q291bnQoKSA8IDIpIHRoaXMucG9seWxpbmUuZGVsZXRlKCk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvbHlsaW5lLnJlbW92ZUxhc3RQb2ludCgpO1xuICAgICAgICAgICAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5hZGRHZW9tZXRyeSh0aGlzLnBvbHlsaW5lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHJheTogUmF5ID0gSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDYW1lcmEoKS5nZXRSYXlBdFBpeGVsKHgsIHkpO1xuICAgIGNvbnN0IHQ6IG51bWJlciB8IG51bGwgPSByYXkuaW50ZXJzZWN0U2NlbmUoSU5TVEFOQ0UuZ2V0U2NlbmUoKSk7XG4gICAgaWYgKHQgJiYgdCA+IDAuMCkgeyAvLyBjbGljayBpbnRlcnNlY3RlZCBzY2VuZVxuICAgICAgY29uc3QgcG9pbnQ6IFZlYzMgPSByYXkuYXQodCk7XG4gICAgICBpZiAodGhpcy5wb2x5bGluZSkge1xuICAgICAgICB0aGlzLnBvbHlsaW5lLnVwZGF0ZUxhc3RQb2ludChwb2ludCk7XG4gICAgICAgIHRoaXMucG9seWxpbmUuYWRkUG9pbnQocG9pbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wb2x5bGluZSA9IG5ldyBQb2x5TGluZShbcG9pbnQsIHBvaW50XSwgWzEsIDAsIDAsIDFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVNb3VzZU1vdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wb2x5bGluZSkge1xuICAgICAgY29uc3QgcmF5OiBSYXkgPSBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENhbWVyYSgpLmdldFJheUF0UGl4ZWwoeCwgeSk7XG4gICAgICBjb25zdCB0OiBudW1iZXIgfCBudWxsID0gcmF5LmludGVyc2VjdFNjZW5lKElOU1RBTkNFLmdldFNjZW5lKCkpO1xuICAgICAgaWYgKHQgJiYgdCA+IDAuMCkgeyAvLyBjbGljayBpbnRlcnNlY3RlZCBzY2VuZVxuICAgICAgICBjb25zdCBwb2ludDogVmVjMyA9IHJheS5hdCh0KTtcbiAgICAgICAgdGhpcy5wb2x5bGluZS51cGRhdGVMYXN0UG9pbnQocG9pbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRJbnN0cnVjdGlvbnMoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5wb2x5bGluZSkge1xuICAgICAgcmV0dXJuIFwiRXhpdDowICBjbGljayBvciB0eXBlIG5leHQgcG9pbnQgICRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiRXhpdDowICBjbGljayBvciB0eXBlIHN0YXJ0IHBvaW50ICAkXCI7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluaXNoZWQ7XG4gIH1cblxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/commands/commands/polylineCommand.ts\n");

/***/ }),

/***/ "./src/commands/commands/windowCommand.ts":
/*!************************************************!*\
  !*** ./src/commands/commands/windowCommand.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WindowCommand: () => (/* binding */ WindowCommand)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n/* harmony import */ var _window_windowManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../window/windowManager */ \"./src/window/windowManager.ts\");\n/* harmony import */ var _command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command */ \"./src/commands/command.ts\");\n\n\n\nvar WindowCommandMode;\n(function (WindowCommandMode) {\n    WindowCommandMode[WindowCommandMode[\"SelectWindow\"] = 0] = \"SelectWindow\";\n    WindowCommandMode[WindowCommandMode[\"PlaceWindowStart\"] = 1] = \"PlaceWindowStart\";\n    WindowCommandMode[WindowCommandMode[\"PlaceWindowEnd\"] = 2] = \"PlaceWindowEnd\";\n})(WindowCommandMode || (WindowCommandMode = {}));\nclass WindowCommand extends _command__WEBPACK_IMPORTED_MODULE_2__.Command {\n    constructor() {\n        super();\n        this.windowName = \"none\";\n        this.finished = false;\n        this.mode = WindowCommandMode.SelectWindow;\n    }\n    handleInput(input) {\n        switch (this.mode) {\n            case WindowCommandMode.SelectWindow:\n                if (input == \"0\") {\n                    this.finished = true;\n                    break;\n                }\n                if (_window_windowManager__WEBPACK_IMPORTED_MODULE_1__.WINDOW_NAMES.has(parseInt(input))) {\n                    this.windowName = _window_windowManager__WEBPACK_IMPORTED_MODULE_1__.WINDOW_NAMES.get(parseInt(input));\n                    this.mode = WindowCommandMode.PlaceWindowStart;\n                    // remove existing window to add it back\n                    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getWindowManager().removeWindow(this.windowName);\n                }\n                break;\n            case WindowCommandMode.PlaceWindowStart:\n                break;\n            case WindowCommandMode.PlaceWindowEnd:\n                break;\n            default:\n                throw new Error(\"Not implemented\");\n        }\n    }\n    handleClick(x, y) {\n        switch (this.mode) {\n            case WindowCommandMode.SelectWindow:\n                break;\n            case WindowCommandMode.PlaceWindowStart:\n                _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getWindowManager().addWindow(this.windowName, [x, y]);\n                this.mode = WindowCommandMode.PlaceWindowEnd;\n                break;\n            case WindowCommandMode.PlaceWindowEnd:\n                _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getWindowManager().getWindows().get(this.windowName).updateEnd([x, y]);\n                this.windowName = \"none\";\n                this.mode = WindowCommandMode.SelectWindow;\n                break;\n            default:\n                throw new Error(\"Not implemented\");\n        }\n    }\n    handleMouseMove(x, y) {\n        switch (this.mode) {\n            case WindowCommandMode.SelectWindow:\n                break;\n            case WindowCommandMode.PlaceWindowStart:\n                break;\n            case WindowCommandMode.PlaceWindowEnd:\n                _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getWindowManager().getWindows().get(this.windowName).updateEnd([x, y]);\n                break;\n            default:\n                throw new Error(\"Not implemented\");\n        }\n    }\n    getInstructions() {\n        switch (this.mode) {\n            case WindowCommandMode.SelectWindow:\n                var res = \"Exit:0  \";\n                for (let [key, value] of _window_windowManager__WEBPACK_IMPORTED_MODULE_1__.WINDOW_NAMES) {\n                    res += value + \"(\" + key.toString() + \")  \";\n                }\n                return res + \"$\";\n            case WindowCommandMode.PlaceWindowStart:\n                return \"Exit:0  Click first corner for window.\";\n            case WindowCommandMode.PlaceWindowEnd:\n                return \"Exit:0  Click second corner for window.\";\n            default:\n                throw new Error(\"Not implemented\");\n        }\n    }\n    isFinished() {\n        return this.finished;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pGLE1BQU07WUFDUjtnQkFDRSxNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7U0FDdEM7SUFDSCxDQUFDO0lBRU0sZUFBZTtRQUNwQixRQUFRLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDakIsS0FBSyxpQkFBaUIsQ0FBQyxZQUFZO2dCQUNqQyxJQUFJLEdBQUcsR0FBVyxVQUFVLENBQUM7Z0JBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSwrREFBWSxFQUFFO29CQUNyQyxHQUFHLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsS0FBSyxDQUFDO2lCQUM3QztnQkFDRCxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDbkIsS0FBSyxpQkFBaUIsQ0FBQyxnQkFBZ0I7Z0JBQ3JDLE9BQU8sd0NBQXdDLENBQUM7WUFDbEQsS0FBSyxpQkFBaUIsQ0FBQyxjQUFjO2dCQUNuQyxPQUFPLHlDQUF5QyxDQUFDO1lBQ25EO2dCQUNFLE1BQU0sSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUN0QztJQUNILENBQUM7SUFFTSxVQUFVO1FBQ2YsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3ZCLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2NvbW1hbmRzL2NvbW1hbmRzL3dpbmRvd0NvbW1hbmQudHM/NGQ3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi8uLi9jYWRcIjtcbmltcG9ydCB7IFdJTkRPV19OQU1FUyB9IGZyb20gXCIuLi8uLi93aW5kb3cvd2luZG93TWFuYWdlclwiO1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kXCI7XG5cbmVudW0gV2luZG93Q29tbWFuZE1vZGUge1xuICBTZWxlY3RXaW5kb3csXG4gIFBsYWNlV2luZG93U3RhcnQsXG4gIFBsYWNlV2luZG93RW5kLFxufVxuXG5leHBvcnQgY2xhc3MgV2luZG93Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuXG4gIHByaXZhdGUgZmluaXNoZWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgbW9kZTogV2luZG93Q29tbWFuZE1vZGU7XG4gIHByaXZhdGUgd2luZG93TmFtZTogc3RyaW5nID0gXCJub25lXCI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5tb2RlID0gV2luZG93Q29tbWFuZE1vZGUuU2VsZWN0V2luZG93O1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUlucHV0KGlucHV0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgY2FzZSBXaW5kb3dDb21tYW5kTW9kZS5TZWxlY3RXaW5kb3c6XG4gICAgICAgIGlmIChpbnB1dCA9PSBcIjBcIikge1xuICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChXSU5ET1dfTkFNRVMuaGFzKHBhcnNlSW50KGlucHV0KSkpIHtcbiAgICAgICAgICB0aGlzLndpbmRvd05hbWUgPSBXSU5ET1dfTkFNRVMuZ2V0KHBhcnNlSW50KGlucHV0KSkhO1xuICAgICAgICAgIHRoaXMubW9kZSA9IFdpbmRvd0NvbW1hbmRNb2RlLlBsYWNlV2luZG93U3RhcnQ7XG5cbiAgICAgICAgICAvLyByZW1vdmUgZXhpc3Rpbmcgd2luZG93IHRvIGFkZCBpdCBiYWNrXG4gICAgICAgICAgSU5TVEFOQ0UuZ2V0V2luZG93TWFuYWdlcigpLnJlbW92ZVdpbmRvdyh0aGlzLndpbmRvd05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBXaW5kb3dDb21tYW5kTW9kZS5QbGFjZVdpbmRvd1N0YXJ0OlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgV2luZG93Q29tbWFuZE1vZGUuUGxhY2VXaW5kb3dFbmQ6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIFdpbmRvd0NvbW1hbmRNb2RlLlNlbGVjdFdpbmRvdzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFdpbmRvd0NvbW1hbmRNb2RlLlBsYWNlV2luZG93U3RhcnQ6XG4gICAgICAgIElOU1RBTkNFLmdldFdpbmRvd01hbmFnZXIoKS5hZGRXaW5kb3codGhpcy53aW5kb3dOYW1lLCBbeCwgeV0pO1xuICAgICAgICB0aGlzLm1vZGUgPSBXaW5kb3dDb21tYW5kTW9kZS5QbGFjZVdpbmRvd0VuZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFdpbmRvd0NvbW1hbmRNb2RlLlBsYWNlV2luZG93RW5kOlxuICAgICAgICBJTlNUQU5DRS5nZXRXaW5kb3dNYW5hZ2VyKCkuZ2V0V2luZG93cygpLmdldCh0aGlzLndpbmRvd05hbWUpIS51cGRhdGVFbmQoW3gsIHldKTtcbiAgICAgICAgdGhpcy53aW5kb3dOYW1lID0gXCJub25lXCI7XG4gICAgICAgIHRoaXMubW9kZSA9IFdpbmRvd0NvbW1hbmRNb2RlLlNlbGVjdFdpbmRvdztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhhbmRsZU1vdXNlTW92ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIFdpbmRvd0NvbW1hbmRNb2RlLlNlbGVjdFdpbmRvdzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFdpbmRvd0NvbW1hbmRNb2RlLlBsYWNlV2luZG93U3RhcnQ6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBXaW5kb3dDb21tYW5kTW9kZS5QbGFjZVdpbmRvd0VuZDpcbiAgICAgICAgSU5TVEFOQ0UuZ2V0V2luZG93TWFuYWdlcigpLmdldFdpbmRvd3MoKS5nZXQodGhpcy53aW5kb3dOYW1lKSEudXBkYXRlRW5kKFt4LCB5XSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRJbnN0cnVjdGlvbnMoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgY2FzZSBXaW5kb3dDb21tYW5kTW9kZS5TZWxlY3RXaW5kb3c6XG4gICAgICAgIHZhciByZXM6IHN0cmluZyA9IFwiRXhpdDowICBcIjtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIFdJTkRPV19OQU1FUykge1xuICAgICAgICAgIHJlcyArPSB2YWx1ZSArIFwiKFwiICsga2V5LnRvU3RyaW5nKCkgKyBcIikgIFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMgKyBcIiRcIjtcbiAgICAgIGNhc2UgV2luZG93Q29tbWFuZE1vZGUuUGxhY2VXaW5kb3dTdGFydDpcbiAgICAgICAgcmV0dXJuIFwiRXhpdDowICBDbGljayBmaXJzdCBjb3JuZXIgZm9yIHdpbmRvdy5cIjtcbiAgICAgIGNhc2UgV2luZG93Q29tbWFuZE1vZGUuUGxhY2VXaW5kb3dFbmQ6XG4gICAgICAgIHJldHVybiBcIkV4aXQ6MCAgQ2xpY2sgc2Vjb25kIGNvcm5lciBmb3Igd2luZG93LlwiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZpbmlzaGVkO1xuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/commands/commands/windowCommand.ts\n");

/***/ }),

/***/ "./src/commands/oneTimeCommands/toggleDarkModeCommand.ts":
/*!***************************************************************!*\
  !*** ./src/commands/oneTimeCommands/toggleDarkModeCommand.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toggleDarkMode: () => (/* binding */ toggleDarkMode)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n\nvar isDarkMode = true;\nconst rootStyle = document.querySelector(':root');\nfunction toggleDarkMode() {\n    if (isDarkMode)\n        setLightMode();\n    else\n        setDarkMode();\n}\nfunction setLightMode() {\n    isDarkMode = false;\n    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().setClearColor([0.8, 0.8, 0.8, 1.0]);\n    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setMajorColor([0.3, 0.2, 0.2, 1.0]);\n    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setMinorColor([0.7, 0.6, 0.6, 1.0]);\n    rootStyle.style.setProperty(\"--floating-window-background-color\", \"var(--transparent-white)\");\n    rootStyle.style.setProperty(\"--floating-window-text-color\", \"var(--dark-red)\");\n    rootStyle.style.setProperty(\"--floating-window-border-color\", \"var(--dark-red)\");\n}\nfunction setDarkMode() {\n    isDarkMode = true;\n    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().setClearColor([0.1, 0.1, 0.1, 1.0]);\n    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setMajorColor([1.0, 0.8, 0.8, 1.0]);\n    _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getConstructionPlane().setMinorColor([0.6, 0.4, 0.4, 1.0]);\n    rootStyle.style.setProperty(\"--floating-window-background-color\", \"var(--transparent-black)\");\n    rootStyle.style.setProperty(\"--floating-window-text-color\", \"var(--light-red)\");\n    rootStyle.style.setProperty(\"--floating-window-border-color\", \"var(--light-red)\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbWFuZHMvb25lVGltZUNvbW1hbmRzL3RvZ2dsZURhcmtNb2RlQ29tbWFuZC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUVyQyxJQUFJLFVBQVUsR0FBWSxJQUFJLENBQUM7QUFFL0IsTUFBTSxTQUFTLEdBQXVDLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7QUFFL0UsU0FBUyxjQUFjO0lBQzVCLElBQUksVUFBVTtRQUFFLFlBQVksRUFBRSxDQUFDOztRQUMxQixXQUFXLEVBQUUsQ0FBQztBQUNyQixDQUFDO0FBRUQsU0FBUyxZQUFZO0lBQ25CLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDbkIsMENBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzNELDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQy9FLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQy9FLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLG9DQUFvQyxFQUFFLDBCQUEwQixDQUFDLENBQUM7SUFDOUYsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsOEJBQThCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUMvRSxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxnQ0FBZ0MsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0FBRW5GLENBQUM7QUFFRCxTQUFTLFdBQVc7SUFDbEIsVUFBVSxHQUFHLElBQUksQ0FBQztJQUNsQiwwQ0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDM0QsMENBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDL0UsMENBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDL0UsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsb0NBQW9DLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztJQUM5RixTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyw4QkFBOEIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQ2hGLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGdDQUFnQyxFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDcEYsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2NvbW1hbmRzL29uZVRpbWVDb21tYW5kcy90b2dnbGVEYXJrTW9kZUNvbW1hbmQudHM/NWFmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi8uLi9jYWRcIjtcblxudmFyIGlzRGFya01vZGU6IGJvb2xlYW4gPSB0cnVlO1xuXG5jb25zdCByb290U3R5bGU6IEhUTUxTdHlsZUVsZW1lbnQgPSA8SFRNTFN0eWxlRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCc6cm9vdCcpO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRGFya01vZGUoKSB7XG4gIGlmIChpc0RhcmtNb2RlKSBzZXRMaWdodE1vZGUoKTtcbiAgZWxzZSBzZXREYXJrTW9kZSgpO1xufVxuXG5mdW5jdGlvbiBzZXRMaWdodE1vZGUoKSB7XG4gIGlzRGFya01vZGUgPSBmYWxzZTtcbiAgSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5zZXRDbGVhckNvbG9yKFswLjgsIDAuOCwgMC44LCAxLjBdKTtcbiAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDb25zdHJ1Y3Rpb25QbGFuZSgpLnNldE1ham9yQ29sb3IoWzAuMywgMC4yLCAwLjIsIDEuMF0pO1xuICBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENvbnN0cnVjdGlvblBsYW5lKCkuc2V0TWlub3JDb2xvcihbMC43LCAwLjYsIDAuNiwgMS4wXSk7XG4gIHJvb3RTdHlsZS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZmxvYXRpbmctd2luZG93LWJhY2tncm91bmQtY29sb3JcIiwgXCJ2YXIoLS10cmFuc3BhcmVudC13aGl0ZSlcIik7XG4gIHJvb3RTdHlsZS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZmxvYXRpbmctd2luZG93LXRleHQtY29sb3JcIiwgXCJ2YXIoLS1kYXJrLXJlZClcIik7XG4gIHJvb3RTdHlsZS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZmxvYXRpbmctd2luZG93LWJvcmRlci1jb2xvclwiLCBcInZhcigtLWRhcmstcmVkKVwiKTtcblxufVxuXG5mdW5jdGlvbiBzZXREYXJrTW9kZSgpIHtcbiAgaXNEYXJrTW9kZSA9IHRydWU7XG4gIElOU1RBTkNFLmdldFJlbmRlcmVyKCkuc2V0Q2xlYXJDb2xvcihbMC4xLCAwLjEsIDAuMSwgMS4wXSk7XG4gIElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q29uc3RydWN0aW9uUGxhbmUoKS5zZXRNYWpvckNvbG9yKFsxLjAsIDAuOCwgMC44LCAxLjBdKTtcbiAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDb25zdHJ1Y3Rpb25QbGFuZSgpLnNldE1pbm9yQ29sb3IoWzAuNiwgMC40LCAwLjQsIDEuMF0pO1xuICByb290U3R5bGUuc3R5bGUuc2V0UHJvcGVydHkoXCItLWZsb2F0aW5nLXdpbmRvdy1iYWNrZ3JvdW5kLWNvbG9yXCIsIFwidmFyKC0tdHJhbnNwYXJlbnQtYmxhY2spXCIpO1xuICByb290U3R5bGUuc3R5bGUuc2V0UHJvcGVydHkoXCItLWZsb2F0aW5nLXdpbmRvdy10ZXh0LWNvbG9yXCIsIFwidmFyKC0tbGlnaHQtcmVkKVwiKTtcbiAgcm9vdFN0eWxlLnN0eWxlLnNldFByb3BlcnR5KFwiLS1mbG9hdGluZy13aW5kb3ctYm9yZGVyLWNvbG9yXCIsIFwidmFyKC0tbGlnaHQtcmVkKVwiKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/commands/oneTimeCommands/toggleDarkModeCommand.ts\n");

/***/ }),

/***/ "./src/events/clickHandler.ts":
/*!************************************!*\
  !*** ./src/events/clickHandler.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClickHandler: () => (/* binding */ ClickHandler)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n\nclass ClickHandler {\n    constructor() {\n        this.mouseDown = false;\n        this.shiftDown = false;\n        this.controlDown = false;\n        this.drag = null;\n    }\n    onMouseMove(event) {\n        var _a;\n        (_a = this.drag) === null || _a === void 0 ? void 0 : _a.update(event.clientX, event.clientY);\n    }\n    onMouseDown(event) {\n        if (event.button == 0) { // left click\n            this.drag = new Drag(event.clientX, event.clientY);\n            this.mouseDown = true;\n            this.shiftDown = event.shiftKey;\n            this.controlDown = event.ctrlKey;\n        }\n    }\n    onMouseUp(event) {\n        if (event.button == 0) { // left click\n            if (!this.drag.isDrag()) {\n                _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getCommandManager().handleClickInput(event);\n                _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getCli().render();\n            }\n            this.drag.destroy();\n            this.drag = null;\n            this.mouseDown = false;\n        }\n    }\n}\nclass Drag {\n    constructor(x1, y1) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.element = document.getElementById(\"selection-rectangle\");\n        this.update(this.x1, this.y1);\n        this.element.hidden = false;\n    }\n    update(x, y) {\n        this.x2 = x;\n        this.y2 = y;\n        const top = Math.min(this.y1, this.y2);\n        const bottom = Math.max(this.y1, this.y2);\n        const left = Math.min(this.x1, this.x2);\n        const right = Math.max(this.x1, this.x2);\n        this.element.style.left = `${left}px`;\n        this.element.style.top = `${top}px`;\n        this.element.style.width = `${right - left}px`;\n        this.element.style.height = `${bottom - top}px`;\n    }\n    isDrag() {\n        return this.x1 != this.x2 || this.y1 != this.y2;\n    }\n    destroy() {\n        this.element.hidden = true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQztRQUMvQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUM7SUFDbEQsQ0FBQztJQUVNLE1BQU07UUFDWCxPQUFPLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDbEQsQ0FBQztJQUVNLE9BQU87UUFDWixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDN0IsQ0FBQztDQUlGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvZXZlbnRzL2NsaWNrSGFuZGxlci50cz9mMmRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uL2NhZFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIENsaWNrSGFuZGxlciB7XG5cbiAgcHJpdmF0ZSBtb3VzZURvd246IGJvb2xlYW47XG4gIHByaXZhdGUgc2hpZnREb3duOiBib29sZWFuO1xuICBwcml2YXRlIGNvbnRyb2xEb3duOiBib29sZWFuO1xuICBwcml2YXRlIGRyYWc6IERyYWcgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XG4gICAgdGhpcy5zaGlmdERvd24gPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRyb2xEb3duID0gZmFsc2U7XG4gICAgdGhpcy5kcmFnID0gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZHJhZz8udXBkYXRlKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICB9XG5cbiAgcHVibGljIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmJ1dHRvbiA9PSAwKSB7IC8vIGxlZnQgY2xpY2tcblxuICAgICAgdGhpcy5kcmFnID0gbmV3IERyYWcoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XG4gICAgICB0aGlzLnNoaWZ0RG93biA9IGV2ZW50LnNoaWZ0S2V5O1xuICAgICAgdGhpcy5jb250cm9sRG93biA9IGV2ZW50LmN0cmxLZXk7XG5cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb25Nb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmJ1dHRvbiA9PSAwKSB7IC8vIGxlZnQgY2xpY2tcblxuICAgICAgaWYgKCF0aGlzLmRyYWchLmlzRHJhZygpKSB7XG4gICAgICAgIElOU1RBTkNFLmdldENvbW1hbmRNYW5hZ2VyKCkuaGFuZGxlQ2xpY2tJbnB1dChldmVudCk7XG4gICAgICAgIElOU1RBTkNFLmdldENsaSgpLnJlbmRlcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRyYWchLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZHJhZyA9IG51bGw7XG4gICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuXG4gICAgfVxuICB9XG5cbn1cblxuXG5jbGFzcyBEcmFnIHtcblxuICBwcml2YXRlIHgyITogbnVtYmVyO1xuICBwcml2YXRlIHkyITogbnVtYmVyO1xuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgeDE6IG51bWJlcixcbiAgICBwcml2YXRlIHkxOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMuZWxlbWVudCA9IDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdGlvbi1yZWN0YW5nbGVcIik7XG4gICAgdGhpcy51cGRhdGUodGhpcy54MSwgdGhpcy55MSk7XG4gICAgdGhpcy5lbGVtZW50LmhpZGRlbiA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMueDIgPSB4O1xuICAgIHRoaXMueTIgPSB5O1xuXG4gICAgY29uc3QgdG9wID0gTWF0aC5taW4odGhpcy55MSwgdGhpcy55Mik7XG4gICAgY29uc3QgYm90dG9tID0gTWF0aC5tYXgodGhpcy55MSwgdGhpcy55Mik7XG4gICAgY29uc3QgbGVmdCA9IE1hdGgubWluKHRoaXMueDEsIHRoaXMueDIpO1xuICAgIGNvbnN0IHJpZ2h0ID0gTWF0aC5tYXgodGhpcy54MSwgdGhpcy54Mik7XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3JpZ2h0IC0gbGVmdH1weGA7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke2JvdHRvbSAtIHRvcH1weGA7XG4gIH1cblxuICBwdWJsaWMgaXNEcmFnKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLngxICE9IHRoaXMueDIgfHwgdGhpcy55MSAhPSB0aGlzLnkyO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50LmhpZGRlbiA9IHRydWU7XG4gIH1cblxuXG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/events/clickHandler.ts\n");

/***/ }),

/***/ "./src/events/eventManager.ts":
/*!************************************!*\
  !*** ./src/events/eventManager.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventManager: () => (/* binding */ EventManager)\n/* harmony export */ });\n/* harmony import */ var _mode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mode */ \"./src/mode.ts\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _clickHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./clickHandler */ \"./src/events/clickHandler.ts\");\n\n\n\nclass EventManager {\n    constructor() {\n        this.clickHandler = new _clickHandler__WEBPACK_IMPORTED_MODULE_2__.ClickHandler();\n        onmousemove = (event) => {\n            _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getCommandManager().handleMouseMove(event);\n            this.clickHandler.onMouseMove(event);\n        };\n        onresize = () => {\n            _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getRenderer().updateScreenSize();\n        };\n        onkeydown = (event) => {\n            if (event.code == \"Tab\") {\n                if (_cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getMode() == _mode__WEBPACK_IMPORTED_MODULE_0__.OperatingMode.Navigation) {\n                    _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.setMode(_mode__WEBPACK_IMPORTED_MODULE_0__.OperatingMode.Command);\n                }\n                else {\n                    _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getCli().clearInput();\n                    _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.setMode(_mode__WEBPACK_IMPORTED_MODULE_0__.OperatingMode.Navigation);\n                }\n                // prevent tab from chaging focus\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            else {\n                if (_cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getMode() == _mode__WEBPACK_IMPORTED_MODULE_0__.OperatingMode.Command)\n                    _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getCli().processKeyDownEvent(event);\n            }\n        };\n        onfocus = () => {\n            _cad__WEBPACK_IMPORTED_MODULE_1__.INSTANCE.getStats().reset();\n        };\n        onmousedown = (event) => {\n            this.clickHandler.onMouseDown(event);\n        };\n        onmouseup = (event) => {\n            this.clickHandler.onMouseUp(event);\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXZlbnRzL2V2ZW50TWFuYWdlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVDO0FBQ047QUFDYTtBQUV2QyxNQUFNLFlBQVk7SUFJdkI7UUFFRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksdURBQVksRUFBRSxDQUFDO1FBRXZDLFdBQVcsR0FBRyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtZQUNsQywwQ0FBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQztRQUVGLFFBQVEsR0FBRyxHQUFHLEVBQUU7WUFDZCwwQ0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDNUMsQ0FBQztRQUVELFNBQVMsR0FBRyxDQUFDLEtBQW9CLEVBQUUsRUFBRTtZQUNuQyxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxFQUFFO2dCQUN2QixJQUFJLDBDQUFRLENBQUMsT0FBTyxFQUFFLElBQUksZ0RBQWEsQ0FBQyxVQUFVLEVBQUU7b0JBQ2xELDBDQUFRLENBQUMsT0FBTyxDQUFDLGdEQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQ3pDO3FCQUFNO29CQUNMLDBDQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQy9CLDBDQUFRLENBQUMsT0FBTyxDQUFDLGdEQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7aUJBQzVDO2dCQUNELGlDQUFpQztnQkFDakMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN2QixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7YUFDekI7aUJBQU07Z0JBQ0wsSUFBSSwwQ0FBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLGdEQUFhLENBQUMsT0FBTztvQkFBRSwwQ0FBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQy9GO1FBQ0gsQ0FBQyxDQUFDO1FBRUYsT0FBTyxHQUFHLEdBQUcsRUFBRTtZQUNiLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDOUIsQ0FBQztRQUVELFdBQVcsR0FBRyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtZQUNsQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxDQUFDO1FBRUQsU0FBUyxHQUFHLENBQUMsS0FBaUIsRUFBRSxFQUFFO1lBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLENBQUM7SUFDSCxDQUFDO0NBRUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9ldmVudHMvZXZlbnRNYW5hZ2VyLnRzP2FkM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlcmF0aW5nTW9kZSB9IGZyb20gXCIuLi9tb2RlXCJcbmltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uL2NhZFwiXG5pbXBvcnQgeyBDbGlja0hhbmRsZXIgfSBmcm9tIFwiLi9jbGlja0hhbmRsZXJcIjtcblxuZXhwb3J0IGNsYXNzIEV2ZW50TWFuYWdlciB7XG5cbiAgcHJpdmF0ZSBjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIHRoaXMuY2xpY2tIYW5kbGVyID0gbmV3IENsaWNrSGFuZGxlcigpO1xuXG4gICAgb25tb3VzZW1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIElOU1RBTkNFLmdldENvbW1hbmRNYW5hZ2VyKCkuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KTtcbiAgICAgIHRoaXMuY2xpY2tIYW5kbGVyLm9uTW91c2VNb3ZlKGV2ZW50KTtcbiAgICB9O1xuXG4gICAgb25yZXNpemUgPSAoKSA9PiB7XG4gICAgICBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLnVwZGF0ZVNjcmVlblNpemUoKTtcbiAgICB9XG5cbiAgICBvbmtleWRvd24gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5jb2RlID09IFwiVGFiXCIpIHtcbiAgICAgICAgaWYgKElOU1RBTkNFLmdldE1vZGUoKSA9PSBPcGVyYXRpbmdNb2RlLk5hdmlnYXRpb24pIHtcbiAgICAgICAgICBJTlNUQU5DRS5zZXRNb2RlKE9wZXJhdGluZ01vZGUuQ29tbWFuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgSU5TVEFOQ0UuZ2V0Q2xpKCkuY2xlYXJJbnB1dCgpO1xuICAgICAgICAgIElOU1RBTkNFLnNldE1vZGUoT3BlcmF0aW5nTW9kZS5OYXZpZ2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmV2ZW50IHRhYiBmcm9tIGNoYWdpbmcgZm9jdXNcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoSU5TVEFOQ0UuZ2V0TW9kZSgpID09IE9wZXJhdGluZ01vZGUuQ29tbWFuZCkgSU5TVEFOQ0UuZ2V0Q2xpKCkucHJvY2Vzc0tleURvd25FdmVudChldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG9uZm9jdXMgPSAoKSA9PiB7XG4gICAgICBJTlNUQU5DRS5nZXRTdGF0cygpLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgb25tb3VzZWRvd24gPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuY2xpY2tIYW5kbGVyLm9uTW91c2VEb3duKGV2ZW50KTtcbiAgICB9XG5cbiAgICBvbm1vdXNldXAgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuY2xpY2tIYW5kbGVyLm9uTW91c2VVcChldmVudCk7XG4gICAgfVxuICB9XG5cbn1cblxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/events/eventManager.ts\n");

/***/ }),

/***/ "./src/geometry/boundingBox.ts":
/*!*************************************!*\
  !*** ./src/geometry/boundingBox.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BoundingBox: () => (/* binding */ BoundingBox)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n\nclass BoundingBox {\n    constructor(xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, zMin = Infinity, zMax = -Infinity) {\n        this.xMin = xMin;\n        this.xMax = xMax;\n        this.yMin = yMin;\n        this.yMax = yMax;\n        this.zMin = zMin;\n        this.zMax = zMax;\n    }\n    getXMin() { return this.xMin; }\n    getYMin() { return this.yMin; }\n    getZMin() { return this.zMin; }\n    getXMax() { return this.xMax; }\n    getYMax() { return this.yMax; }\n    getZMax() { return this.zMax; }\n    print() {\n        console.log(`BB: x: [${this.xMin}, ${this.xMax}], y: [${this.yMin}, ${this.yMax}], z: [${this.zMin}, ${this.zMax}];`);\n    }\n    addVec3(v) {\n        this.xMin = Math.min(this.xMin, v[0]);\n        this.yMin = Math.min(this.yMin, v[1]);\n        this.zMin = Math.min(this.zMin, v[2]);\n        this.xMax = Math.max(this.xMax, v[0]);\n        this.yMax = Math.max(this.yMax, v[1]);\n        this.zMax = Math.max(this.zMax, v[2]);\n    }\n    addBoundingBox(bb) {\n        this.xMin = Math.min(this.xMin, bb.xMin);\n        this.yMin = Math.min(this.yMin, bb.yMin);\n        this.zMin = Math.min(this.zMin, bb.zMin);\n        this.xMax = Math.max(this.xMax, bb.xMax);\n        this.yMax = Math.max(this.yMax, bb.yMax);\n        this.zMax = Math.max(this.zMax, bb.zMax);\n    }\n    getCenter() {\n        return wgpu_matrix__WEBPACK_IMPORTED_MODULE_0__.vec3.create((this.xMin + this.xMax) / 2, (this.yMin + this.yMax) / 2, (this.zMin + this.zMax) / 2);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvYm91bmRpbmdCb3gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7QUFFbEMsTUFBTSxXQUFXO0lBRXRCLFlBQ1UsT0FBZSxRQUFRLEVBQ3ZCLE9BQWUsQ0FBQyxRQUFRLEVBQ3hCLE9BQWUsUUFBUSxFQUN2QixPQUFlLENBQUMsUUFBUSxFQUN4QixPQUFlLFFBQVEsRUFDdkIsT0FBZSxDQUFDLFFBQVE7UUFMeEIsU0FBSSxHQUFKLElBQUksQ0FBbUI7UUFDdkIsU0FBSSxHQUFKLElBQUksQ0FBb0I7UUFDeEIsU0FBSSxHQUFKLElBQUksQ0FBbUI7UUFDdkIsU0FBSSxHQUFKLElBQUksQ0FBb0I7UUFDeEIsU0FBSSxHQUFKLElBQUksQ0FBbUI7UUFDdkIsU0FBSSxHQUFKLElBQUksQ0FBb0I7SUFHbEMsQ0FBQztJQUVNLE9BQU8sS0FBYSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sS0FBYSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sS0FBYSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sS0FBYSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sS0FBYSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sS0FBYSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRXZDLEtBQUs7UUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxVQUFVLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksVUFBVSxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO0lBQ3hILENBQUM7SUFFTSxPQUFPLENBQUMsQ0FBTztRQUNwQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRU0sY0FBYyxDQUFDLEVBQWU7UUFDbkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVNLFNBQVM7UUFDZCxPQUFPLDZDQUFJLENBQUMsTUFBTSxDQUNoQixDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDM0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQzNCLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUM1QixDQUFDO0lBQ0osQ0FBQztDQUVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvZ2VvbWV0cnkvYm91bmRpbmdCb3gudHM/ODcxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZWMzLCBWZWMzIH0gZnJvbSBcIndncHUtbWF0cml4XCI7XG5cbmV4cG9ydCBjbGFzcyBCb3VuZGluZ0JveCB7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB4TWluOiBudW1iZXIgPSBJbmZpbml0eSxcbiAgICBwcml2YXRlIHhNYXg6IG51bWJlciA9IC1JbmZpbml0eSxcbiAgICBwcml2YXRlIHlNaW46IG51bWJlciA9IEluZmluaXR5LFxuICAgIHByaXZhdGUgeU1heDogbnVtYmVyID0gLUluZmluaXR5LFxuICAgIHByaXZhdGUgek1pbjogbnVtYmVyID0gSW5maW5pdHksXG4gICAgcHJpdmF0ZSB6TWF4OiBudW1iZXIgPSAtSW5maW5pdHlcbiAgKSB7XG5cbiAgfVxuXG4gIHB1YmxpYyBnZXRYTWluKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnhNaW47IH1cbiAgcHVibGljIGdldFlNaW4oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMueU1pbjsgfVxuICBwdWJsaWMgZ2V0Wk1pbigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy56TWluOyB9XG4gIHB1YmxpYyBnZXRYTWF4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLnhNYXg7IH1cbiAgcHVibGljIGdldFlNYXgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMueU1heDsgfVxuICBwdWJsaWMgZ2V0Wk1heCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy56TWF4OyB9XG5cbiAgcHVibGljIHByaW50KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKGBCQjogeDogWyR7dGhpcy54TWlufSwgJHt0aGlzLnhNYXh9XSwgeTogWyR7dGhpcy55TWlufSwgJHt0aGlzLnlNYXh9XSwgejogWyR7dGhpcy56TWlufSwgJHt0aGlzLnpNYXh9XTtgKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRWZWMzKHY6IFZlYzMpOiB2b2lkIHtcbiAgICB0aGlzLnhNaW4gPSBNYXRoLm1pbih0aGlzLnhNaW4sIHZbMF0pO1xuICAgIHRoaXMueU1pbiA9IE1hdGgubWluKHRoaXMueU1pbiwgdlsxXSk7XG4gICAgdGhpcy56TWluID0gTWF0aC5taW4odGhpcy56TWluLCB2WzJdKTtcbiAgICB0aGlzLnhNYXggPSBNYXRoLm1heCh0aGlzLnhNYXgsIHZbMF0pO1xuICAgIHRoaXMueU1heCA9IE1hdGgubWF4KHRoaXMueU1heCwgdlsxXSk7XG4gICAgdGhpcy56TWF4ID0gTWF0aC5tYXgodGhpcy56TWF4LCB2WzJdKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRCb3VuZGluZ0JveChiYjogQm91bmRpbmdCb3gpOiB2b2lkIHtcbiAgICB0aGlzLnhNaW4gPSBNYXRoLm1pbih0aGlzLnhNaW4sIGJiLnhNaW4pO1xuICAgIHRoaXMueU1pbiA9IE1hdGgubWluKHRoaXMueU1pbiwgYmIueU1pbik7XG4gICAgdGhpcy56TWluID0gTWF0aC5taW4odGhpcy56TWluLCBiYi56TWluKTtcbiAgICB0aGlzLnhNYXggPSBNYXRoLm1heCh0aGlzLnhNYXgsIGJiLnhNYXgpO1xuICAgIHRoaXMueU1heCA9IE1hdGgubWF4KHRoaXMueU1heCwgYmIueU1heCk7XG4gICAgdGhpcy56TWF4ID0gTWF0aC5tYXgodGhpcy56TWF4LCBiYi56TWF4KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDZW50ZXIoKTogVmVjMyB7XG4gICAgcmV0dXJuIHZlYzMuY3JlYXRlKFxuICAgICAgKHRoaXMueE1pbiArIHRoaXMueE1heCkgLyAyLFxuICAgICAgKHRoaXMueU1pbiArIHRoaXMueU1heCkgLyAyLFxuICAgICAgKHRoaXMuek1pbiArIHRoaXMuek1heCkgLyAyLFxuICAgICk7XG4gIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/geometry/boundingBox.ts\n");

/***/ }),

/***/ "./src/geometry/geometry.ts":
/*!**********************************!*\
  !*** ./src/geometry/geometry.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Geometry: () => (/* binding */ Geometry)\n/* harmony export */ });\nclass Geometry {\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvZ2VvbWV0cnkudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUlPLE1BQWUsUUFBUTtDQU03QiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2dlb21ldHJ5L2dlb21ldHJ5LnRzPzY5NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0NCB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiO1xuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tIFwiLi9ib3VuZGluZ0JveFwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4vcmF5XCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHZW9tZXRyeSB7XG5cbiAgcHVibGljIGFic3RyYWN0IGdldEJvdW5kaW5nQm94KCk6IEJvdW5kaW5nQm94O1xuICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW9kZWwoKTogTWF0NDtcbiAgcHVibGljIGFic3RyYWN0IGludGVyc2VjdChyYXk6IFJheSk6IG51bWJlciB8IG51bGw7XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/geometry.ts\n");

/***/ }),

/***/ "./src/geometry/line.ts":
/*!******************************!*\
  !*** ./src/geometry/line.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Line: () => (/* binding */ Line)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _render_renderLines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../render/renderLines */ \"./src/render/renderLines.ts\");\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundingBox */ \"./src/geometry/boundingBox.ts\");\n/* harmony import */ var _geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./geometry */ \"./src/geometry/geometry.ts\");\n\n\n\n\n\nclass Line extends _geometry__WEBPACK_IMPORTED_MODULE_3__.Geometry {\n    constructor(start, end, color, model = wgpu_matrix__WEBPACK_IMPORTED_MODULE_4__.mat4.identity()) {\n        super();\n        this.start = start;\n        this.end = end;\n        this.color = color;\n        this.model = model;\n        this.renderLines = 0;\n        this.updateRenderLines();\n        this.updateBoundingBox();\n    }\n    intersect(ray) {\n        return ray.almostIntersectLine(this.start, this.end, 3);\n    }\n    getBoundingBox() {\n        return this.boundingBox;\n    }\n    updateRenderLines() {\n        // remove previous lines\n        if (this.renderLines)\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeLines(this.renderLines);\n        // add new lines\n        this.renderLines = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addRenderLines(new _render_renderLines__WEBPACK_IMPORTED_MODULE_1__.RenderLines(new Float32Array([...this.start, 1.0, ...this.end, 1.0]), new Int32Array([0, 1]), this.color));\n    }\n    getModel() {\n        return this.model;\n    }\n    delete() {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeLines(this.renderLines);\n    }\n    getStart() {\n        return this.start;\n    }\n    getEnd() {\n        return this.end;\n    }\n    updateEnd(point) {\n        this.end = point;\n        this.updateRenderLines();\n        this.updateBoundingBox();\n    }\n    getLength() {\n        return wgpu_matrix__WEBPACK_IMPORTED_MODULE_4__.vec3.distance(this.start, this.end);\n    }\n    flip() {\n        [this.start, this.end] = [this.end, this.start];\n    }\n    updateBoundingBox() {\n        this.boundingBox = new _boundingBox__WEBPACK_IMPORTED_MODULE_2__.BoundingBox();\n        this.boundingBox.addVec3(wgpu_matrix__WEBPACK_IMPORTED_MODULE_4__.vec3.transformMat4(this.start, this.model));\n        this.boundingBox.addVec3(wgpu_matrix__WEBPACK_IMPORTED_MODULE_4__.vec3.transformMat4(this.end, this.model));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNyRSxDQUFDO0NBRUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9nZW9tZXRyeS9saW5lLnRzP2U4ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWF0NCwgTWF0NCwgdmVjMywgVmVjMyB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiO1xuaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vY2FkXCI7XG5pbXBvcnQgeyBSZW5kZXJMaW5lcyB9IGZyb20gXCIuLi9yZW5kZXIvcmVuZGVyTGluZXNcIjtcbmltcG9ydCB7IE9iamVjdElELCBSZW5kZXJJRCB9IGZyb20gXCIuLi9zY2VuZS9zY2VuZVwiO1xuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tIFwiLi9ib3VuZGluZ0JveFwiO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tIFwiLi9nZW9tZXRyeVwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4vcmF5XCI7XG5cblxuZXhwb3J0IGNsYXNzIExpbmUgZXh0ZW5kcyBHZW9tZXRyeSB7XG5cbiAgcHJpdmF0ZSByZW5kZXJMaW5lcyE6IFJlbmRlcklEO1xuICBwcml2YXRlIGJvdW5kaW5nQm94ITogQm91bmRpbmdCb3g7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBzdGFydDogVmVjMyxcbiAgICBwcml2YXRlIGVuZDogVmVjMyxcbiAgICBwcml2YXRlIGNvbG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBwcml2YXRlIG1vZGVsOiBNYXQ0ID0gbWF0NC5pZGVudGl0eSgpXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5yZW5kZXJMaW5lcyA9IDA7XG4gICAgdGhpcy51cGRhdGVSZW5kZXJMaW5lcygpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goKTtcbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnNlY3QocmF5OiBSYXkpOiBudW1iZXIgfCBudWxsIHtcbiAgICByZXR1cm4gcmF5LmFsbW9zdEludGVyc2VjdExpbmUodGhpcy5zdGFydCwgdGhpcy5lbmQsIDMpO1xuICB9XG5cbiAgcHVibGljIGdldEJvdW5kaW5nQm94KCk6IEJvdW5kaW5nQm94IHtcbiAgICByZXR1cm4gdGhpcy5ib3VuZGluZ0JveDtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUmVuZGVyTGluZXMoKTogdm9pZCB7XG5cbiAgICAvLyByZW1vdmUgcHJldmlvdXMgbGluZXNcbiAgICBpZiAodGhpcy5yZW5kZXJMaW5lcykgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5yZW1vdmVMaW5lcyh0aGlzLnJlbmRlckxpbmVzKTtcblxuICAgIC8vIGFkZCBuZXcgbGluZXNcbiAgICB0aGlzLnJlbmRlckxpbmVzID0gSU5TVEFOQ0UuZ2V0U2NlbmUoKS5hZGRSZW5kZXJMaW5lcyhuZXcgUmVuZGVyTGluZXMoXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KFsuLi50aGlzLnN0YXJ0LCAxLjAsIC4uLnRoaXMuZW5kLCAxLjBdKSxcbiAgICAgIG5ldyBJbnQzMkFycmF5KFswLCAxXSksXG4gICAgICB0aGlzLmNvbG9yXG4gICAgKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZWwoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWw7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlKCk6IHZvaWQge1xuICAgIElOU1RBTkNFLmdldFNjZW5lKCkucmVtb3ZlTGluZXModGhpcy5yZW5kZXJMaW5lcyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RhcnQoKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMuc3RhcnQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0RW5kKCk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLmVuZDtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVFbmQocG9pbnQ6IFZlYzMpOiB2b2lkIHtcbiAgICB0aGlzLmVuZCA9IHBvaW50O1xuICAgIHRoaXMudXBkYXRlUmVuZGVyTGluZXMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHZlYzMuZGlzdGFuY2UodGhpcy5zdGFydCwgdGhpcy5lbmQpO1xuICB9XG5cbiAgcHVibGljIGZsaXAoKTogdm9pZCB7XG4gICAgW3RoaXMuc3RhcnQsIHRoaXMuZW5kXSA9IFt0aGlzLmVuZCwgdGhpcy5zdGFydF07XG4gIH1cbiAgcHJpdmF0ZSB1cGRhdGVCb3VuZGluZ0JveCgpOiB2b2lkIHtcbiAgICB0aGlzLmJvdW5kaW5nQm94ID0gbmV3IEJvdW5kaW5nQm94KCk7XG4gICAgdGhpcy5ib3VuZGluZ0JveC5hZGRWZWMzKHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLnN0YXJ0LCB0aGlzLm1vZGVsKSk7XG4gICAgdGhpcy5ib3VuZGluZ0JveC5hZGRWZWMzKHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLmVuZCwgdGhpcy5tb2RlbCkpO1xuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/line.ts\n");

/***/ }),

/***/ "./src/geometry/lineBoundingBoxHeirarchy.ts":
/*!**************************************************!*\
  !*** ./src/geometry/lineBoundingBoxHeirarchy.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineBoundingBoxHeirarchy: () => (/* binding */ LineBoundingBoxHeirarchy)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boundingBox */ \"./src/geometry/boundingBox.ts\");\n\n\nvar Axis;\n(function (Axis) {\n    Axis[Axis[\"X\"] = 0] = \"X\";\n    Axis[Axis[\"Y\"] = 1] = \"Y\";\n    Axis[Axis[\"Z\"] = 2] = \"Z\";\n})(Axis || (Axis = {}));\nclass LineBoundingBoxHeirarchyNode {\n    constructor(verts, indices, depth = 0) {\n        this.depth = depth;\n        this.setup(verts, indices);\n    }\n    setup(verts, indices) {\n        this.axis = this.depth % 3;\n        this.boundingBox = new _boundingBox__WEBPACK_IMPORTED_MODULE_0__.BoundingBox();\n        for (let index of indices) {\n            this.boundingBox.addVec3(verts[index]);\n        }\n        if (indices.length / 2 <= LineBoundingBoxHeirarchy.MAX_LINES_PER_LEAF) {\n            // leaf\n            this.indices = indices;\n            this.child1 = null;\n            this.child2 = null;\n        }\n        else {\n            // non leaf\n            this.indices = null;\n            const child1Indices = [];\n            const child2Indices = [];\n            const bbCenter = this.boundingBox.getCenter();\n            for (let i = 0; i < indices.length; i += 2) {\n                const lineCenter = wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.scale(wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[i]], verts[indices[i + 1]]), 0.5);\n                if (lineCenter[this.axis] < bbCenter[this.axis]) {\n                    child1Indices.push(indices[i], indices[i + 1]);\n                }\n                else {\n                    child2Indices.push(indices[i], indices[i + 1]);\n                }\n            }\n            this.child1 = new LineBoundingBoxHeirarchyNode(verts, child1Indices, this.depth + 1);\n            this.child2 = new LineBoundingBoxHeirarchyNode(verts, child2Indices, this.depth + 1);\n        }\n    }\n    add(indices, verts) {\n        if (this.isLeaf()) {\n            this.indices.push(...indices);\n            if (this.indices.length / 2 < LineBoundingBoxHeirarchy.MAX_LINES_PER_LEAF) {\n                this.setup(verts, this.indices);\n            }\n        }\n        else {\n            const triCenterPoint = wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.scale(wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[0]], wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[1]], verts[indices[2]])), 1 / 3);\n            const bbCenterPoint = this.boundingBox.getCenter();\n            if (triCenterPoint[this.axis] < bbCenterPoint[this.axis]) {\n                this.child1.add(indices, verts);\n            }\n            else {\n                this.child2.add(indices, verts);\n            }\n        }\n    }\n    almostIntersect(ray, verts, pixels) {\n        if (ray.almostIntersectBoundingBox(this.boundingBox, pixels) === null)\n            return null;\n        if (this.isLeaf()) {\n            var res = null;\n            for (let i = 0; i < this.indices.length; i += 2) {\n                var t = ray.almostIntersectLine(verts[this.indices[i]], verts[this.indices[i + 1]], pixels);\n                if (t !== null) {\n                    if (res === null)\n                        res = t;\n                    else\n                        res = Math.min(res, t);\n                }\n            }\n            return res;\n        }\n        else {\n            const t1 = this.child1.almostIntersect(ray, verts, pixels);\n            const t2 = this.child2.almostIntersect(ray, verts, pixels);\n            if (t1 === null)\n                return t2;\n            if (t2 === null)\n                return t1;\n            return Math.min(t1, t2);\n        }\n    }\n    isLeaf() {\n        return this.indices !== null;\n    }\n    print() {\n        var _a, _b;\n        let str = \"\";\n        for (let i = 0; i < this.depth; i++)\n            str += \"->\";\n        if (this.indices)\n            str += `${this.indices.length / 2}lines`;\n        else\n            str += \"node\";\n        console.log(str);\n        (_a = this.child1) === null || _a === void 0 ? void 0 : _a.print();\n        (_b = this.child2) === null || _b === void 0 ? void 0 : _b.print();\n    }\n}\nclass LineBoundingBoxHeirarchy {\n    constructor(verts, indices) {\n        let reducedIndices = [];\n        for (let i = 0; i < indices.length; i += 2) {\n            const a = verts[indices[i]];\n            const b = verts[indices[i + 1]];\n            if (a[0] !== b[0] || a[1] !== b[1] || a[2] !== b[2]) {\n                reducedIndices.push(indices[i], indices[i + 1]);\n            }\n        }\n        this.root = new LineBoundingBoxHeirarchyNode(verts, reducedIndices);\n    }\n    print() {\n        console.log(\"========Line-BBH========\");\n        this.root.print();\n    }\n    almostIntersect(ray, verts, pixels) {\n        console.log(\"intersecting line bbh\");\n        return this.root.almostIntersect(ray, verts, pixels);\n    }\n}\nLineBoundingBoxHeirarchy.MAX_LINES_PER_LEAF = 5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvbGluZUJvdW5kaW5nQm94SGVpcmFyY2h5LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QztBQUNHO0FBRzVDLElBQUssSUFJSjtBQUpELFdBQUssSUFBSTtJQUNQLHlCQUFLO0lBQ0wseUJBQUs7SUFDTCx5QkFBSztBQUNQLENBQUMsRUFKSSxJQUFJLEtBQUosSUFBSSxRQUlSO0FBRUQsTUFBTSw0QkFBNEI7SUFRaEMsWUFDRSxLQUFhLEVBQ2IsT0FBaUIsRUFDVCxRQUFnQixDQUFDO1FBQWpCLFVBQUssR0FBTCxLQUFLLENBQVk7UUFFekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVPLEtBQUssQ0FBQyxLQUFhLEVBQUUsT0FBaUI7UUFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUkscURBQVcsRUFBRSxDQUFDO1FBQ3JDLEtBQUssSUFBSSxLQUFLLElBQUksT0FBTyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSx3QkFBd0IsQ0FBQyxrQkFBa0IsRUFBRTtZQUNyRSxPQUFPO1lBQ1AsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7WUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDcEI7YUFBTTtZQUNMLFdBQVc7WUFDWCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNwQixNQUFNLGFBQWEsR0FBYSxFQUFFLENBQUM7WUFDbkMsTUFBTSxhQUFhLEdBQWEsRUFBRSxDQUFDO1lBQ25DLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDOUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDMUMsTUFBTSxVQUFVLEdBQUcsNkNBQUksQ0FBQyxLQUFLLENBQzNCLDZDQUFJLENBQUMsR0FBRyxDQUNOLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDakIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDdEIsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDVixJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDL0MsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNoRDtxQkFBTTtvQkFDTCxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2hEO2FBQ0Y7WUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksNEJBQTRCLENBQUMsS0FBSyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3JGLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSw0QkFBNEIsQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDdEY7SUFDSCxDQUFDO0lBRU0sR0FBRyxDQUFDLE9BQWlDLEVBQUUsS0FBYTtRQUN6RCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNqQixJQUFJLENBQUMsT0FBUSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDO1lBQy9CLElBQUksSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLHdCQUF3QixDQUFDLGtCQUFrQixFQUFFO2dCQUMxRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUM7YUFDbEM7U0FDRjthQUFNO1lBQ0wsTUFBTSxjQUFjLEdBQUcsNkNBQUksQ0FBQyxLQUFLLENBQUMsNkNBQUksQ0FBQyxHQUFHLENBQ3hDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDakIsNkNBQUksQ0FBQyxHQUFHLENBQ04sS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNqQixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ2xCLENBQ0YsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDVixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ25ELElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN4RCxJQUFJLENBQUMsTUFBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDbEM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE1BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ2xDO1NBQ0Y7SUFDSCxDQUFDO0lBRU0sZUFBZSxDQUFDLEdBQVEsRUFBRSxLQUFhLEVBQUUsTUFBYztRQUU1RCxJQUFJLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxLQUFLLElBQUk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUVuRixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNqQixJQUFJLEdBQUcsR0FBa0IsSUFBSSxDQUFDO1lBQzlCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNoRCxJQUFJLENBQUMsR0FBa0IsR0FBRyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzdHLElBQUksQ0FBQyxLQUFLLElBQUksRUFBRTtvQkFDZCxJQUFJLEdBQUcsS0FBSyxJQUFJO3dCQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7O3dCQUNyQixHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7aUJBQzdCO2FBQ0Y7WUFDRCxPQUFPLEdBQUcsQ0FBQztTQUNaO2FBQU07WUFDTCxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzVELE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFPLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDNUQsSUFBSSxFQUFFLEtBQUssSUFBSTtnQkFBRSxPQUFPLEVBQUUsQ0FBQztZQUMzQixJQUFJLEVBQUUsS0FBSyxJQUFJO2dCQUFFLE9BQU8sRUFBRSxDQUFDO1lBQzNCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDO0lBRU0sTUFBTTtRQUNYLE9BQU8sSUFBSSxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUM7SUFDL0IsQ0FBQztJQUVNLEtBQUs7O1FBQ1YsSUFBSSxHQUFHLEdBQVcsRUFBRSxDQUFDO1FBQ3JCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtZQUFFLEdBQUcsSUFBSSxJQUFJLENBQUM7UUFDakQsSUFBSSxJQUFJLENBQUMsT0FBTztZQUFFLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsT0FBTyxDQUFDOztZQUN0RCxHQUFHLElBQUksTUFBTSxDQUFDO1FBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsVUFBSSxDQUFDLE1BQU0sMENBQUUsS0FBSyxFQUFFLENBQUM7UUFDckIsVUFBSSxDQUFDLE1BQU0sMENBQUUsS0FBSyxFQUFFLENBQUM7SUFDdkIsQ0FBQztDQUVGO0FBRU0sTUFBTSx3QkFBd0I7SUFNbkMsWUFBWSxLQUFhLEVBQUUsT0FBaUI7UUFDMUMsSUFBSSxjQUFjLEdBQWEsRUFBRSxDQUFDO1FBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDMUMsTUFBTSxDQUFDLEdBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxHQUFTLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDbkQsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pEO1NBQ0Y7UUFDRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksNEJBQTRCLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFTSxLQUFLO1FBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVNLGVBQWUsQ0FBQyxHQUFRLEVBQUUsS0FBYSxFQUFFLE1BQWM7UUFDNUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN2RCxDQUFDOztBQXhCc0IsMkNBQWtCLEdBQUcsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvZ2VvbWV0cnkvbGluZUJvdW5kaW5nQm94SGVpcmFyY2h5LnRzPzA0OWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVjMywgVmVjMyB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiO1xuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tIFwiLi9ib3VuZGluZ0JveFwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4vcmF5XCI7XG5cbmVudW0gQXhpcyB7XG4gIFggPSAwLFxuICBZID0gMSxcbiAgWiA9IDJcbn1cblxuY2xhc3MgTGluZUJvdW5kaW5nQm94SGVpcmFyY2h5Tm9kZSB7XG5cbiAgcHJpdmF0ZSBpbmRpY2VzITogbnVtYmVyW10gfCBudWxsO1xuICBwcml2YXRlIGNoaWxkMSE6IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUgfCBudWxsO1xuICBwcml2YXRlIGNoaWxkMiE6IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUgfCBudWxsO1xuICBwcml2YXRlIGJvdW5kaW5nQm94ITogQm91bmRpbmdCb3g7XG4gIHByaXZhdGUgYXhpcyE6IEF4aXM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmVydHM6IFZlYzNbXSxcbiAgICBpbmRpY2VzOiBudW1iZXJbXSxcbiAgICBwcml2YXRlIGRlcHRoOiBudW1iZXIgPSAwXG4gICkge1xuICAgIHRoaXMuc2V0dXAodmVydHMsIGluZGljZXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cCh2ZXJ0czogVmVjM1tdLCBpbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHRoaXMuYXhpcyA9IHRoaXMuZGVwdGggJSAzO1xuICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm91bmRpbmdCb3goKTtcbiAgICBmb3IgKGxldCBpbmRleCBvZiBpbmRpY2VzKSB7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94LmFkZFZlYzModmVydHNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kaWNlcy5sZW5ndGggLyAyIDw9IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeS5NQVhfTElORVNfUEVSX0xFQUYpIHtcbiAgICAgIC8vIGxlYWZcbiAgICAgIHRoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICB0aGlzLmNoaWxkMSA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkMiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vbiBsZWFmXG4gICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgY29uc3QgY2hpbGQxSW5kaWNlczogbnVtYmVyW10gPSBbXTtcbiAgICAgIGNvbnN0IGNoaWxkMkluZGljZXM6IG51bWJlcltdID0gW107XG4gICAgICBjb25zdCBiYkNlbnRlciA9IHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGljZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3QgbGluZUNlbnRlciA9IHZlYzMuc2NhbGUoXG4gICAgICAgICAgdmVjMy5hZGQoXG4gICAgICAgICAgICB2ZXJ0c1tpbmRpY2VzW2ldXSxcbiAgICAgICAgICAgIHZlcnRzW2luZGljZXNbaSArIDFdXVxuICAgICAgICAgICksIDAuNSk7XG4gICAgICAgIGlmIChsaW5lQ2VudGVyW3RoaXMuYXhpc10gPCBiYkNlbnRlclt0aGlzLmF4aXNdKSB7XG4gICAgICAgICAgY2hpbGQxSW5kaWNlcy5wdXNoKGluZGljZXNbaV0sIGluZGljZXNbaSArIDFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZDJJbmRpY2VzLnB1c2goaW5kaWNlc1tpXSwgaW5kaWNlc1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hpbGQxID0gbmV3IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUodmVydHMsIGNoaWxkMUluZGljZXMsIHRoaXMuZGVwdGggKyAxKTtcbiAgICAgIHRoaXMuY2hpbGQyID0gbmV3IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUodmVydHMsIGNoaWxkMkluZGljZXMsIHRoaXMuZGVwdGggKyAxKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYWRkKGluZGljZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgdmVydHM6IFZlYzNbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzTGVhZigpKSB7XG4gICAgICB0aGlzLmluZGljZXMhLnB1c2goLi4uaW5kaWNlcyk7XG4gICAgICBpZiAodGhpcy5pbmRpY2VzIS5sZW5ndGggLyAyIDwgTGluZUJvdW5kaW5nQm94SGVpcmFyY2h5Lk1BWF9MSU5FU19QRVJfTEVBRikge1xuICAgICAgICB0aGlzLnNldHVwKHZlcnRzLCB0aGlzLmluZGljZXMhKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdHJpQ2VudGVyUG9pbnQgPSB2ZWMzLnNjYWxlKHZlYzMuYWRkKFxuICAgICAgICB2ZXJ0c1tpbmRpY2VzWzBdXSxcbiAgICAgICAgdmVjMy5hZGQoXG4gICAgICAgICAgdmVydHNbaW5kaWNlc1sxXV0sXG4gICAgICAgICAgdmVydHNbaW5kaWNlc1syXV1cbiAgICAgICAgKVxuICAgICAgKSwgMSAvIDMpO1xuICAgICAgY29uc3QgYmJDZW50ZXJQb2ludCA9IHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKCk7XG4gICAgICBpZiAodHJpQ2VudGVyUG9pbnRbdGhpcy5heGlzXSA8IGJiQ2VudGVyUG9pbnRbdGhpcy5heGlzXSkge1xuICAgICAgICB0aGlzLmNoaWxkMSEuYWRkKGluZGljZXMsIHZlcnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2hpbGQyIS5hZGQoaW5kaWNlcywgdmVydHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhbG1vc3RJbnRlcnNlY3QocmF5OiBSYXksIHZlcnRzOiBWZWMzW10sIHBpeGVsczogbnVtYmVyKTogbnVtYmVyIHwgbnVsbCB7XG5cbiAgICBpZiAocmF5LmFsbW9zdEludGVyc2VjdEJvdW5kaW5nQm94KHRoaXMuYm91bmRpbmdCb3gsIHBpeGVscykgPT09IG51bGwpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHRoaXMuaXNMZWFmKCkpIHtcbiAgICAgIHZhciByZXM6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciB0OiBudW1iZXIgfCBudWxsID0gcmF5LmFsbW9zdEludGVyc2VjdExpbmUodmVydHNbdGhpcy5pbmRpY2VzIVtpXV0sIHZlcnRzW3RoaXMuaW5kaWNlcyFbaSArIDFdXSwgcGl4ZWxzKTtcbiAgICAgICAgaWYgKHQgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAocmVzID09PSBudWxsKSByZXMgPSB0O1xuICAgICAgICAgIGVsc2UgcmVzID0gTWF0aC5taW4ocmVzLCB0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdDEgPSB0aGlzLmNoaWxkMSEuYWxtb3N0SW50ZXJzZWN0KHJheSwgdmVydHMsIHBpeGVscyk7XG4gICAgICBjb25zdCB0MiA9IHRoaXMuY2hpbGQyIS5hbG1vc3RJbnRlcnNlY3QocmF5LCB2ZXJ0cywgcGl4ZWxzKTtcbiAgICAgIGlmICh0MSA9PT0gbnVsbCkgcmV0dXJuIHQyO1xuICAgICAgaWYgKHQyID09PSBudWxsKSByZXR1cm4gdDE7XG4gICAgICByZXR1cm4gTWF0aC5taW4odDEsIHQyKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaXNMZWFmKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmluZGljZXMgIT09IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcHJpbnQoKTogdm9pZCB7XG4gICAgbGV0IHN0cjogc3RyaW5nID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGVwdGg7IGkrKykgc3RyICs9IFwiLT5cIjtcbiAgICBpZiAodGhpcy5pbmRpY2VzKSBzdHIgKz0gYCR7dGhpcy5pbmRpY2VzLmxlbmd0aCAvIDJ9bGluZXNgO1xuICAgIGVsc2Ugc3RyICs9IFwibm9kZVwiO1xuICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgdGhpcy5jaGlsZDE/LnByaW50KCk7XG4gICAgdGhpcy5jaGlsZDI/LnByaW50KCk7XG4gIH1cblxufVxuXG5leHBvcnQgY2xhc3MgTGluZUJvdW5kaW5nQm94SGVpcmFyY2h5IHtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1BWF9MSU5FU19QRVJfTEVBRiA9IDU7XG5cbiAgcHJpdmF0ZSByb290OiBMaW5lQm91bmRpbmdCb3hIZWlyYXJjaHlOb2RlO1xuXG4gIGNvbnN0cnVjdG9yKHZlcnRzOiBWZWMzW10sIGluZGljZXM6IG51bWJlcltdKSB7XG4gICAgbGV0IHJlZHVjZWRJbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgY29uc3QgYTogVmVjMyA9IHZlcnRzW2luZGljZXNbaV1dO1xuICAgICAgY29uc3QgYjogVmVjMyA9IHZlcnRzW2luZGljZXNbaSArIDFdXTtcbiAgICAgIGlmIChhWzBdICE9PSBiWzBdIHx8IGFbMV0gIT09IGJbMV0gfHwgYVsyXSAhPT0gYlsyXSkge1xuICAgICAgICByZWR1Y2VkSW5kaWNlcy5wdXNoKGluZGljZXNbaV0sIGluZGljZXNbaSArIDFdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yb290ID0gbmV3IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUodmVydHMsIHJlZHVjZWRJbmRpY2VzKTtcbiAgfVxuXG4gIHB1YmxpYyBwcmludCgpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09TGluZS1CQkg9PT09PT09PVwiKTtcbiAgICB0aGlzLnJvb3QucHJpbnQoKTtcbiAgfVxuXG4gIHB1YmxpYyBhbG1vc3RJbnRlcnNlY3QocmF5OiBSYXksIHZlcnRzOiBWZWMzW10sIHBpeGVsczogbnVtYmVyKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc29sZS5sb2coXCJpbnRlcnNlY3RpbmcgbGluZSBiYmhcIik7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5hbG1vc3RJbnRlcnNlY3QocmF5LCB2ZXJ0cywgcGl4ZWxzKTtcbiAgfVxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/geometry/lineBoundingBoxHeirarchy.ts\n");

/***/ }),

/***/ "./src/geometry/mesh.ts":
/*!******************************!*\
  !*** ./src/geometry/mesh.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Mesh: () => (/* binding */ Mesh)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _render_renderMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../render/renderMesh */ \"./src/render/renderMesh.ts\");\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundingBox */ \"./src/geometry/boundingBox.ts\");\n/* harmony import */ var _geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./geometry */ \"./src/geometry/geometry.ts\");\n/* harmony import */ var _meshBoundingBoxHeirarchy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./meshBoundingBoxHeirarchy */ \"./src/geometry/meshBoundingBoxHeirarchy.ts\");\n/* harmony import */ var _ray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ray */ \"./src/geometry/ray.ts\");\n\n\n\n\n\n\n\nclass Mesh extends _geometry__WEBPACK_IMPORTED_MODULE_3__.Geometry {\n    constructor(verts, normals, indices, model = wgpu_matrix__WEBPACK_IMPORTED_MODULE_6__.mat4.identity()) {\n        super();\n        this.verts = verts;\n        this.normals = normals;\n        this.indices = indices;\n        this.model = model;\n        const vertexBuffer = [];\n        for (let i = 0; i < verts.length; i++) {\n            vertexBuffer.push(...verts[i], 1, ...normals[i], 0);\n        }\n        this.renderMesh = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addRenderMesh(new _render_renderMesh__WEBPACK_IMPORTED_MODULE_1__.RenderMesh(new Float32Array(vertexBuffer), new Int32Array(this.indices), new Float32Array([0, 1, 0, 1]), model));\n        this.boundingBoxHeirarchy = new _meshBoundingBoxHeirarchy__WEBPACK_IMPORTED_MODULE_4__.MeshBoundingBoxHeirarchy(this.verts, this.indices);\n    }\n    intersect(ray) {\n        const objectSpaceRay = _ray__WEBPACK_IMPORTED_MODULE_5__.Ray.transform(ray, wgpu_matrix__WEBPACK_IMPORTED_MODULE_6__.mat4.inverse(this.model));\n        return this.boundingBoxHeirarchy.intersect(objectSpaceRay, this.verts);\n    }\n    getModel() {\n        return this.model;\n    }\n    destroy() {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeMesh(this.renderMesh);\n    }\n    getBoundingBox() {\n        const bb = new _boundingBox__WEBPACK_IMPORTED_MODULE_2__.BoundingBox();\n        this.verts.forEach((vert) => {\n            bb.addVec3(wgpu_matrix__WEBPACK_IMPORTED_MODULE_6__.vec3.transformMat4(vert, this.model));\n        });\n        return bb;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvbWVzaC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFxRDtBQUNuQjtBQUNnQjtBQUVOO0FBQ047QUFDZ0M7QUFDMUM7QUFJckIsTUFBTSxJQUFLLFNBQVEsK0NBQVE7SUFNaEMsWUFDVSxLQUFhLEVBQ2IsT0FBZSxFQUNmLE9BQWlCLEVBQ2pCLFFBQWMsNkNBQUksQ0FBQyxRQUFRLEVBQUU7UUFFckMsS0FBSyxFQUFFLENBQUM7UUFMQSxVQUFLLEdBQUwsS0FBSyxDQUFRO1FBQ2IsWUFBTyxHQUFQLE9BQU8sQ0FBUTtRQUNmLFlBQU8sR0FBUCxPQUFPLENBQVU7UUFDakIsVUFBSyxHQUFMLEtBQUssQ0FBd0I7UUFHckMsTUFBTSxZQUFZLEdBQWEsRUFBRSxDQUFDO1FBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3JDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3JEO1FBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRywwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLGFBQWEsQ0FBQyxJQUFJLDBEQUFVLENBQ2hFLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUM5QixJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQzVCLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDOUIsS0FBSyxDQUNOLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLCtFQUF3QixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JGLENBQUM7SUFFTSxTQUFTLENBQUMsR0FBUTtRQUN2QixNQUFNLGNBQWMsR0FBUSxxQ0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsNkNBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDekUsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVNLE9BQU87UUFDWiwwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVNLGNBQWM7UUFDbkIsTUFBTSxFQUFFLEdBQWdCLElBQUkscURBQVcsRUFBRSxDQUFDO1FBQzFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBVSxFQUFFLEVBQUU7WUFDaEMsRUFBRSxDQUFDLE9BQU8sQ0FBQyw2Q0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkQsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2dlb21ldHJ5L21lc2gudHM/YzA0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXQ0LCBNYXQ0LCB2ZWMzLCBWZWMzIH0gZnJvbSBcIndncHUtbWF0cml4XCI7XG5pbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi9jYWRcIjtcbmltcG9ydCB7IFJlbmRlck1lc2ggfSBmcm9tIFwiLi4vcmVuZGVyL3JlbmRlck1lc2hcIjtcbmltcG9ydCB7IFJlbmRlcklEIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XG5pbXBvcnQgeyBCb3VuZGluZ0JveCB9IGZyb20gXCIuL2JvdW5kaW5nQm94XCI7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gXCIuL2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBNZXNoQm91bmRpbmdCb3hIZWlyYXJjaHkgfSBmcm9tIFwiLi9tZXNoQm91bmRpbmdCb3hIZWlyYXJjaHlcIjtcbmltcG9ydCB7IFJheSB9IGZyb20gXCIuL3JheVwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIE1lc2ggZXh0ZW5kcyBHZW9tZXRyeSB7XG5cblxuICBwcml2YXRlIHJlbmRlck1lc2g6IFJlbmRlcklEO1xuICBwcml2YXRlIGJvdW5kaW5nQm94SGVpcmFyY2h5OiBNZXNoQm91bmRpbmdCb3hIZWlyYXJjaHk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB2ZXJ0czogVmVjM1tdLFxuICAgIHByaXZhdGUgbm9ybWFsczogVmVjM1tdLFxuICAgIHByaXZhdGUgaW5kaWNlczogbnVtYmVyW10sXG4gICAgcHJpdmF0ZSBtb2RlbDogTWF0NCA9IG1hdDQuaWRlbnRpdHkoKVxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHZlcnRleEJ1ZmZlcjogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2ZXJ0ZXhCdWZmZXIucHVzaCguLi52ZXJ0c1tpXSwgMSwgLi4ubm9ybWFsc1tpXSwgMCk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyTWVzaCA9IElOU1RBTkNFLmdldFNjZW5lKCkuYWRkUmVuZGVyTWVzaChuZXcgUmVuZGVyTWVzaChcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkodmVydGV4QnVmZmVyKSxcbiAgICAgIG5ldyBJbnQzMkFycmF5KHRoaXMuaW5kaWNlcyksXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KFswLCAxLCAwLCAxXSksXG4gICAgICBtb2RlbFxuICAgICkpO1xuICAgIHRoaXMuYm91bmRpbmdCb3hIZWlyYXJjaHkgPSBuZXcgTWVzaEJvdW5kaW5nQm94SGVpcmFyY2h5KHRoaXMudmVydHMsIHRoaXMuaW5kaWNlcyk7XG4gIH1cblxuICBwdWJsaWMgaW50ZXJzZWN0KHJheTogUmF5KTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3Qgb2JqZWN0U3BhY2VSYXk6IFJheSA9IFJheS50cmFuc2Zvcm0ocmF5LCBtYXQ0LmludmVyc2UodGhpcy5tb2RlbCkpO1xuICAgIHJldHVybiB0aGlzLmJvdW5kaW5nQm94SGVpcmFyY2h5LmludGVyc2VjdChvYmplY3RTcGFjZVJheSwgdGhpcy52ZXJ0cyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZWwoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWw7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBJTlNUQU5DRS5nZXRTY2VuZSgpLnJlbW92ZU1lc2godGhpcy5yZW5kZXJNZXNoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb3VuZGluZ0JveCgpOiBCb3VuZGluZ0JveCB7XG4gICAgY29uc3QgYmI6IEJvdW5kaW5nQm94ID0gbmV3IEJvdW5kaW5nQm94KCk7XG4gICAgdGhpcy52ZXJ0cy5mb3JFYWNoKCh2ZXJ0OiBWZWMzKSA9PiB7XG4gICAgICBiYi5hZGRWZWMzKHZlYzMudHJhbnNmb3JtTWF0NCh2ZXJ0LCB0aGlzLm1vZGVsKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJiO1xuICB9XG5cbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/geometry/mesh.ts\n");

/***/ }),

/***/ "./src/geometry/meshBoundingBoxHeirarchy.ts":
/*!**************************************************!*\
  !*** ./src/geometry/meshBoundingBoxHeirarchy.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeshBoundingBoxHeirarchy: () => (/* binding */ MeshBoundingBoxHeirarchy)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boundingBox */ \"./src/geometry/boundingBox.ts\");\n\n\nvar Axis;\n(function (Axis) {\n    Axis[Axis[\"X\"] = 0] = \"X\";\n    Axis[Axis[\"Y\"] = 1] = \"Y\";\n    Axis[Axis[\"Z\"] = 2] = \"Z\";\n})(Axis || (Axis = {}));\nclass MeshBoundingBoxHeirarchyNode {\n    constructor(verts, indices, depth = 0) {\n        this.depth = depth;\n        this.setup(verts, indices);\n    }\n    setup(verts, indices) {\n        this.axis = this.depth % 3;\n        this.boundingBox = new _boundingBox__WEBPACK_IMPORTED_MODULE_0__.BoundingBox();\n        for (let index of indices) {\n            this.boundingBox.addVec3(verts[index]);\n        }\n        if (indices.length / 3 <= MeshBoundingBoxHeirarchy.MAX_TRIS_PER_LEAF) {\n            // leaf\n            this.indices = indices;\n            this.child1 = null;\n            this.child2 = null;\n        }\n        else {\n            // non leaf\n            this.indices = null;\n            const child1Indices = [];\n            const child2Indices = [];\n            for (let i = 0; i < indices.length; i += 3) {\n                const triCenter = wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.scale(wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[i]], wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[i + 1]], verts[indices[i + 1]])), 1 / 3);\n                const bbCenter = this.boundingBox.getCenter();\n                if (triCenter[this.axis] < bbCenter[this.axis]) {\n                    child1Indices.push(indices[i], indices[i + 1], indices[i + 2]);\n                }\n                else {\n                    child2Indices.push(indices[i], indices[i + 1], indices[i + 2]);\n                }\n            }\n            this.child1 = new MeshBoundingBoxHeirarchyNode(verts, child1Indices, this.depth + 1);\n            this.child2 = new MeshBoundingBoxHeirarchyNode(verts, child2Indices, this.depth + 1);\n        }\n    }\n    add(indices, verts) {\n        if (this.isLeaf()) {\n            this.indices.push(...indices);\n            if (this.indices.length / 3 < MeshBoundingBoxHeirarchy.MAX_TRIS_PER_LEAF) {\n                this.setup(verts, this.indices);\n            }\n        }\n        else {\n            const triCenterPoint = wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.scale(wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[0]], wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.vec3.add(verts[indices[1]], verts[indices[2]])), 1 / 3);\n            const bbCenterPoint = this.boundingBox.getCenter();\n            if (triCenterPoint[this.axis] < bbCenterPoint[this.axis]) {\n                this.child1.add(indices, verts);\n            }\n            else {\n                this.child2.add(indices, verts);\n            }\n        }\n    }\n    intersect(ray, verts) {\n        if (ray.intersectBoundingBox(this.boundingBox) === null)\n            return null;\n        if (this.isLeaf()) {\n            var res = null;\n            for (let i = 0; i < this.indices.length; i += 3) {\n                var t = ray.intersectTriangle(verts[this.indices[i]], verts[this.indices[i + 1]], verts[this.indices[i + 2]]);\n                if (t !== null) {\n                    if (res === null)\n                        res = t;\n                    else\n                        res = Math.min(res, t);\n                }\n            }\n            return res;\n        }\n        else {\n            const t1 = this.child1.intersect(ray, verts);\n            const t2 = this.child2.intersect(ray, verts);\n            if (t1 === null)\n                return t2;\n            if (t2 === null)\n                return t1;\n            return Math.min(t1, t2);\n        }\n    }\n    isLeaf() {\n        return this.indices !== null;\n    }\n    print() {\n        var _a, _b;\n        let str = \"\";\n        for (let i = 0; i < this.depth; i++)\n            str += \"->\";\n        if (this.indices)\n            str += `${this.indices.length / 3}triangles`;\n        else\n            str += \"node\";\n        console.log(str);\n        (_a = this.child1) === null || _a === void 0 ? void 0 : _a.print();\n        (_b = this.child2) === null || _b === void 0 ? void 0 : _b.print();\n    }\n}\nclass MeshBoundingBoxHeirarchy {\n    constructor(verts, indices) {\n        this.root = new MeshBoundingBoxHeirarchyNode(verts, indices);\n    }\n    print() {\n        console.log(\"========Mesh-BBH========\");\n        this.root.print();\n    }\n    intersect(ray, verts) {\n        console.log(\"intersecting mesh bbh\");\n        return this.root.intersect(ray, verts);\n    }\n}\nMeshBoundingBoxHeirarchy.MAX_TRIS_PER_LEAF = 5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvbWVzaEJvdW5kaW5nQm94SGVpcmFyY2h5LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QztBQUNHO0FBRzVDLElBQUssSUFJSjtBQUpELFdBQUssSUFBSTtJQUNQLHlCQUFLO0lBQ0wseUJBQUs7SUFDTCx5QkFBSztBQUNQLENBQUMsRUFKSSxJQUFJLEtBQUosSUFBSSxRQUlSO0FBRUQsTUFBTSw0QkFBNEI7SUFRaEMsWUFDRSxLQUFhLEVBQ2IsT0FBaUIsRUFDVCxRQUFnQixDQUFDO1FBQWpCLFVBQUssR0FBTCxLQUFLLENBQVk7UUFFekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVPLEtBQUssQ0FBQyxLQUFhLEVBQUUsT0FBaUI7UUFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUkscURBQVcsRUFBRSxDQUFDO1FBQ3JDLEtBQUssSUFBSSxLQUFLLElBQUksT0FBTyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSx3QkFBd0IsQ0FBQyxpQkFBaUIsRUFBRTtZQUNwRSxPQUFPO1lBQ1AsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7WUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDcEI7YUFBTTtZQUNMLFdBQVc7WUFDWCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNwQixNQUFNLGFBQWEsR0FBYSxFQUFFLENBQUM7WUFDbkMsTUFBTSxhQUFhLEdBQWEsRUFBRSxDQUFDO1lBQ25DLEtBQUssSUFBSSxD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O0lBQ3pDLENBQUM7O0FBaEJzQiwwQ0FBaUIsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9nZW9tZXRyeS9tZXNoQm91bmRpbmdCb3hIZWlyYXJjaHkudHM/NjgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZWMzLCBWZWMzIH0gZnJvbSBcIndncHUtbWF0cml4XCI7XG5pbXBvcnQgeyBCb3VuZGluZ0JveCB9IGZyb20gXCIuL2JvdW5kaW5nQm94XCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi9yYXlcIjtcblxuZW51bSBBeGlzIHtcbiAgWCA9IDAsXG4gIFkgPSAxLFxuICBaID0gMixcbn1cblxuY2xhc3MgTWVzaEJvdW5kaW5nQm94SGVpcmFyY2h5Tm9kZSB7XG5cbiAgcHJpdmF0ZSBpbmRpY2VzITogbnVtYmVyW10gfCBudWxsO1xuICBwcml2YXRlIGNoaWxkMSE6IE1lc2hCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUgfCBudWxsO1xuICBwcml2YXRlIGNoaWxkMiE6IE1lc2hCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUgfCBudWxsO1xuICBwcml2YXRlIGJvdW5kaW5nQm94ITogQm91bmRpbmdCb3g7XG4gIHByaXZhdGUgYXhpcyE6IEF4aXM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmVydHM6IFZlYzNbXSxcbiAgICBpbmRpY2VzOiBudW1iZXJbXSxcbiAgICBwcml2YXRlIGRlcHRoOiBudW1iZXIgPSAwXG4gICkge1xuICAgIHRoaXMuc2V0dXAodmVydHMsIGluZGljZXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cCh2ZXJ0czogVmVjM1tdLCBpbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHRoaXMuYXhpcyA9IHRoaXMuZGVwdGggJSAzO1xuICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm91bmRpbmdCb3goKTtcbiAgICBmb3IgKGxldCBpbmRleCBvZiBpbmRpY2VzKSB7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94LmFkZFZlYzModmVydHNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kaWNlcy5sZW5ndGggLyAzIDw9IE1lc2hCb3VuZGluZ0JveEhlaXJhcmNoeS5NQVhfVFJJU19QRVJfTEVBRikge1xuICAgICAgLy8gbGVhZlxuICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgIHRoaXMuY2hpbGQxID0gbnVsbDtcbiAgICAgIHRoaXMuY2hpbGQyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm9uIGxlYWZcbiAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICBjb25zdCBjaGlsZDFJbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgY29uc3QgY2hpbGQySW5kaWNlczogbnVtYmVyW10gPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjb25zdCB0cmlDZW50ZXIgPSB2ZWMzLnNjYWxlKHZlYzMuYWRkKFxuICAgICAgICAgIHZlcnRzW2luZGljZXNbaV1dLFxuICAgICAgICAgIHZlYzMuYWRkKFxuICAgICAgICAgICAgdmVydHNbaW5kaWNlc1tpICsgMV1dLFxuICAgICAgICAgICAgdmVydHNbaW5kaWNlc1tpICsgMV1dXG4gICAgICAgICAgKVxuICAgICAgICApLCAxIC8gMyk7XG4gICAgICAgIGNvbnN0IGJiQ2VudGVyID0gdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIoKTtcbiAgICAgICAgaWYgKHRyaUNlbnRlclt0aGlzLmF4aXNdIDwgYmJDZW50ZXJbdGhpcy5heGlzXSkge1xuICAgICAgICAgIGNoaWxkMUluZGljZXMucHVzaChpbmRpY2VzW2ldLCBpbmRpY2VzW2kgKyAxXSwgaW5kaWNlc1tpICsgMl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkMkluZGljZXMucHVzaChpbmRpY2VzW2ldLCBpbmRpY2VzW2kgKyAxXSwgaW5kaWNlc1tpICsgMl0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmNoaWxkMSA9IG5ldyBNZXNoQm91bmRpbmdCb3hIZWlyYXJjaHlOb2RlKHZlcnRzLCBjaGlsZDFJbmRpY2VzLCB0aGlzLmRlcHRoICsgMSk7XG4gICAgICB0aGlzLmNoaWxkMiA9IG5ldyBNZXNoQm91bmRpbmdCb3hIZWlyYXJjaHlOb2RlKHZlcnRzLCBjaGlsZDJJbmRpY2VzLCB0aGlzLmRlcHRoICsgMSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZChpbmRpY2VzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIHZlcnRzOiBWZWMzW10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0xlYWYoKSkge1xuICAgICAgdGhpcy5pbmRpY2VzIS5wdXNoKC4uLmluZGljZXMpO1xuICAgICAgaWYgKHRoaXMuaW5kaWNlcyEubGVuZ3RoIC8gMyA8IE1lc2hCb3VuZGluZ0JveEhlaXJhcmNoeS5NQVhfVFJJU19QRVJfTEVBRikge1xuICAgICAgICB0aGlzLnNldHVwKHZlcnRzLCB0aGlzLmluZGljZXMhKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdHJpQ2VudGVyUG9pbnQgPSB2ZWMzLnNjYWxlKHZlYzMuYWRkKFxuICAgICAgICB2ZXJ0c1tpbmRpY2VzWzBdXSxcbiAgICAgICAgdmVjMy5hZGQoXG4gICAgICAgICAgdmVydHNbaW5kaWNlc1sxXV0sXG4gICAgICAgICAgdmVydHNbaW5kaWNlc1syXV1cbiAgICAgICAgKVxuICAgICAgKSwgMSAvIDMpO1xuICAgICAgY29uc3QgYmJDZW50ZXJQb2ludCA9IHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKCk7XG4gICAgICBpZiAodHJpQ2VudGVyUG9pbnRbdGhpcy5heGlzXSA8IGJiQ2VudGVyUG9pbnRbdGhpcy5heGlzXSkge1xuICAgICAgICB0aGlzLmNoaWxkMSEuYWRkKGluZGljZXMsIHZlcnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2hpbGQyIS5hZGQoaW5kaWNlcywgdmVydHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnNlY3QocmF5OiBSYXksIHZlcnRzOiBWZWMzW10pOiBudW1iZXIgfCBudWxsIHtcblxuICAgIGlmIChyYXkuaW50ZXJzZWN0Qm91bmRpbmdCb3godGhpcy5ib3VuZGluZ0JveCkgPT09IG51bGwpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHRoaXMuaXNMZWFmKCkpIHtcbiAgICAgIHZhciByZXM6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMhLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciB0OiBudW1iZXIgfCBudWxsID0gcmF5LmludGVyc2VjdFRyaWFuZ2xlKHZlcnRzW3RoaXMuaW5kaWNlcyFbaV1dLCB2ZXJ0c1t0aGlzLmluZGljZXMhW2kgKyAxXV0sIHZlcnRzW3RoaXMuaW5kaWNlcyFbaSArIDJdXSk7XG4gICAgICAgIGlmICh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHJlcyA9PT0gbnVsbCkgcmVzID0gdDtcbiAgICAgICAgICBlbHNlIHJlcyA9IE1hdGgubWluKHJlcywgdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHQxID0gdGhpcy5jaGlsZDEhLmludGVyc2VjdChyYXksIHZlcnRzKTtcbiAgICAgIGNvbnN0IHQyID0gdGhpcy5jaGlsZDIhLmludGVyc2VjdChyYXksIHZlcnRzKTtcbiAgICAgIGlmICh0MSA9PT0gbnVsbCkgcmV0dXJuIHQyO1xuICAgICAgaWYgKHQyID09PSBudWxsKSByZXR1cm4gdDE7XG4gICAgICByZXR1cm4gTWF0aC5taW4odDEsIHQyKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaXNMZWFmKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmluZGljZXMgIT09IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcHJpbnQoKTogdm9pZCB7XG4gICAgbGV0IHN0cjogc3RyaW5nID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGVwdGg7IGkrKykgc3RyICs9IFwiLT5cIjtcbiAgICBpZiAodGhpcy5pbmRpY2VzKSBzdHIgKz0gYCR7dGhpcy5pbmRpY2VzLmxlbmd0aCAvIDN9dHJpYW5nbGVzYDtcbiAgICBlbHNlIHN0ciArPSBcIm5vZGVcIjtcbiAgICBjb25zb2xlLmxvZyhzdHIpO1xuICAgIHRoaXMuY2hpbGQxPy5wcmludCgpO1xuICAgIHRoaXMuY2hpbGQyPy5wcmludCgpO1xuICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIE1lc2hCb3VuZGluZ0JveEhlaXJhcmNoeSB7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBNQVhfVFJJU19QRVJfTEVBRiA9IDU7XG5cbiAgcHJpdmF0ZSByb290OiBNZXNoQm91bmRpbmdCb3hIZWlyYXJjaHlOb2RlO1xuXG4gIGNvbnN0cnVjdG9yKHZlcnRzOiBWZWMzW10sIGluZGljZXM6IG51bWJlcltdKSB7XG4gICAgdGhpcy5yb290ID0gbmV3IE1lc2hCb3VuZGluZ0JveEhlaXJhcmNoeU5vZGUodmVydHMsIGluZGljZXMpO1xuICB9XG5cbiAgcHVibGljIHByaW50KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT1NZXNoLUJCSD09PT09PT09XCIpO1xuICAgIHRoaXMucm9vdC5wcmludCgpO1xuICB9XG5cbiAgcHVibGljIGludGVyc2VjdChyYXk6IFJheSwgdmVydHM6IFZlYzNbXSk6IG51bWJlciB8IG51bGwge1xuICAgIGNvbnNvbGUubG9nKFwiaW50ZXJzZWN0aW5nIG1lc2ggYmJoXCIpO1xuICAgIHJldHVybiB0aGlzLnJvb3QuaW50ZXJzZWN0KHJheSwgdmVydHMpO1xuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/meshBoundingBoxHeirarchy.ts\n");

/***/ }),

/***/ "./src/geometry/nurbs/curve.ts":
/*!*************************************!*\
  !*** ./src/geometry/nurbs/curve.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Curve: () => (/* binding */ Curve)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry */ \"./src/geometry/geometry.ts\");\n/* harmony import */ var _polyLine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../polyLine */ \"./src/geometry/polyLine.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/geometry/nurbs/utils.ts\");\n\n\n\n\nclass Curve extends _geometry__WEBPACK_IMPORTED_MODULE_0__.Geometry {\n    constructor(controlPoints, degree, knots = []) {\n        super();\n        this.controlPoints = controlPoints;\n        this.degree = degree;\n        this.knots = knots;\n        if (this.knots.length == 0) {\n            this.knots = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.genericKnotVector)(this.controlPoints.length, this.degree);\n        }\n        this.controlCage = null;\n        this.polyline = null;\n        this.updateSamples();\n    }\n    getModel() {\n        return this.controlCage.getModel();\n    }\n    intersect(ray) {\n        return this.polyline.intersect(ray);\n    }\n    getBoundingBox() {\n        return this.controlCage.getBoundingBox();\n    }\n    getDegree() {\n        return this.degree;\n    }\n    destroy() {\n        this.controlCage.delete();\n        this.polyline.delete();\n    }\n    addControlPoint(point, weight) {\n        this.controlPoints.push(wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(...point, weight));\n        this.knots = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.genericKnotVector)(this.controlPoints.length, this.degree);\n        this.updateSamples();\n    }\n    updateLastControlPoint(point, weight) {\n        this.controlPoints[this.controlPoints.length - 1] = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(...point, weight);\n        this.updateSamples();\n    }\n    removeLastControlPoint() {\n        this.controlPoints.pop();\n        if (this.degree === this.controlPoints.length)\n            this.degree--;\n        this.knots = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.genericKnotVector)(this.controlPoints.length, this.degree);\n        this.updateSamples();\n    }\n    elevateDegree(count) {\n        this.degree += count;\n        this.knots = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.genericKnotVector)(this.controlPoints.length, this.degree);\n        this.updateSamples();\n    }\n    getControlPointCount() {\n        return this.controlPoints.length;\n    }\n    updateSamples() {\n        if (this.controlCage)\n            this.controlCage.delete();\n        if (this.polyline)\n            this.polyline.delete();\n        const samples = [];\n        const sampleCount = Curve.SAMPLES_PER_EDGE * (this.controlPoints.length - 1);\n        for (let i = 0; i <= sampleCount; i++) {\n            samples.push(this.sample(i / sampleCount));\n        }\n        this.polyline = new _polyLine__WEBPACK_IMPORTED_MODULE_1__.PolyLine(samples.map((point) => { return wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(point[0] / point[3], point[1] / point[3], point[2] / point[3]); }), [0, 1, 0, 1]);\n        this.controlCage = new _polyLine__WEBPACK_IMPORTED_MODULE_1__.PolyLine(this.controlPoints.map((point) => { return wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(point[0], point[1], point[2]); }), [0, 0, 1, 1]);\n    }\n    sample(t) {\n        const u = t * (this.knots.at(-1) - this.knots.at(0));\n        const knotSpan = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.span)(this.knots, u, this.degree);\n        const funcs = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.basisFuncs)(this.knots, u, this.degree);\n        let res = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(0, 0, 0, 0);\n        for (let i = 0; i <= this.degree; i++) {\n            res = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.add(res, wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.scale(this.controlPoints[knotSpan - this.degree + i], funcs[i]));\n        }\n        return res;\n    }\n}\nCurve.SAMPLES_PER_EDGE = 10;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUEzRnNCLHNCQUFnQixHQUFHLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2dlb21ldHJ5L251cmJzL2N1cnZlLnRzPzAzZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0NCwgdmVjMywgVmVjMywgdmVjNCwgVmVjNCB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiO1xuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tIFwiLi4vYm91bmRpbmdCb3hcIjtcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSBcIi4uL2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBQb2x5TGluZSB9IGZyb20gXCIuLi9wb2x5TGluZVwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4uL3JheVwiO1xuaW1wb3J0IHsgYmFzaXNGdW5jcywgZ2VuZXJpY0tub3RWZWN0b3IsIHNwYW4gfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgQ3VydmUgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU0FNUExFU19QRVJfRURHRSA9IDEwO1xuXG4gIHByaXZhdGUgY29udHJvbENhZ2U6IFBvbHlMaW5lIHwgbnVsbDtcbiAgcHJpdmF0ZSBwb2x5bGluZTogUG9seUxpbmUgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgY29udHJvbFBvaW50czogVmVjNFtdLFxuICAgIHByaXZhdGUgZGVncmVlOiBudW1iZXIsXG4gICAgcHJpdmF0ZSBrbm90czogbnVtYmVyW10gPSBbXSxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodGhpcy5rbm90cy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5rbm90cyA9IGdlbmVyaWNLbm90VmVjdG9yKHRoaXMuY29udHJvbFBvaW50cy5sZW5ndGgsIHRoaXMuZGVncmVlKTtcbiAgICB9XG4gICAgdGhpcy5jb250cm9sQ2FnZSA9IG51bGw7XG4gICAgdGhpcy5wb2x5bGluZSA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVTYW1wbGVzKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZWwoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbENhZ2UhLmdldE1vZGVsKCk7XG4gIH1cblxuICBwdWJsaWMgaW50ZXJzZWN0KHJheTogUmF5KTogbnVtYmVyIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMucG9seWxpbmUhLmludGVyc2VjdChyYXkpO1xuICB9XG5cbiAgcHVibGljIGdldEJvdW5kaW5nQm94KCk6IEJvdW5kaW5nQm94IHtcbiAgICByZXR1cm4gdGhpcy5jb250cm9sQ2FnZSEuZ2V0Qm91bmRpbmdCb3goKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZWdyZWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5kZWdyZWU7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnRyb2xDYWdlIS5kZWxldGUoKTtcbiAgICB0aGlzLnBvbHlsaW5lIS5kZWxldGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRDb250cm9sUG9pbnQocG9pbnQ6IFZlYzMsIHdlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5jb250cm9sUG9pbnRzLnB1c2godmVjNC5jcmVhdGUoLi4ucG9pbnQsIHdlaWdodCkpO1xuICAgIHRoaXMua25vdHMgPSBnZW5lcmljS25vdFZlY3Rvcih0aGlzLmNvbnRyb2xQb2ludHMubGVuZ3RoLCB0aGlzLmRlZ3JlZSk7XG4gICAgdGhpcy51cGRhdGVTYW1wbGVzKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlTGFzdENvbnRyb2xQb2ludChwb2ludDogVmVjMywgd2VpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLmNvbnRyb2xQb2ludHNbdGhpcy5jb250cm9sUG9pbnRzLmxlbmd0aCAtIDFdID0gdmVjNC5jcmVhdGUoLi4ucG9pbnQsIHdlaWdodCk7XG4gICAgdGhpcy51cGRhdGVTYW1wbGVzKCk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlTGFzdENvbnRyb2xQb2ludCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnRyb2xQb2ludHMucG9wKCk7XG4gICAgaWYgKHRoaXMuZGVncmVlID09PSB0aGlzLmNvbnRyb2xQb2ludHMubGVuZ3RoKSB0aGlzLmRlZ3JlZS0tO1xuICAgIHRoaXMua25vdHMgPSBnZW5lcmljS25vdFZlY3Rvcih0aGlzLmNvbnRyb2xQb2ludHMubGVuZ3RoLCB0aGlzLmRlZ3JlZSk7XG4gICAgdGhpcy51cGRhdGVTYW1wbGVzKCk7XG4gIH1cblxuICBwdWJsaWMgZWxldmF0ZURlZ3JlZShjb3VudDogbnVtYmVyKSB7XG4gICAgdGhpcy5kZWdyZWUgKz0gY291bnQ7XG4gICAgdGhpcy5rbm90cyA9IGdlbmVyaWNLbm90VmVjdG9yKHRoaXMuY29udHJvbFBvaW50cy5sZW5ndGgsIHRoaXMuZGVncmVlKTtcbiAgICB0aGlzLnVwZGF0ZVNhbXBsZXMoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb250cm9sUG9pbnRDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xQb2ludHMubGVuZ3RoO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZVNhbXBsZXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29udHJvbENhZ2UpIHRoaXMuY29udHJvbENhZ2UuZGVsZXRlKCk7XG4gICAgaWYgKHRoaXMucG9seWxpbmUpIHRoaXMucG9seWxpbmUuZGVsZXRlKCk7XG5cbiAgICBjb25zdCBzYW1wbGVzOiBWZWM0W10gPSBbXTtcbiAgICBjb25zdCBzYW1wbGVDb3VudDogbnVtYmVyID0gQ3VydmUuU0FNUExFU19QRVJfRURHRSAqICh0aGlzLmNvbnRyb2xQb2ludHMubGVuZ3RoIC0gMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2FtcGxlQ291bnQ7IGkrKykge1xuICAgICAgc2FtcGxlcy5wdXNoKHRoaXMuc2FtcGxlKGkgLyBzYW1wbGVDb3VudCkpO1xuICAgIH1cblxuICAgIHRoaXMucG9seWxpbmUgPSBuZXcgUG9seUxpbmUoc2FtcGxlcy5tYXAoKHBvaW50OiBWZWM0KSA9PiB7IHJldHVybiB2ZWMzLmNyZWF0ZShwb2ludFswXSAvIHBvaW50WzNdLCBwb2ludFsxXSAvIHBvaW50WzNdLCBwb2ludFsyXSAvIHBvaW50WzNdKTsgfSksIFswLCAxLCAwLCAxXSk7XG4gICAgdGhpcy5jb250cm9sQ2FnZSA9IG5ldyBQb2x5TGluZSh0aGlzLmNvbnRyb2xQb2ludHMubWFwKChwb2ludDogVmVjNCkgPT4geyByZXR1cm4gdmVjMy5jcmVhdGUocG9pbnRbMF0sIHBvaW50WzFdLCBwb2ludFsyXSk7IH0pLCBbMCwgMCwgMSwgMV0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNhbXBsZSh0OiBudW1iZXIpOiBWZWM0IHtcbiAgICBjb25zdCB1OiBudW1iZXIgPSB0ICogKHRoaXMua25vdHMuYXQoLTEpISAtIHRoaXMua25vdHMuYXQoMCkhKTtcbiAgICBjb25zdCBrbm90U3BhbjogbnVtYmVyID0gc3Bhbih0aGlzLmtub3RzLCB1LCB0aGlzLmRlZ3JlZSlcbiAgICBjb25zdCBmdW5jczogbnVtYmVyW10gPSBiYXNpc0Z1bmNzKHRoaXMua25vdHMsIHUsIHRoaXMuZGVncmVlKTtcbiAgICBsZXQgcmVzOiBWZWM0ID0gdmVjNC5jcmVhdGUoMCwgMCwgMCwgMCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5kZWdyZWU7IGkrKykge1xuICAgICAgcmVzID0gdmVjNC5hZGQocmVzLCB2ZWM0LnNjYWxlKHRoaXMuY29udHJvbFBvaW50c1trbm90U3BhbiAtIHRoaXMuZGVncmVlICsgaV0sIGZ1bmNzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/nurbs/curve.ts\n");

/***/ }),

/***/ "./src/geometry/nurbs/utils.ts":
/*!*************************************!*\
  !*** ./src/geometry/nurbs/utils.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   basisFuncs: () => (/* binding */ basisFuncs),\n/* harmony export */   genericKnotVector: () => (/* binding */ genericKnotVector),\n/* harmony export */   span: () => (/* binding */ span)\n/* harmony export */ });\nconst span = function (knots, u, p) {\n    const n = knots.length - p - 2;\n    let l = p;\n    let h = n;\n    let m;\n    while (l < h) {\n        m = Math.floor((l + h) / 2);\n        if (u >= knots[m + 1])\n            l = m + 1;\n        else\n            h = m;\n    }\n    return l;\n};\nconst basisFuncs = function (knots, u, p) {\n    const funcs = [1];\n    const i = span(knots, u, p);\n    const left = (i, j) => { return u - knots[i - j + 1]; };\n    const right = (i, j) => { return knots[i + j] - u; };\n    for (let j = 1; j <= p; j++) {\n        let saved = 0;\n        for (let r = 0; r < j; r++) {\n            const temp = funcs[r] / (right(i, r + 1) + left(i, j - r));\n            funcs[r] = saved + right(i, r + 1) * temp;\n            saved = left(i, j - r) * temp;\n        }\n        funcs.push(saved);\n    }\n    return funcs;\n};\nconst genericKnotVector = function (pointCount, degree) {\n    const res = [];\n    for (let i = 0; i <= degree; i++)\n        res.push(0);\n    for (let i = 1; i < pointCount - degree; i++)\n        res.push(i);\n    for (let i = 0; i <= degree; i++)\n        res.push(pointCount - degree);\n    return res;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLE1BQU0sRUFBRSxDQUFDLEVBQUU7UUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsQ0FBQztJQUNoRSxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9nZW9tZXRyeS9udXJicy91dGlscy50cz9jNTI2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzcGFuID0gZnVuY3Rpb24oa25vdHM6IG51bWJlcltdLCB1OiBudW1iZXIsIHA6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IG46IG51bWJlciA9IGtub3RzLmxlbmd0aCAtIHAgLSAyO1xuICBsZXQgbDogbnVtYmVyID0gcDtcbiAgbGV0IGg6IG51bWJlciA9IG47XG4gIGxldCBtOiBudW1iZXI7XG4gIHdoaWxlIChsIDwgaCkge1xuICAgIG0gPSBNYXRoLmZsb29yKChsICsgaCkgLyAyKTtcbiAgICBpZiAodSA+PSBrbm90c1ttICsgMV0pIGwgPSBtICsgMTtcbiAgICBlbHNlIGggPSBtO1xuICB9XG4gIHJldHVybiBsO1xufVxuXG5leHBvcnQgY29uc3QgYmFzaXNGdW5jcyA9IGZ1bmN0aW9uKGtub3RzOiBudW1iZXJbXSwgdTogbnVtYmVyLCBwOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIGNvbnN0IGZ1bmNzOiBudW1iZXJbXSA9IFsxXTtcbiAgY29uc3QgaSA9IHNwYW4oa25vdHMsIHUsIHApO1xuICBjb25zdCBsZWZ0ID0gKGk6IG51bWJlciwgajogbnVtYmVyKSA9PiB7IHJldHVybiB1IC0ga25vdHNbaSAtIGogKyAxXTsgfTtcbiAgY29uc3QgcmlnaHQgPSAoaTogbnVtYmVyLCBqOiBudW1iZXIpID0+IHsgcmV0dXJuIGtub3RzW2kgKyBqXSAtIHU7IH07XG4gIGZvciAobGV0IGogPSAxOyBqIDw9IHA7IGorKykge1xuICAgIGxldCBzYXZlZCA9IDA7XG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCBqOyByKyspIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBmdW5jc1tyXSAvIChyaWdodChpLCByICsgMSkgKyBsZWZ0KGksIGogLSByKSk7XG4gICAgICBmdW5jc1tyXSA9IHNhdmVkICsgcmlnaHQoaSwgciArIDEpICogdGVtcDtcbiAgICAgIHNhdmVkID0gbGVmdChpLCBqIC0gcikgKiB0ZW1wO1xuICAgIH1cbiAgICBmdW5jcy5wdXNoKHNhdmVkKTtcbiAgfVxuICByZXR1cm4gZnVuY3M7XG59XG5cblxuZXhwb3J0IGNvbnN0IGdlbmVyaWNLbm90VmVjdG9yID0gZnVuY3Rpb24ocG9pbnRDb3VudDogbnVtYmVyLCBkZWdyZWU6IG51bWJlcik6IG51bWJlcltdIHtcbiAgY29uc3QgcmVzOiBudW1iZXJbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8PSBkZWdyZWU7IGkrKykgcmVzLnB1c2goMCk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRDb3VudCAtIGRlZ3JlZTsgaSsrKSAgcmVzLnB1c2goaSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDw9IGRlZ3JlZTsgaSsrKSByZXMucHVzaChwb2ludENvdW50IC0gZGVncmVlKTtcbiAgcmV0dXJuIHJlcztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/nurbs/utils.ts\n");

/***/ }),

/***/ "./src/geometry/plane.ts":
/*!*******************************!*\
  !*** ./src/geometry/plane.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Plane: () => (/* binding */ Plane)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n\nclass Plane {\n    constructor(origin, normal) {\n        this.origin = origin;\n        this.normal = normal;\n        this.normal = wgpu_matrix__WEBPACK_IMPORTED_MODULE_0__.vec3.normalize(this.normal);\n    }\n    getOrigin() {\n        return this.origin;\n    }\n    getNormal() {\n        return this.normal;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvcGxhbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0M7QUFHakMsTUFBTSxLQUFLO0lBRWQsWUFDWSxNQUFZLEVBQ1osTUFBWTtRQURaLFdBQU0sR0FBTixNQUFNLENBQU07UUFDWixXQUFNLEdBQU4sTUFBTSxDQUFNO1FBRXBCLElBQUksQ0FBQyxNQUFNLEdBQUcsNkNBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFTSxTQUFTO1FBQ1osT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxTQUFTO1FBQ1osT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7Q0FFSiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2dlb21ldHJ5L3BsYW5lLnRzPzg2M2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVjMywgVmVjMyB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiXG5cblxuZXhwb3J0IGNsYXNzIFBsYW5lIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG9yaWdpbjogVmVjMyxcbiAgICAgICAgcHJpdmF0ZSBub3JtYWw6IFZlYzNcbiAgICApIHtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSB2ZWMzLm5vcm1hbGl6ZSh0aGlzLm5vcm1hbCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE9yaWdpbigpOiBWZWMzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROb3JtYWwoKTogVmVjMyB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbDtcbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/plane.ts\n");

/***/ }),

/***/ "./src/geometry/polyLine.ts":
/*!**********************************!*\
  !*** ./src/geometry/polyLine.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PolyLine: () => (/* binding */ PolyLine)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _render_renderLines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../render/renderLines */ \"./src/render/renderLines.ts\");\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundingBox */ \"./src/geometry/boundingBox.ts\");\n/* harmony import */ var _geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./geometry */ \"./src/geometry/geometry.ts\");\n/* harmony import */ var _lineBoundingBoxHeirarchy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lineBoundingBoxHeirarchy */ \"./src/geometry/lineBoundingBoxHeirarchy.ts\");\n\n\n\n\n\n\nclass PolyLine extends _geometry__WEBPACK_IMPORTED_MODULE_3__.Geometry {\n    constructor(points, color, model = wgpu_matrix__WEBPACK_IMPORTED_MODULE_5__.mat4.identity()) {\n        super();\n        this.points = points;\n        this.color = color;\n        this.model = model;\n        this.renderLines = 0;\n        this.update();\n    }\n    intersect(ray) {\n        return this.boundingBoxHeirarchy.almostIntersect(ray, this.points, 3);\n    }\n    getModel() {\n        return this.model;\n    }\n    getBoundingBox() {\n        return this.boundingBox;\n    }\n    getSegmentCount() {\n        return this.points.length - 1;\n    }\n    updateLastPoint(point) {\n        this.points[this.points.length - 1] = point;\n        this.update();\n    }\n    removeLastPoint() {\n        this.points.pop();\n        this.update();\n    }\n    addPoint(point) {\n        this.points.push(point);\n        this.update();\n    }\n    delete() {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeLines(this.renderLines);\n    }\n    update() {\n        if (this.renderLines)\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeLines(this.renderLines);\n        const verts = [];\n        const indices = [];\n        for (let i = 0; i < this.points.length; i++) {\n            verts.push(...this.points[i], 1.0);\n            indices.push(i, i + 1);\n        }\n        indices.pop();\n        indices.pop();\n        this.renderLines = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addRenderLines(new _render_renderLines__WEBPACK_IMPORTED_MODULE_1__.RenderLines(new Float32Array(verts), new Int32Array(indices), this.color));\n        this.updateBoundingBox();\n        this.boundingBoxHeirarchy = new _lineBoundingBoxHeirarchy__WEBPACK_IMPORTED_MODULE_4__.LineBoundingBoxHeirarchy(this.points, indices);\n    }\n    updateBoundingBox() {\n        this.boundingBox = new _boundingBox__WEBPACK_IMPORTED_MODULE_2__.BoundingBox();\n        this.points.forEach((point) => {\n            this.boundingBox.addVec3(wgpu_matrix__WEBPACK_IMPORTED_MODULE_5__.vec3.transformMat4(point, this.model));\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFTyxpQkFBaUI7UUFDdkIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLHFEQUFXLEVBQUUsQ0FBQztRQUNyQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQVcsRUFBRSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLDZDQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2dlb21ldHJ5L3BvbHlMaW5lLnRzP2ExZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWF0NCwgTWF0NCwgdmVjMywgVmVjMyB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiO1xuaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vY2FkXCI7XG5pbXBvcnQgeyBSZW5kZXJMaW5lcyB9IGZyb20gXCIuLi9yZW5kZXIvcmVuZGVyTGluZXNcIjtcbmltcG9ydCB7IFJlbmRlcklEIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XG5pbXBvcnQgeyBCb3VuZGluZ0JveCB9IGZyb20gXCIuL2JvdW5kaW5nQm94XCI7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gXCIuL2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBMaW5lQm91bmRpbmdCb3hIZWlyYXJjaHkgfSBmcm9tIFwiLi9saW5lQm91bmRpbmdCb3hIZWlyYXJjaHlcIjtcbmltcG9ydCB7IFJheSB9IGZyb20gXCIuL3JheVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBQb2x5TGluZSBleHRlbmRzIEdlb21ldHJ5IHtcblxuICBwcml2YXRlIHJlbmRlckxpbmVzITogUmVuZGVySUQ7XG4gIHByaXZhdGUgYm91bmRpbmdCb3ghOiBCb3VuZGluZ0JveDtcbiAgcHJpdmF0ZSBib3VuZGluZ0JveEhlaXJhcmNoeSE6IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHBvaW50czogVmVjM1tdLFxuICAgIHByaXZhdGUgY29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHByaXZhdGUgbW9kZWw6IE1hdDQgPSBtYXQ0LmlkZW50aXR5KClcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnJlbmRlckxpbmVzID0gMDtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHVibGljIGludGVyc2VjdChyYXk6IFJheSk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmJvdW5kaW5nQm94SGVpcmFyY2h5LmFsbW9zdEludGVyc2VjdChyYXksIHRoaXMucG9pbnRzLCAzKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNb2RlbCgpOiBNYXQ0IHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb3VuZGluZ0JveCgpOiBCb3VuZGluZ0JveCB7XG4gICAgcmV0dXJuIHRoaXMuYm91bmRpbmdCb3g7XG4gIH1cblxuICBwdWJsaWMgZ2V0U2VnbWVudENvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzLmxlbmd0aCAtIDE7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlTGFzdFBvaW50KHBvaW50OiBWZWMzKTogdm9pZCB7XG4gICAgdGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoIC0gMV0gPSBwb2ludDtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUxhc3RQb2ludCgpOiB2b2lkIHtcbiAgICB0aGlzLnBvaW50cy5wb3AoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHVibGljIGFkZFBvaW50KHBvaW50OiBWZWMzKTogdm9pZCB7XG4gICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoKTogdm9pZCB7XG4gICAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5yZW1vdmVMaW5lcyh0aGlzLnJlbmRlckxpbmVzKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlbmRlckxpbmVzKSBJTlNUQU5DRS5nZXRTY2VuZSgpLnJlbW92ZUxpbmVzKHRoaXMucmVuZGVyTGluZXMpO1xuICAgIGNvbnN0IHZlcnRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGNvbnN0IGluZGljZXM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmVydHMucHVzaCguLi50aGlzLnBvaW50c1tpXSwgMS4wKTtcbiAgICAgIGluZGljZXMucHVzaChpLCBpICsgMSk7XG4gICAgfVxuICAgIGluZGljZXMucG9wKCk7IGluZGljZXMucG9wKCk7XG4gICAgdGhpcy5yZW5kZXJMaW5lcyA9IElOU1RBTkNFLmdldFNjZW5lKCkuYWRkUmVuZGVyTGluZXMobmV3IFJlbmRlckxpbmVzKFxuICAgICAgbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyksXG4gICAgICBuZXcgSW50MzJBcnJheShpbmRpY2VzKSxcbiAgICAgIHRoaXMuY29sb3IpKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KCk7XG5cbiAgICB0aGlzLmJvdW5kaW5nQm94SGVpcmFyY2h5ID0gbmV3IExpbmVCb3VuZGluZ0JveEhlaXJhcmNoeSh0aGlzLnBvaW50cywgaW5kaWNlcyk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUJvdW5kaW5nQm94KCk6IHZvaWQge1xuICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm91bmRpbmdCb3goKTtcbiAgICB0aGlzLnBvaW50cy5mb3JFYWNoKChwb2ludDogVmVjMykgPT4ge1xuICAgICAgdGhpcy5ib3VuZGluZ0JveC5hZGRWZWMzKHZlYzMudHJhbnNmb3JtTWF0NChwb2ludCwgdGhpcy5tb2RlbCkpO1xuICAgIH0pO1xuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geometry/polyLine.ts\n");

/***/ }),

/***/ "./src/geometry/ray.ts":
/*!*****************************!*\
  !*** ./src/geometry/ray.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ray: () => (/* binding */ Ray)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plane */ \"./src/geometry/plane.ts\");\n\n\n\nclass Ray {\n    constructor(origin, direction) {\n        this.origin = origin;\n        this.direction = direction;\n        this.direction = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.normalize(this.direction);\n    }\n    print() {\n        console.log(`RAY: origin: ${this.origin.toString()}, direction: ${this.direction.map((n) => {\n            return Math.round(n * 100);\n        }).toString()}`);\n    }\n    getOrigin() {\n        return this.origin;\n    }\n    getDirection() {\n        return this.direction;\n    }\n    at(time) {\n        return wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.add(this.origin, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.scale(this.direction, time));\n    }\n    //todo make sure res is positive\n    intersectPlane(plane, allowNegative = false) {\n        const numerator = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(plane.getOrigin(), this.origin), plane.getNormal());\n        const denominator = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(this.direction, plane.getNormal());\n        if (denominator === 0) { // parallel case\n            return null;\n        }\n        const t = numerator / denominator;\n        if (allowNegative)\n            return t;\n        if (t <= 0)\n            return null;\n        return t;\n    }\n    almostIntersectBoundingBox(bb, pixels) {\n        var _a, _b, _c, _d, _e, _f;\n        const dxMin = Math.abs(this.origin[0] - bb.getXMin());\n        const dyMin = Math.abs(this.origin[1] - bb.getYMin());\n        const dzMin = Math.abs(this.origin[2] - bb.getZMin());\n        const dxMax = Math.abs(this.origin[0] - bb.getXMax());\n        const dyMax = Math.abs(this.origin[1] - bb.getYMax());\n        const dzMax = Math.abs(this.origin[2] - bb.getZMax());\n        const farthest = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(dxMin < dxMax ? bb.getXMax() : bb.getXMin(), dyMin < dyMax ? bb.getYMax() : bb.getYMin(), dzMin < dzMax ? bb.getZMax() : bb.getZMin());\n        const dist = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.distance(this.origin, farthest);\n        const delta = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().pixelSizeAtDist(dist) * pixels;\n        const min = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(bb.getXMin() - delta, bb.getYMin() - delta, bb.getZMin() - delta);\n        const max = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(bb.getXMax() - delta, bb.getYMax() - delta, bb.getZMax() - delta);\n        if (this.direction[0] < 0)\n            [min[0], max[0]] = [max[0], min[0]];\n        if (this.direction[1] < 0)\n            [min[1], max[1]] = [max[1], min[1]];\n        if (this.direction[2] < 0)\n            [min[2], max[2]] = [max[2], min[2]];\n        var xMin = (_a = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(min, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(1, 0, 0)), true)) !== null && _a !== void 0 ? _a : -Infinity;\n        var yMin = (_b = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(min, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 1, 0)), true)) !== null && _b !== void 0 ? _b : -Infinity;\n        var zMin = (_c = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(min, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 0, 1)), true)) !== null && _c !== void 0 ? _c : -Infinity;\n        var xMax = (_d = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(max, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(1, 0, 0)), true)) !== null && _d !== void 0 ? _d : Infinity;\n        var yMax = (_e = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(max, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 1, 0)), true)) !== null && _e !== void 0 ? _e : Infinity;\n        var zMax = (_f = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(max, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 0, 1)), true)) !== null && _f !== void 0 ? _f : Infinity;\n        const end = Math.min(xMax, Math.min(yMax, zMax));\n        const start = Math.max(xMin, Math.max(yMin, zMin));\n        if (end < 0 || start > end)\n            return null;\n        return Math.max(start, 0);\n    }\n    intersectBoundingBox(bb) {\n        var _a, _b, _c, _d, _e, _f;\n        const min = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(bb.getXMin(), bb.getYMin(), bb.getZMin());\n        const max = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(bb.getXMax(), bb.getYMax(), bb.getZMax());\n        if (this.direction[0] < 0)\n            [min[0], max[0]] = [max[0], min[0]];\n        if (this.direction[1] < 0)\n            [min[1], max[1]] = [max[1], min[1]];\n        if (this.direction[2] < 0)\n            [min[2], max[2]] = [max[2], min[2]];\n        var xMin = (_a = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(min, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(1, 0, 0)), true)) !== null && _a !== void 0 ? _a : -Infinity;\n        var yMin = (_b = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(min, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 1, 0)), true)) !== null && _b !== void 0 ? _b : -Infinity;\n        var zMin = (_c = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(min, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 0, 1)), true)) !== null && _c !== void 0 ? _c : -Infinity;\n        var xMax = (_d = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(max, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(1, 0, 0)), true)) !== null && _d !== void 0 ? _d : Infinity;\n        var yMax = (_e = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(max, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 1, 0)), true)) !== null && _e !== void 0 ? _e : Infinity;\n        var zMax = (_f = this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(max, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 0, 1)), true)) !== null && _f !== void 0 ? _f : Infinity;\n        const end = Math.min(xMax, Math.min(yMax, zMax));\n        const start = Math.max(xMin, Math.max(yMin, zMin));\n        if (end < 0 || start > end)\n            return null;\n        return Math.max(start, 0);\n    }\n    intersectScene(scene) {\n        const intersection = scene.getBoundingBoxHeirarchy().firstIntersection(this);\n        if (intersection !== null)\n            return intersection;\n        return this.intersectPlane(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 0, 0), wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.create(0, 0, 1)));\n    }\n    intersectTriangle(p1, p2, p3) {\n        const v12 = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(p2, p1);\n        const v13 = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(p3, p1);\n        const normal = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.normalize(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.cross(v12, v13));\n        const denom = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(normal, this.direction);\n        if (denom === 0)\n            return null;\n        const t = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(p1, this.origin), normal) / denom;\n        if (t < 0)\n            return null;\n        const point = this.at(t);\n        const d1 = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(normal, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.cross(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(point, p1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(p2, p1)));\n        const d2 = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(normal, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.cross(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(point, p2), wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(p3, p2)));\n        const d3 = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(normal, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.cross(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(point, p3), wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(p1, p3)));\n        if (\n        // remove one of these lines for back face culling.\n        d1 > 0 && d2 > 0 && d3 > 0 ||\n            d1 < 0 && d2 < 0 && d3 < 0)\n            return t;\n        else\n            return null;\n    }\n    static transform(ray, mat) {\n        return new Ray(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.add(ray.origin, wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.mat4.getTranslation(mat)), wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.transformMat4(ray.direction, mat));\n    }\n    almostIntersectLine(start, end, pixels) {\n        const a = this.direction;\n        const b = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.normalize(wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(end, start));\n        if (a === b) {\n            return null;\n        }\n        const B = start;\n        const A = this.origin;\n        const c = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.sub(B, A);\n        const ab = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(a, b);\n        const ac = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(a, c);\n        const bc = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(b, c);\n        const aa = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(a, a);\n        const bb = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.dot(b, b);\n        const denom = aa * bb - ab * ab;\n        if (denom === 0) {\n            throw new Error(\"You're fired!\");\n            // TODO: figure out whats happening here\n        }\n        const tRay = (ab * bc + ac * bb) / denom;\n        const length = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.distance(start, end);\n        const tLine = Math.min(Math.max((ab * ac - bc * aa) / denom, 0), length);\n        const pRay = this.at(tRay);\n        const pLine = this.at(tLine);\n        const closest = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.distance(pRay, pLine);\n        const distToIntersection = wgpu_matrix__WEBPACK_IMPORTED_MODULE_2__.vec3.distance(this.origin, pRay);\n        const sizeOfPixel = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().pixelSizeAtDist(distToIntersection);\n        if (closest < sizeOfPixel * pixels) {\n            return tRay;\n        }\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvcmF5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUQ7QUFDbkI7QUFJRjtBQUV6QixNQUFNLEdBQUc7SUFFZCxZQUNVLE1BQVksRUFDWixTQUFlO1FBRGYsV0FBTSxHQUFOLE1BQU0sQ0FBTTtRQUNaLGNBQVMsR0FBVCxTQUFTLENBQU07UUFFdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyw2Q0FBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVNLEtBQUs7UUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFTLEVBQUUsRUFBRTtZQUNqRyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBRU0sWUFBWTtRQUNqQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztJQUVNLEVBQUUsQ0FBQyxJQUFZO1FBQ3BCLE9BQU8sNkNBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSw2Q0FBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVELGdDQUFnQztJQUN6QixjQUFjLENBQUMsS0FBWSxFQUFFLGdCQUF5QixLQUFLO1FBQ2hFLE1BQU0sU0FBUyxHQUFXLDZDQUFJLENBQUMsR0FBRyxDQUFDLDZDQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDaEcsTUFBTSxXQUFXLEdBQVcsNkNBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUN4RSxJQUFJLFdBQVcsS0FBSyxDQUFDLEVBQUUsRUFBRSxnQkFBZ0I7WUFDdkMsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELE1BQU0sQ0FBQyxHQUFXLFNBQVMsR0FBRyxXQUFXLENBQUM7UUFDMUMsSUFBSSxhQUFhO1lBQUUsT0FBTyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVNLDBCQUEwQixDQUFDLEVBQWUsRUFBRSxNQUFjOztRQUUvRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDdEQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUN0RCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDdEQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUV0RCxNQUFNLFFBQVEsR0FBUyw2Q0FBSSxDQUFDLE1BQU0sQ0FDaEMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQzNDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUMzQyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FDNUM7UUFFRCxNQUFNLElBQUksR0FBVyw2Q0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzFELE1BQU0sS0FBSyxHQUFXLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQztRQUVyRixNQUFNLEdBQUcsR0FBUyw2Q0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO1FBQ2hHLE1BQU0sR0FBRyxHQUFTLDZDQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEtBQUssRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFFaEcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9ELElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFL0QsSUFBSSxJQUFJLEdBQVcsVUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLHlDQUFLLENBQUMsR0FBRyxFQUFFLDZDQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsbUNBQUksQ0FBQyxRQUFRLENBQUM7UUFDaEcsSUFBSSxJQUFJLEdBQVcsVUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLHlDQUFLLENBQUMsR0FBRyxFQUFFLDZDQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsbUNBQUksQ0FBQyxRQUFRLENBQUM7UUFDaEcsSUFBSSxJQUFJLEdBQVcsVUFBSSxDQUFDLGNBQWMsQ0FBQyxJ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Q0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxlQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRyxJQUFJLE9BQU8sR0FBRyxXQUFXLEdBQUcsTUFBTSxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFDRCxPQUFPLElBQUksQ0FBQztJQUVkLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL2dlb21ldHJ5L3JheS50cz84N2E3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hdDQsIE1hdDQsIHZlYzMsIFZlYzMgfSBmcm9tIFwid2dwdS1tYXRyaXhcIjtcbmltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uL2NhZFwiO1xuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcbmltcG9ydCB7IEJvdW5kaW5nQm94IH0gZnJvbSBcIi4vYm91bmRpbmdCb3hcIjtcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSBcIi4vZ2VvbWV0cnlcIjtcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSBcIi4vcGxhbmVcIjtcblxuZXhwb3J0IGNsYXNzIFJheSB7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBvcmlnaW46IFZlYzMsXG4gICAgcHJpdmF0ZSBkaXJlY3Rpb246IFZlYzNcbiAgKSB7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSB2ZWMzLm5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7XG4gIH1cblxuICBwdWJsaWMgcHJpbnQoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coYFJBWTogb3JpZ2luOiAke3RoaXMub3JpZ2luLnRvU3RyaW5nKCl9LCBkaXJlY3Rpb246ICR7dGhpcy5kaXJlY3Rpb24ubWFwKChuOiBudW1iZXIpID0+IHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG4gKiAxMDApO1xuICAgIH0pLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0T3JpZ2luKCk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXREaXJlY3Rpb24oKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICB9XG5cbiAgcHVibGljIGF0KHRpbWU6IG51bWJlcik6IFZlYzMge1xuICAgIHJldHVybiB2ZWMzLmFkZCh0aGlzLm9yaWdpbiwgdmVjMy5zY2FsZSh0aGlzLmRpcmVjdGlvbiwgdGltZSkpO1xuICB9XG5cbiAgLy90b2RvIG1ha2Ugc3VyZSByZXMgaXMgcG9zaXRpdmVcbiAgcHVibGljIGludGVyc2VjdFBsYW5lKHBsYW5lOiBQbGFuZSwgYWxsb3dOZWdhdGl2ZTogYm9vbGVhbiA9IGZhbHNlKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3QgbnVtZXJhdG9yOiBudW1iZXIgPSB2ZWMzLmRvdCh2ZWMzLnN1YihwbGFuZS5nZXRPcmlnaW4oKSwgdGhpcy5vcmlnaW4pLCBwbGFuZS5nZXROb3JtYWwoKSk7XG4gICAgY29uc3QgZGVub21pbmF0b3I6IG51bWJlciA9IHZlYzMuZG90KHRoaXMuZGlyZWN0aW9uLCBwbGFuZS5nZXROb3JtYWwoKSk7XG4gICAgaWYgKGRlbm9taW5hdG9yID09PSAwKSB7IC8vIHBhcmFsbGVsIGNhc2VcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB0OiBudW1iZXIgPSBudW1lcmF0b3IgLyBkZW5vbWluYXRvcjtcbiAgICBpZiAoYWxsb3dOZWdhdGl2ZSkgcmV0dXJuIHQ7XG4gICAgaWYgKHQgPD0gMCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICBwdWJsaWMgYWxtb3N0SW50ZXJzZWN0Qm91bmRpbmdCb3goYmI6IEJvdW5kaW5nQm94LCBwaXhlbHM6IG51bWJlcik6IG51bWJlciB8IG51bGwge1xuXG4gICAgY29uc3QgZHhNaW4gPSBNYXRoLmFicyh0aGlzLm9yaWdpblswXSAtIGJiLmdldFhNaW4oKSk7XG4gICAgY29uc3QgZHlNaW4gPSBNYXRoLmFicyh0aGlzLm9yaWdpblsxXSAtIGJiLmdldFlNaW4oKSk7XG4gICAgY29uc3QgZHpNaW4gPSBNYXRoLmFicyh0aGlzLm9yaWdpblsyXSAtIGJiLmdldFpNaW4oKSk7XG4gICAgY29uc3QgZHhNYXggPSBNYXRoLmFicyh0aGlzLm9yaWdpblswXSAtIGJiLmdldFhNYXgoKSk7XG4gICAgY29uc3QgZHlNYXggPSBNYXRoLmFicyh0aGlzLm9yaWdpblsxXSAtIGJiLmdldFlNYXgoKSk7XG4gICAgY29uc3QgZHpNYXggPSBNYXRoLmFicyh0aGlzLm9yaWdpblsyXSAtIGJiLmdldFpNYXgoKSk7XG5cbiAgICBjb25zdCBmYXJ0aGVzdDogVmVjMyA9IHZlYzMuY3JlYXRlKFxuICAgICAgZHhNaW4gPCBkeE1heCA/IGJiLmdldFhNYXgoKSA6IGJiLmdldFhNaW4oKSxcbiAgICAgIGR5TWluIDwgZHlNYXggPyBiYi5nZXRZTWF4KCkgOiBiYi5nZXRZTWluKCksXG4gICAgICBkek1pbiA8IGR6TWF4ID8gYmIuZ2V0Wk1heCgpIDogYmIuZ2V0Wk1pbigpLFxuICAgIClcblxuICAgIGNvbnN0IGRpc3Q6IG51bWJlciA9IHZlYzMuZGlzdGFuY2UodGhpcy5vcmlnaW4sIGZhcnRoZXN0KTtcbiAgICBjb25zdCBkZWx0YTogbnVtYmVyID0gSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDYW1lcmEoKS5waXhlbFNpemVBdERpc3QoZGlzdCkgKiBwaXhlbHM7XG5cbiAgICBjb25zdCBtaW46IFZlYzMgPSB2ZWMzLmNyZWF0ZShiYi5nZXRYTWluKCkgLSBkZWx0YSwgYmIuZ2V0WU1pbigpIC0gZGVsdGEsIGJiLmdldFpNaW4oKSAtIGRlbHRhKTtcbiAgICBjb25zdCBtYXg6IFZlYzMgPSB2ZWMzLmNyZWF0ZShiYi5nZXRYTWF4KCkgLSBkZWx0YSwgYmIuZ2V0WU1heCgpIC0gZGVsdGEsIGJiLmdldFpNYXgoKSAtIGRlbHRhKTtcblxuICAgIGlmICh0aGlzLmRpcmVjdGlvblswXSA8IDApIFttaW5bMF0sIG1heFswXV0gPSBbbWF4WzBdLCBtaW5bMF1dO1xuICAgIGlmICh0aGlzLmRpcmVjdGlvblsxXSA8IDApIFttaW5bMV0sIG1heFsxXV0gPSBbbWF4WzFdLCBtaW5bMV1dO1xuICAgIGlmICh0aGlzLmRpcmVjdGlvblsyXSA8IDApIFttaW5bMl0sIG1heFsyXV0gPSBbbWF4WzJdLCBtaW5bMl1dO1xuXG4gICAgdmFyIHhNaW46IG51bWJlciA9IHRoaXMuaW50ZXJzZWN0UGxhbmUobmV3IFBsYW5lKG1pbiwgdmVjMy5jcmVhdGUoMSwgMCwgMCkpLCB0cnVlKSA/PyAtSW5maW5pdHk7XG4gICAgdmFyIHlNaW46IG51bWJlciA9IHRoaXMuaW50ZXJzZWN0UGxhbmUobmV3IFBsYW5lKG1pbiwgdmVjMy5jcmVhdGUoMCwgMSwgMCkpLCB0cnVlKSA/PyAtSW5maW5pdHk7XG4gICAgdmFyIHpNaW46IG51bWJlciA9IHRoaXMuaW50ZXJzZWN0UGxhbmUobmV3IFBsYW5lKG1pbiwgdmVjMy5jcmVhdGUoMCwgMCwgMSkpLCB0cnVlKSA/PyAtSW5maW5pdHk7XG4gICAgdmFyIHhNYXg6IG51bWJlciA9IHRoaXMuaW50ZXJzZWN0UGxhbmUobmV3IFBsYW5lKG1heCwgdmVjMy5jcmVhdGUoMSwgMCwgMCkpLCB0cnVlKSA/PyBJbmZpbml0eTtcbiAgICB2YXIgeU1heDogbnVtYmVyID0gdGhpcy5pbnRlcnNlY3RQbGFuZShuZXcgUGxhbmUobWF4LCB2ZWMzLmNyZWF0ZSgwLCAxLCAwKSksIHRydWUpID8/IEluZmluaXR5O1xuICAgIHZhciB6TWF4OiBudW1iZXIgPSB0aGlzLmludGVyc2VjdFBsYW5lKG5ldyBQbGFuZShtYXgsIHZlYzMuY3JlYXRlKDAsIDAsIDEpKSwgdHJ1ZSkgPz8gSW5maW5pdHk7XG5cbiAgICBjb25zdCBlbmQgPSBNYXRoLm1pbih4TWF4LCBNYXRoLm1pbih5TWF4LCB6TWF4KSk7XG4gICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heCh4TWluLCBNYXRoLm1heCh5TWluLCB6TWluKSk7XG5cbiAgICBpZiAoZW5kIDwgMCB8fCBzdGFydCA+IGVuZCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIE1hdGgubWF4KHN0YXJ0LCAwKTtcblxuXG5cbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnNlY3RCb3VuZGluZ0JveChiYjogQm91bmRpbmdCb3gpOiBudW1iZXIgfCBudWxsIHtcblxuICAgIGNvbnN0IG1pbjogVmVjMyA9IHZlYzMuY3JlYXRlKGJiLmdldFhNaW4oKSwgYmIuZ2V0WU1pbigpLCBiYi5nZXRaTWluKCkpO1xuICAgIGNvbnN0IG1heDogVmVjMyA9IHZlYzMuY3JlYXRlKGJiLmdldFhNYXgoKSwgYmIuZ2V0WU1heCgpLCBiYi5nZXRaTWF4KCkpO1xuXG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uWzBdIDwgMCkgW21pblswXSwgbWF4WzBdXSA9IFttYXhbMF0sIG1pblswXV07XG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uWzFdIDwgMCkgW21pblsxXSwgbWF4WzFdXSA9IFttYXhbMV0sIG1pblsxXV07XG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uWzJdIDwgMCkgW21pblsyXSwgbWF4WzJdXSA9IFttYXhbMl0sIG1pblsyXV07XG5cbiAgICB2YXIgeE1pbjogbnVtYmVyID0gdGhpcy5pbnRlcnNlY3RQbGFuZShuZXcgUGxhbmUobWluLCB2ZWMzLmNyZWF0ZSgxLCAwLCAwKSksIHRydWUpID8/IC1JbmZpbml0eTtcbiAgICB2YXIgeU1pbjogbnVtYmVyID0gdGhpcy5pbnRlcnNlY3RQbGFuZShuZXcgUGxhbmUobWluLCB2ZWMzLmNyZWF0ZSgwLCAxLCAwKSksIHRydWUpID8/IC1JbmZpbml0eTtcbiAgICB2YXIgek1pbjogbnVtYmVyID0gdGhpcy5pbnRlcnNlY3RQbGFuZShuZXcgUGxhbmUobWluLCB2ZWMzLmNyZWF0ZSgwLCAwLCAxKSksIHRydWUpID8/IC1JbmZpbml0eTtcbiAgICB2YXIgeE1heDogbnVtYmVyID0gdGhpcy5pbnRlcnNlY3RQbGFuZShuZXcgUGxhbmUobWF4LCB2ZWMzLmNyZWF0ZSgxLCAwLCAwKSksIHRydWUpID8/IEluZmluaXR5O1xuICAgIHZhciB5TWF4OiBudW1iZXIgPSB0aGlzLmludGVyc2VjdFBsYW5lKG5ldyBQbGFuZShtYXgsIHZlYzMuY3JlYXRlKDAsIDEsIDApKSwgdHJ1ZSkgPz8gSW5maW5pdHk7XG4gICAgdmFyIHpNYXg6IG51bWJlciA9IHRoaXMuaW50ZXJzZWN0UGxhbmUobmV3IFBsYW5lKG1heCwgdmVjMy5jcmVhdGUoMCwgMCwgMSkpLCB0cnVlKSA/PyBJbmZpbml0eTtcblxuICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHhNYXgsIE1hdGgubWluKHlNYXgsIHpNYXgpKTtcbiAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KHhNaW4sIE1hdGgubWF4KHlNaW4sIHpNaW4pKTtcblxuICAgIGlmIChlbmQgPCAwIHx8IHN0YXJ0ID4gZW5kKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gTWF0aC5tYXgoc3RhcnQsIDApO1xuXG4gIH1cblxuICBwdWJsaWMgaW50ZXJzZWN0U2NlbmUoc2NlbmU6IFNjZW5lKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uOiBudW1iZXIgfCBudWxsID0gc2NlbmUuZ2V0Qm91bmRpbmdCb3hIZWlyYXJjaHkoKS5maXJzdEludGVyc2VjdGlvbih0aGlzKTtcbiAgICBpZiAoaW50ZXJzZWN0aW9uICE9PSBudWxsKSByZXR1cm4gaW50ZXJzZWN0aW9uO1xuICAgIHJldHVybiB0aGlzLmludGVyc2VjdFBsYW5lKG5ldyBQbGFuZSh2ZWMzLmNyZWF0ZSgwLCAwLCAwKSwgdmVjMy5jcmVhdGUoMCwgMCwgMSkpKTtcbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnNlY3RUcmlhbmdsZShwMTogVmVjMywgcDI6IFZlYzMsIHAzOiBWZWMzKTogbnVtYmVyIHwgbnVsbCB7XG5cbiAgICBjb25zdCB2MTIgPSB2ZWMzLnN1YihwMiwgcDEpO1xuICAgIGNvbnN0IHYxMyA9IHZlYzMuc3ViKHAzLCBwMSk7XG4gICAgY29uc3Qgbm9ybWFsID0gdmVjMy5ub3JtYWxpemUodmVjMy5jcm9zcyh2MTIsIHYxMykpO1xuICAgIGNvbnN0IGRlbm9tID0gdmVjMy5kb3Qobm9ybWFsLCB0aGlzLmRpcmVjdGlvbik7XG4gICAgaWYgKGRlbm9tID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0ID0gdmVjMy5kb3QodmVjMy5zdWIocDEsIHRoaXMub3JpZ2luKSwgbm9ybWFsKSAvIGRlbm9tO1xuICAgIGlmICh0IDwgMCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBwb2ludDogVmVjMyA9IHRoaXMuYXQodCk7XG5cbiAgICBjb25zdCBkMSA9IHZlYzMuZG90KG5vcm1hbCwgdmVjMy5jcm9zcyh2ZWMzLnN1Yihwb2ludCwgcDEpLCB2ZWMzLnN1YihwMiwgcDEpKSk7XG4gICAgY29uc3QgZDIgPSB2ZWMzLmRvdChub3JtYWwsIHZlYzMuY3Jvc3ModmVjMy5zdWIocG9pbnQsIHAyKSwgdmVjMy5zdWIocDMsIHAyKSkpO1xuICAgIGNvbnN0IGQzID0gdmVjMy5kb3Qobm9ybWFsLCB2ZWMzLmNyb3NzKHZlYzMuc3ViKHBvaW50LCBwMyksIHZlYzMuc3ViKHAxLCBwMykpKTtcblxuICAgIGlmIChcbiAgICAgIC8vIHJlbW92ZSBvbmUgb2YgdGhlc2UgbGluZXMgZm9yIGJhY2sgZmFjZSBjdWxsaW5nLlxuICAgICAgZDEgPiAwICYmIGQyID4gMCAmJiBkMyA+IDAgfHxcbiAgICAgIGQxIDwgMCAmJiBkMiA8IDAgJiYgZDMgPCAwXG4gICAgKSByZXR1cm4gdDtcbiAgICBlbHNlIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB0cmFuc2Zvcm0ocmF5OiBSYXksIG1hdDogTWF0NCk6IFJheSB7XG4gICAgcmV0dXJuIG5ldyBSYXkoXG4gICAgICB2ZWMzLmFkZChyYXkub3JpZ2luLCBtYXQ0LmdldFRyYW5zbGF0aW9uKG1hdCkpLFxuICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHJheS5kaXJlY3Rpb24sIG1hdClcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGFsbW9zdEludGVyc2VjdExpbmUoc3RhcnQ6IFZlYzMsIGVuZDogVmVjMywgcGl4ZWxzOiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICBjb25zdCBhOiBWZWMzID0gdGhpcy5kaXJlY3Rpb247XG4gICAgY29uc3QgYjogVmVjMyA9IHZlYzMubm9ybWFsaXplKHZlYzMuc3ViKGVuZCwgc3RhcnQpKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IEI6IFZlYzMgPSBzdGFydDtcbiAgICBjb25zdCBBOiBWZWMzID0gdGhpcy5vcmlnaW47XG4gICAgY29uc3QgYzogVmVjMyA9IHZlYzMuc3ViKEIsIEEpO1xuXG4gICAgY29uc3QgYWI6IG51bWJlciA9IHZlYzMuZG90KGEsIGIpO1xuICAgIGNvbnN0IGFjOiBudW1iZXIgPSB2ZWMzLmRvdChhLCBjKTtcbiAgICBjb25zdCBiYzogbnVtYmVyID0gdmVjMy5kb3QoYiwgYyk7XG4gICAgY29uc3QgYWE6IG51bWJlciA9IHZlYzMuZG90KGEsIGEpO1xuICAgIGNvbnN0IGJiOiBudW1iZXIgPSB2ZWMzLmRvdChiLCBiKTtcblxuICAgIGNvbnN0IGRlbm9tOiBudW1iZXIgPSBhYSAqIGJiIC0gYWIgKiBhYjtcbiAgICBpZiAoZGVub20gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSdyZSBmaXJlZCFcIik7XG4gICAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IHdoYXRzIGhhcHBlbmluZyBoZXJlXG4gICAgfVxuXG4gICAgY29uc3QgdFJheTogbnVtYmVyID0gKGFiICogYmMgKyBhYyAqIGJiKSAvIGRlbm9tO1xuICAgIGNvbnN0IGxlbmd0aDogbnVtYmVyID0gdmVjMy5kaXN0YW5jZShzdGFydCwgZW5kKTtcbiAgICBjb25zdCB0TGluZTogbnVtYmVyID0gTWF0aC5taW4oTWF0aC5tYXgoKGFiICogYWMgLSBiYyAqIGFhKSAvIGRlbm9tLCAwKSwgbGVuZ3RoKTtcbiAgICBjb25zdCBwUmF5OiBWZWMzID0gdGhpcy5hdCh0UmF5KTtcbiAgICBjb25zdCBwTGluZTogVmVjMyA9IHRoaXMuYXQodExpbmUpO1xuICAgIGNvbnN0IGNsb3Nlc3Q6IG51bWJlciA9IHZlYzMuZGlzdGFuY2UocFJheSwgcExpbmUpO1xuICAgIGNvbnN0IGRpc3RUb0ludGVyc2VjdGlvbjogbnVtYmVyID0gdmVjMy5kaXN0YW5jZSh0aGlzLm9yaWdpbiwgcFJheSk7XG4gICAgY29uc3Qgc2l6ZU9mUGl4ZWw6IG51bWJlciA9IElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q2FtZXJhKCkucGl4ZWxTaXplQXREaXN0KGRpc3RUb0ludGVyc2VjdGlvbik7XG4gICAgaWYgKGNsb3Nlc3QgPCBzaXplT2ZQaXhlbCAqIHBpeGVscykge1xuICAgICAgcmV0dXJuIHRSYXk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuXG4gIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/geometry/ray.ts\n");

/***/ }),

/***/ "./src/geometry/sceneBoundingBoxHeirarcy.ts":
/*!**************************************************!*\
  !*** ./src/geometry/sceneBoundingBoxHeirarcy.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SceneBoundingBoxHeirarchy: () => (/* binding */ SceneBoundingBoxHeirarchy)\n/* harmony export */ });\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boundingBox */ \"./src/geometry/boundingBox.ts\");\n\nvar Axis;\n(function (Axis) {\n    Axis[Axis[\"X\"] = 0] = \"X\";\n    Axis[Axis[\"Y\"] = 1] = \"Y\";\n    Axis[Axis[\"Z\"] = 2] = \"Z\";\n})(Axis || (Axis = {}));\nclass BBHNode {\n    constructor(geometry, depth) {\n        this.depth = depth;\n        this.setup(geometry, depth);\n    }\n    setup(geometry, depth) {\n        this.axis = depth % 3;\n        this.boundingBox = new _boundingBox__WEBPACK_IMPORTED_MODULE_0__.BoundingBox();\n        geometry.forEach((geo) => { this.boundingBox.addBoundingBox(geo.getBoundingBox()); });\n        if (geometry.length <= SceneBoundingBoxHeirarchy.MAX_GEOMETRY_PER_LEAF) {\n            // leaf\n            this.geometry = geometry;\n            this.child1 = null;\n            this.child2 = null;\n        }\n        else {\n            // not a leaf\n            this.geometry = null;\n            const center = this.boundingBox.getCenter()[this.axis];\n            const child1Geometry = [];\n            const child2Geometry = [];\n            geometry.forEach((geo) => {\n                if (geo.getBoundingBox().getCenter()[this.axis] < center) {\n                    child1Geometry.push(geo);\n                }\n                else {\n                    child2Geometry.push(geo);\n                }\n            });\n            this.child1 = new BBHNode(child1Geometry, depth + 1);\n            this.child2 = new BBHNode(child2Geometry, depth + 1);\n        }\n    }\n    print() {\n        var _a, _b;\n        let str = \"\";\n        for (let i = 0; i < this.depth; i++)\n            str += \"->\";\n        if (this.geometry)\n            str += `${this.geometry.length}geometry`;\n        else\n            str += \"node\";\n        console.log(str);\n        (_a = this.child1) === null || _a === void 0 ? void 0 : _a.print();\n        (_b = this.child2) === null || _b === void 0 ? void 0 : _b.print();\n    }\n    firstPositiveIntersectionTime(ray) {\n        if (ray.intersectBoundingBox(this.boundingBox) === null)\n            return null;\n        if (this.isLeaf()) {\n            var res = null;\n            this.geometry.forEach((geo) => {\n                var t = geo.intersect(ray);\n                if (t !== null && t > 0) {\n                    if (res === null)\n                        res = t;\n                    else\n                        res = Math.min(res, t);\n                }\n            });\n            return res;\n        }\n        else {\n            const t1 = this.child1.firstPositiveIntersectionTime(ray);\n            const t2 = this.child2.firstPositiveIntersectionTime(ray);\n            if (t1 === null)\n                return t2;\n            if (t2 === null)\n                return t1;\n            return Math.min(t1, t2);\n        }\n    }\n    add(geo) {\n        if (this.isLeaf()) {\n            if (this.geometry.length < SceneBoundingBoxHeirarchy.MAX_GEOMETRY_PER_LEAF) {\n                // leaf node with space\n                this.geometry.push(geo);\n            }\n            else {\n                this.geometry.push(geo);\n                this.setup(this.geometry, this.depth);\n            }\n        }\n        else {\n            // non leaf node\n            const nodeCenter = this.boundingBox.getCenter()[this.axis];\n            const geoCenter = geo.getBoundingBox().getCenter()[this.axis];\n            if (geoCenter < nodeCenter) {\n                this.child1.add(geo);\n            }\n            else {\n                this.child2.add(geo);\n            }\n        }\n        this.boundingBox.addBoundingBox(geo.getBoundingBox());\n    }\n    getDepth() {\n        return this.depth;\n    }\n    getChild1() {\n        return this.child1;\n    }\n    getChild2() {\n        return this.child2;\n    }\n    isLeaf() {\n        return this.geometry != null;\n    }\n}\nclass SceneBoundingBoxHeirarchy {\n    constructor(geometry) {\n        this.root = new BBHNode(geometry, 0);\n    }\n    add(geo) {\n        this.root.add(geo);\n    }\n    getRoot() {\n        return this.root;\n    }\n    firstIntersection(ray) {\n        console.log(\"intersecting scene bbh\");\n        return this.root.firstPositiveIntersectionTime(ray);\n    }\n    print() {\n        console.log(\"==========Scene-BBH===========\");\n        this.root.print();\n    }\n}\nSceneBoundingBoxHeirarchy.MAX_GEOMETRY_PER_LEAF = 5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2VvbWV0cnkvc2NlbmVCb3VuZGluZ0JveEhlaXJhcmN5LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBSTVDLElBQUssSUFJSjtBQUpELFdBQUssSUFBSTtJQUNQLHlCQUFLO0lBQ0wseUJBQUs7SUFDTCx5QkFBSztBQUNQLENBQUMsRUFKSSxJQUFJLEtBQUosSUFBSSxRQUlSO0FBRUQsTUFBTSxPQUFPO0lBUVgsWUFDRSxRQUFvQixFQUNaLEtBQWE7UUFBYixVQUFLLEdBQUwsS0FBSyxDQUFRO1FBRXJCLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFTyxLQUFLLENBQUMsUUFBb0IsRUFBRSxLQUFhO1FBQy9DLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUkscURBQVcsRUFBRSxDQUFDO1FBQ3JDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFhLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFaEcsSUFBSSxRQUFRLENBQUMsTUFBTSxJQUFJLHlCQUF5QixDQUFDLHFCQUFxQixFQUFFO1lBQ3RFLE9BQU87WUFDUCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUNwQjthQUFNO1lBQ0wsYUFBYTtZQUNiLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ3JCLE1BQU0sTUFBTSxHQUFXLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9ELE1BQU0sY0FBYyxHQUFl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QU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVNLEdBQUcsQ0FBQyxHQUFhO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFTSxPQUFPO1FBQ1osT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxHQUFRO1FBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUN0QyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVNLEtBQUs7UUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNwQixDQUFDOztBQXhCc0IsK0NBQXFCLEdBQUcsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvZ2VvbWV0cnkvc2NlbmVCb3VuZGluZ0JveEhlaXJhcmN5LnRzP2NlYWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tIFwiLi9ib3VuZGluZ0JveFwiO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tIFwiLi9nZW9tZXRyeVwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4vcmF5XCI7XG5cbmVudW0gQXhpcyB7XG4gIFggPSAwLFxuICBZID0gMSxcbiAgWiA9IDIsXG59XG5cbmNsYXNzIEJCSE5vZGUge1xuXG4gIHByaXZhdGUgYXhpcyE6IEF4aXM7XG4gIHByaXZhdGUgY2hpbGQxITogQkJITm9kZSB8IG51bGw7XG4gIHByaXZhdGUgY2hpbGQyITogQkJITm9kZSB8IG51bGw7XG4gIHByaXZhdGUgZ2VvbWV0cnkhOiBHZW9tZXRyeVtdIHwgbnVsbDtcbiAgcHJpdmF0ZSBib3VuZGluZ0JveCE6IEJvdW5kaW5nQm94O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGdlb21ldHJ5OiBHZW9tZXRyeVtdLFxuICAgIHByaXZhdGUgZGVwdGg6IG51bWJlcixcbiAgKSB7XG4gICAgdGhpcy5zZXR1cChnZW9tZXRyeSwgZGVwdGgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cChnZW9tZXRyeTogR2VvbWV0cnlbXSwgZGVwdGg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuYXhpcyA9IGRlcHRoICUgMztcbiAgICB0aGlzLmJvdW5kaW5nQm94ID0gbmV3IEJvdW5kaW5nQm94KCk7XG4gICAgZ2VvbWV0cnkuZm9yRWFjaCgoZ2VvOiBHZW9tZXRyeSkgPT4geyB0aGlzLmJvdW5kaW5nQm94LmFkZEJvdW5kaW5nQm94KGdlby5nZXRCb3VuZGluZ0JveCgpKTsgfSk7XG5cbiAgICBpZiAoZ2VvbWV0cnkubGVuZ3RoIDw9IFNjZW5lQm91bmRpbmdCb3hIZWlyYXJjaHkuTUFYX0dFT01FVFJZX1BFUl9MRUFGKSB7XG4gICAgICAvLyBsZWFmXG4gICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICB0aGlzLmNoaWxkMSA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkMiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vdCBhIGxlYWZcbiAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgY29uc3QgY2VudGVyOiBudW1iZXIgPSB0aGlzLmJvdW5kaW5nQm94LmdldENlbnRlcigpW3RoaXMuYXhpc107XG4gICAgICBjb25zdCBjaGlsZDFHZW9tZXRyeTogR2VvbWV0cnlbXSA9IFtdO1xuICAgICAgY29uc3QgY2hpbGQyR2VvbWV0cnk6IEdlb21ldHJ5W10gPSBbXTtcbiAgICAgIGdlb21ldHJ5LmZvckVhY2goKGdlbzogR2VvbWV0cnkpID0+IHtcbiAgICAgICAgaWYgKGdlby5nZXRCb3VuZGluZ0JveCgpLmdldENlbnRlcigpW3RoaXMuYXhpc10gPCBjZW50ZXIpIHtcbiAgICAgICAgICBjaGlsZDFHZW9tZXRyeS5wdXNoKGdlbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGQyR2VvbWV0cnkucHVzaChnZW8pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2hpbGQxID0gbmV3IEJCSE5vZGUoY2hpbGQxR2VvbWV0cnksIGRlcHRoICsgMSk7XG4gICAgICB0aGlzLmNoaWxkMiA9IG5ldyBCQkhOb2RlKGNoaWxkMkdlb21ldHJ5LCBkZXB0aCArIDEpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBwcmludCgpOiB2b2lkIHtcbiAgICBsZXQgc3RyOiBzdHJpbmcgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kZXB0aDsgaSsrKSBzdHIgKz0gXCItPlwiO1xuICAgIGlmICh0aGlzLmdlb21ldHJ5KSBzdHIgKz0gYCR7dGhpcy5nZW9tZXRyeS5sZW5ndGh9Z2VvbWV0cnlgO1xuICAgIGVsc2Ugc3RyICs9IFwibm9kZVwiO1xuICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgdGhpcy5jaGlsZDE/LnByaW50KCk7XG4gICAgdGhpcy5jaGlsZDI/LnByaW50KCk7XG4gIH1cblxuICBwdWJsaWMgZmlyc3RQb3NpdGl2ZUludGVyc2VjdGlvblRpbWUocmF5OiBSYXkpOiBudW1iZXIgfCBudWxsIHtcblxuICAgIGlmIChyYXkuaW50ZXJzZWN0Qm91bmRpbmdCb3godGhpcy5ib3VuZGluZ0JveCkgPT09IG51bGwpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHRoaXMuaXNMZWFmKCkpIHtcbiAgICAgIHZhciByZXM6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgICAgdGhpcy5nZW9tZXRyeSEuZm9yRWFjaCgoZ2VvOiBHZW9tZXRyeSkgPT4ge1xuICAgICAgICB2YXIgdDogbnVtYmVyIHwgbnVsbCA9IGdlby5pbnRlcnNlY3QocmF5KTtcbiAgICAgICAgaWYgKHQgIT09IG51bGwgJiYgdCA+IDApIHtcbiAgICAgICAgICBpZiAocmVzID09PSBudWxsKSByZXMgPSB0O1xuICAgICAgICAgIGVsc2UgcmVzID0gTWF0aC5taW4ocmVzLCB0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0MSA9IHRoaXMuY2hpbGQxIS5maXJzdFBvc2l0aXZlSW50ZXJzZWN0aW9uVGltZShyYXkpO1xuICAgICAgY29uc3QgdDIgPSB0aGlzLmNoaWxkMiEuZmlyc3RQb3NpdGl2ZUludGVyc2VjdGlvblRpbWUocmF5KTtcbiAgICAgIGlmICh0MSA9PT0gbnVsbCkgcmV0dXJuIHQyO1xuICAgICAgaWYgKHQyID09PSBudWxsKSByZXR1cm4gdDE7XG4gICAgICByZXR1cm4gTWF0aC5taW4odDEsIHQyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHB1YmxpYyBhZGQoZ2VvOiBHZW9tZXRyeSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzTGVhZigpKSB7XG4gICAgICBpZiAodGhpcy5nZW9tZXRyeSEubGVuZ3RoIDwgU2NlbmVCb3VuZGluZ0JveEhlaXJhcmNoeS5NQVhfR0VPTUVUUllfUEVSX0xFQUYpIHtcbiAgICAgICAgLy8gbGVhZiBub2RlIHdpdGggc3BhY2VcbiAgICAgICAgdGhpcy5nZW9tZXRyeSEucHVzaChnZW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSEucHVzaChnZW8pO1xuICAgICAgICB0aGlzLnNldHVwKHRoaXMuZ2VvbWV0cnkhLCB0aGlzLmRlcHRoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm9uIGxlYWYgbm9kZVxuICAgICAgY29uc3Qgbm9kZUNlbnRlcjogbnVtYmVyID0gdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIoKVt0aGlzLmF4aXNdO1xuICAgICAgY29uc3QgZ2VvQ2VudGVyOiBudW1iZXIgPSBnZW8uZ2V0Qm91bmRpbmdCb3goKS5nZXRDZW50ZXIoKVt0aGlzLmF4aXNdO1xuICAgICAgaWYgKGdlb0NlbnRlciA8IG5vZGVDZW50ZXIpIHtcbiAgICAgICAgdGhpcy5jaGlsZDEhLmFkZChnZW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGlsZDIhLmFkZChnZW8pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJvdW5kaW5nQm94LmFkZEJvdW5kaW5nQm94KGdlby5nZXRCb3VuZGluZ0JveCgpKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZXB0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRlcHRoO1xuICB9XG5cbiAgcHVibGljIGdldENoaWxkMSgpOiBCQkhOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGQxO1xuICB9XG5cbiAgcHVibGljIGdldENoaWxkMigpOiBCQkhOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGQyO1xuICB9XG5cbiAgcHVibGljIGlzTGVhZigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSAhPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTY2VuZUJvdW5kaW5nQm94SGVpcmFyY2h5IHtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1BWF9HRU9NRVRSWV9QRVJfTEVBRiA9IDU7XG5cbiAgcHJpdmF0ZSByb290OiBCQkhOb2RlO1xuXG4gIGNvbnN0cnVjdG9yKGdlb21ldHJ5OiBHZW9tZXRyeVtdKSB7XG4gICAgdGhpcy5yb290ID0gbmV3IEJCSE5vZGUoZ2VvbWV0cnksIDApO1xuICB9XG5cbiAgcHVibGljIGFkZChnZW86IEdlb21ldHJ5KTogdm9pZCB7XG4gICAgdGhpcy5yb290LmFkZChnZW8pO1xuICB9XG5cbiAgcHVibGljIGdldFJvb3QoKTogQkJITm9kZSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdDtcbiAgfVxuXG4gIHB1YmxpYyBmaXJzdEludGVyc2VjdGlvbihyYXk6IFJheSk6IG51bWJlciB8IG51bGwge1xuICAgIGNvbnNvbGUubG9nKFwiaW50ZXJzZWN0aW5nIHNjZW5lIGJiaFwiKTtcbiAgICByZXR1cm4gdGhpcy5yb290LmZpcnN0UG9zaXRpdmVJbnRlcnNlY3Rpb25UaW1lKHJheSk7XG4gIH1cblxuICBwdWJsaWMgcHJpbnQoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT09U2NlbmUtQkJIPT09PT09PT09PT1cIik7XG4gICAgdGhpcy5yb290LnByaW50KCk7XG4gIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/geometry/sceneBoundingBoxHeirarcy.ts\n");

/***/ }),

/***/ "./src/log.ts":
/*!********************!*\
  !*** ./src/log.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Log: () => (/* binding */ Log)\n/* harmony export */ });\nclass Log {\n    constructor() {\n        this.element = document.getElementById(\"log\");\n        this.element.style.overflow = \"scroll\";\n    }\n    log(text) {\n        this.element.innerHTML += \"<br>\" + text;\n        this.element.scrollTop = this.element.scrollHeight;\n    }\n    show() {\n        this.element.hidden = false;\n    }\n    hide() {\n        this.element.hidden = true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9nLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFFTyxNQUFNLEdBQUc7SUFJWjtRQUVJLElBQUksQ0FBQyxPQUFPLEdBQW9CLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUUzQyxDQUFDO0lBRU0sR0FBRyxDQUFDLElBQVk7UUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUssTUFBTSxHQUFHLElBQUksQ0FBQztRQUN6QyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztJQUN2RCxDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUMvQixDQUFDO0NBSUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9sb2cudHM/ZGQzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuZXhwb3J0IGNsYXNzIExvZyB7XG5cbiAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gPEhUTUxEaXZFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ1wiKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcblxuICAgIH1cblxuICAgIHB1YmxpYyBsb2codGV4dDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgKz0gIFwiPGJyPlwiICsgdGV4dDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNjcm9sbFRvcCA9IHRoaXMuZWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3coKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5oaWRkZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGlkZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmhpZGRlbiA9IHRydWU7XG4gICAgfVxuXG5cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/log.ts\n");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cad */ \"./src/cad.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nconst main = function () {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.init();\n        yield _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.run();\n    });\n};\nmain();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVnQztBQUVoQyxNQUFNLElBQUksR0FBRzs7UUFFVCxNQUFNLDBDQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEIsTUFBTSwwQ0FBUSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBRXpCLENBQUM7Q0FBQTtBQUVELElBQUksRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvbWFpbi50cz9jZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5pbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuL2NhZFwiXG5cbmNvbnN0IG1haW4gPSBhc3luYyBmdW5jdGlvbigpIHtcblxuICAgIGF3YWl0IElOU1RBTkNFLmluaXQoKTtcbiAgICBhd2FpdCBJTlNUQU5DRS5ydW4oKTtcblxufVxuXG5tYWluKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/main.ts\n");

/***/ }),

/***/ "./src/mode.ts":
/*!*********************!*\
  !*** ./src/mode.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OperatingMode: () => (/* binding */ OperatingMode)\n/* harmony export */ });\nvar OperatingMode;\n(function (OperatingMode) {\n    OperatingMode[OperatingMode[\"Navigation\"] = 0] = \"Navigation\";\n    OperatingMode[OperatingMode[\"Command\"] = 1] = \"Command\";\n})(OperatingMode || (OperatingMode = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRUEsSUFBWSxhQUdYO0FBSEQsV0FBWSxhQUFhO0lBQ3JCLDZEQUFVO0lBQ1YsdURBQU87QUFDWCxDQUFDLEVBSFcsYUFBYSxLQUFiLGFBQWEsUUFHeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9tb2RlLnRzP2RlMGQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbmV4cG9ydCBlbnVtIE9wZXJhdGluZ01vZGUge1xuICAgIE5hdmlnYXRpb24sIC8vIEtleXMgY29udHJvbCBjYW1lcmEgbW90aW9uXG4gICAgQ29tbWFuZCwgLy8gS2V5cyBjb250cm9sIGNvbW1hbmQgaW5wdXRcbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mode.ts\n");

/***/ }),

/***/ "./src/render/pipeline.ts":
/*!********************************!*\
  !*** ./src/render/pipeline.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pipeline: () => (/* binding */ Pipeline),\n/* harmony export */   PipelinePrimitive: () => (/* binding */ PipelinePrimitive)\n/* harmony export */ });\n/* harmony import */ var _renderMesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderMesh */ \"./src/render/renderMesh.ts\");\n/* harmony import */ var _renderLines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderLines */ \"./src/render/renderLines.ts\");\n/* harmony import */ var _renderPoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./renderPoints */ \"./src/render/renderPoints.ts\");\n\n\n\nvar PipelinePrimitive;\n(function (PipelinePrimitive) {\n    PipelinePrimitive[PipelinePrimitive[\"Triangle\"] = 0] = \"Triangle\";\n    PipelinePrimitive[PipelinePrimitive[\"Line\"] = 1] = \"Line\";\n    PipelinePrimitive[PipelinePrimitive[\"Point\"] = 2] = \"Point\";\n})(PipelinePrimitive || (PipelinePrimitive = {}));\nclass Pipeline {\n    constructor(device, format, layout, shaderModule, primitive) {\n        const pipelineLayout = device.createPipelineLayout({\n            label: \"pipeline layout\",\n            bindGroupLayouts: [layout],\n        });\n        this.gpuPipeline = device.createRenderPipeline({\n            label: \"pipeline\",\n            primitive: {\n                topology: getTopology(primitive),\n                cullMode: \"none\"\n            },\n            layout: pipelineLayout,\n            depthStencil: {\n                depthWriteEnabled: true,\n                depthCompare: \"less\",\n                format: \"depth24plus\"\n            },\n            vertex: {\n                module: shaderModule,\n                entryPoint: \"vertexMain\",\n                buffers: [getVertexBufferLayout(primitive)]\n            },\n            fragment: {\n                module: shaderModule,\n                entryPoint: \"fragmentMain\",\n                targets: [\n                    {\n                        format: format\n                    }\n                ]\n            },\n            multisample: {\n                count: 4\n            }\n        });\n    }\n    get() {\n        return this.gpuPipeline;\n    }\n}\nfunction getTopology(primitive) {\n    switch (primitive) {\n        case PipelinePrimitive.Triangle: return \"triangle-list\";\n        case PipelinePrimitive.Line: return \"line-list\";\n        case PipelinePrimitive.Point: return \"point-list\";\n        default:\n            console.error(\"unimplemented primitive\");\n            return \"triangle-list\";\n    }\n}\nfunction getVertexBufferLayout(primitive) {\n    switch (primitive) {\n        case PipelinePrimitive.Triangle: return _renderMesh__WEBPACK_IMPORTED_MODULE_0__.RenderMesh.getVertexBufferLayout();\n        case PipelinePrimitive.Line: return _renderLines__WEBPACK_IMPORTED_MODULE_1__.RenderLines.getVertexBufferLayout();\n        case PipelinePrimitive.Point: return _renderPoints__WEBPACK_IMPORTED_MODULE_2__.RenderPoints.getVertexBufferLayout();\n        default:\n            console.error(\"unimplemented primitive\");\n            return _renderMesh__WEBPACK_IMPORTED_MODULE_0__.RenderMesh.getVertexBufferLayout();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3BpcGVsaW5lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlDO0FBQ0U7QUFDRztBQUU5QyxJQUFZLGlCQUlYO0FBSkQsV0FBWSxpQkFBaUI7SUFDM0IsaUVBQVE7SUFDUix5REFBSTtJQUNKLDJEQUFLO0FBQ1AsQ0FBQyxFQUpXLGlCQUFpQixLQUFqQixpQkFBaUIsUUFJNUI7QUFFTSxNQUFNLFFBQVE7SUFJbkIsWUFBWSxNQUFpQixFQUFFLE1BQXdCLEVBQUUsTUFBMEIsRUFBRSxZQUE2QixFQUFFLFNBQTRCO1FBRTlJLE1BQU0sY0FBYyxHQUFzQixNQUFNLENBQUMsb0JBQW9CLENBQUM7WUFDcEUsS0FBSyxFQUFFLGlCQUFpQjtZQUN4QixnQkFBZ0IsRUFBRSxDQUFDLE1BQU0sQ0FBQztTQUMzQixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQztZQUM3QyxLQUFLLEVBQUUsVUFBVTtZQUNqQixTQUFTLEVBQUU7Z0JBQ1QsUUFBUSxFQUFFLFdBQVcsQ0FBQyxTQUFTLENBQUM7Z0JBQ2hDLFFBQVEsRUFBRSxNQUFNO2FBQ2pCO1lBQ0QsTUFBTSxFQUFFLGNBQWM7WUFDdEIsWUFBWSxFQUFFO2dCQUNaLGlCQUFpQixFQUFFLElBQUk7Z0JBQ3ZCLFlBQVksRUFBRSxNQUFNO2dCQUNwQixNQUFNLEVBQUUsYUFBYTthQUN0QjtZQUNELE1BQU0sRUFBRTtnQkFDTixNQUFNLEVBQUUsWUFBWTtnQkFDcEIsVUFBVSxFQUFFLFlBQVk7Z0JBQ3hCLE9BQU8sRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQzVDO1lBQ0QsUUFBUSxFQUFFO2dCQUNSLE1BQU0sRUFBRSxZQUFZO2dCQUNwQixVQUFVLEVBQUUsY0FBYztnQkFDMUIsT0FBTyxFQUFFO29CQUNQO3dCQUNFLE1BQU0sRUFBRSxNQUFNO3FCQUNmO2lCQUNGO2FBQ0Y7WUFDRCxXQUFXLEVBQUU7Z0JBQ1gsS0FBSyxFQUFFLENBQUM7YUFDVDtTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTSxHQUFHO1FBQ1IsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzFCLENBQUM7Q0FFRjtBQUVELFNBQVMsV0FBVyxDQUFDLFNBQTRCO0lBQy9DLFFBQVEsU0FBUyxFQUFFO1FBQ2pCLEtBQUssaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUM7UUFDeEQsS0FBSyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLFdBQVcsQ0FBQztRQUNoRCxLQUFLLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sWUFBWSxDQUFDO1FBQ2xEO1lBQ0UsT0FBTyxDQUFDLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1lBQ3pDLE9BQU8sZUFBZSxDQUFDO0tBQzFCO0FBQ0gsQ0FBQztBQUNELFNBQVMscUJBQXFCLENBQUMsU0FBNEI7SUFDekQsUUFBUSxTQUFTLEVBQUU7UUFDakIsS0FBSyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLG1EQUFVLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUMzRSxLQUFLLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8scURBQVcsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3hFLEtBQUssaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyx1REFBWSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDMUU7WUFDRSxPQUFPLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDekMsT0FBTyxtREFBVSxDQUFDLHFCQUFxQixFQUFFLENBQUM7S0FDN0M7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvcmVuZGVyL3BpcGVsaW5lLnRzP2IzMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVuZGVyTWVzaCB9IGZyb20gXCIuL3JlbmRlck1lc2hcIlxuaW1wb3J0IHsgUmVuZGVyTGluZXMgfSBmcm9tIFwiLi9yZW5kZXJMaW5lc1wiXG5pbXBvcnQgeyBSZW5kZXJQb2ludHMgfSBmcm9tIFwiLi9yZW5kZXJQb2ludHNcIjtcblxuZXhwb3J0IGVudW0gUGlwZWxpbmVQcmltaXRpdmUge1xuICBUcmlhbmdsZSxcbiAgTGluZSxcbiAgUG9pbnRcbn1cblxuZXhwb3J0IGNsYXNzIFBpcGVsaW5lIHtcblxuICBwcml2YXRlIGdwdVBpcGVsaW5lOiBHUFVSZW5kZXJQaXBlbGluZTtcblxuICBjb25zdHJ1Y3RvcihkZXZpY2U6IEdQVURldmljZSwgZm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0LCBsYXlvdXQ6IEdQVUJpbmRHcm91cExheW91dCwgc2hhZGVyTW9kdWxlOiBHUFVTaGFkZXJNb2R1bGUsIHByaW1pdGl2ZTogUGlwZWxpbmVQcmltaXRpdmUpIHtcblxuICAgIGNvbnN0IHBpcGVsaW5lTGF5b3V0OiBHUFVQaXBlbGluZUxheW91dCA9IGRldmljZS5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICBsYWJlbDogXCJwaXBlbGluZSBsYXlvdXRcIixcbiAgICAgIGJpbmRHcm91cExheW91dHM6IFtsYXlvdXRdLFxuICAgIH0pO1xuXG4gICAgdGhpcy5ncHVQaXBlbGluZSA9IGRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XG4gICAgICBsYWJlbDogXCJwaXBlbGluZVwiLFxuICAgICAgcHJpbWl0aXZlOiB7XG4gICAgICAgIHRvcG9sb2d5OiBnZXRUb3BvbG9neShwcmltaXRpdmUpLFxuICAgICAgICBjdWxsTW9kZTogXCJub25lXCJcbiAgICAgIH0sXG4gICAgICBsYXlvdXQ6IHBpcGVsaW5lTGF5b3V0LFxuICAgICAgZGVwdGhTdGVuY2lsOiB7XG4gICAgICAgIGRlcHRoV3JpdGVFbmFibGVkOiB0cnVlLFxuICAgICAgICBkZXB0aENvbXBhcmU6IFwibGVzc1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZGVwdGgyNHBsdXNcIlxuICAgICAgfSxcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBtb2R1bGU6IHNoYWRlck1vZHVsZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJ2ZXJ0ZXhNYWluXCIsXG4gICAgICAgIGJ1ZmZlcnM6IFtnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQocHJpbWl0aXZlKV1cbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBtb2R1bGU6IHNoYWRlck1vZHVsZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJmcmFnbWVudE1haW5cIixcbiAgICAgICAgdGFyZ2V0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgbXVsdGlzYW1wbGU6IHtcbiAgICAgICAgY291bnQ6IDRcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQoKTogR1BVUmVuZGVyUGlwZWxpbmUge1xuICAgIHJldHVybiB0aGlzLmdwdVBpcGVsaW5lO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gZ2V0VG9wb2xvZ3kocHJpbWl0aXZlOiBQaXBlbGluZVByaW1pdGl2ZSk6IEdQVVByaW1pdGl2ZVRvcG9sb2d5IHtcbiAgc3dpdGNoIChwcmltaXRpdmUpIHtcbiAgICBjYXNlIFBpcGVsaW5lUHJpbWl0aXZlLlRyaWFuZ2xlOiByZXR1cm4gXCJ0cmlhbmdsZS1saXN0XCI7XG4gICAgY2FzZSBQaXBlbGluZVByaW1pdGl2ZS5MaW5lOiByZXR1cm4gXCJsaW5lLWxpc3RcIjtcbiAgICBjYXNlIFBpcGVsaW5lUHJpbWl0aXZlLlBvaW50OiByZXR1cm4gXCJwb2ludC1saXN0XCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJ1bmltcGxlbWVudGVkIHByaW1pdGl2ZVwiKTtcbiAgICAgIHJldHVybiBcInRyaWFuZ2xlLWxpc3RcIjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmVydGV4QnVmZmVyTGF5b3V0KHByaW1pdGl2ZTogUGlwZWxpbmVQcmltaXRpdmUpOiBHUFVWZXJ0ZXhCdWZmZXJMYXlvdXQge1xuICBzd2l0Y2ggKHByaW1pdGl2ZSkge1xuICAgIGNhc2UgUGlwZWxpbmVQcmltaXRpdmUuVHJpYW5nbGU6IHJldHVybiBSZW5kZXJNZXNoLmdldFZlcnRleEJ1ZmZlckxheW91dCgpO1xuICAgIGNhc2UgUGlwZWxpbmVQcmltaXRpdmUuTGluZTogcmV0dXJuIFJlbmRlckxpbmVzLmdldFZlcnRleEJ1ZmZlckxheW91dCgpO1xuICAgIGNhc2UgUGlwZWxpbmVQcmltaXRpdmUuUG9pbnQ6IHJldHVybiBSZW5kZXJQb2ludHMuZ2V0VmVydGV4QnVmZmVyTGF5b3V0KCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJ1bmltcGxlbWVudGVkIHByaW1pdGl2ZVwiKTtcbiAgICAgIHJldHVybiBSZW5kZXJNZXNoLmdldFZlcnRleEJ1ZmZlckxheW91dCgpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/pipeline.ts\n");

/***/ }),

/***/ "./src/render/renderLines.ts":
/*!***********************************!*\
  !*** ./src/render/renderLines.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderLines: () => (/* binding */ RenderLines)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n\n\nclass RenderLines {\n    constructor(vertices, indices, color, model = wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.identity()) {\n        this.model = model;\n        // vertex\n        this.vertexBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"vertex buffer\",\n            size: vertices.byteLength,\n            usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST,\n        });\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.vertexBuffer, 0, vertices);\n        //index\n        this.indexBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"index buffer\",\n            size: indices.byteLength,\n            usage: GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST,\n        });\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.indexBuffer, 0, indices);\n        this.indexCount = indices.length;\n        //mvp\n        this.mvpBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"mvp\",\n            size: 64,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n        this.mvp = new Float32Array(16);\n        //color\n        this.colorBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"color buffer\",\n            size: 16,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n        this.setColor(color);\n    }\n    draw(pass) {\n        pass.setBindGroup(0, this.bindGroup);\n        pass.setVertexBuffer(0, this.vertexBuffer);\n        pass.setIndexBuffer(this.indexBuffer, \"uint32\");\n        pass.drawIndexed(this.indexCount);\n    }\n    setColor(color) {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.colorBuffer, 0, new Float32Array(color));\n    }\n    update() {\n        this.updateMVP();\n        this.updateBindGroup();\n    }\n    updateMVP() {\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.mul(this.model, _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getViewProj(), this.mvp);\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.mvpBuffer, 0, this.mvp);\n    }\n    updateBindGroup() {\n        this.bindGroup = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBindGroup({\n            label: \"bind group\",\n            layout: _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getBindGroupLayout(),\n            entries: [\n                {\n                    binding: 0,\n                    resource: { buffer: this.mvpBuffer },\n                }, {\n                    binding: 1,\n                    resource: { buffer: this.colorBuffer },\n                }\n            ]\n        });\n    }\n    static getVertexBufferLayout() {\n        return RenderLines.vertexBufferLayout;\n    }\n}\nRenderLines.vertexBufferLayout = {\n    arrayStride: 16,\n    attributes: [\n        {\n            format: \"float32x4\",\n            offset: 0,\n            shaderLocation: 0,\n        }\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNULGNBQWMsRUFBRSxDQUFDO1NBQ2xCO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvcmVuZGVyL3JlbmRlckxpbmVzLnRzP2RiNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0NCwgbWF0NCB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiXG5pbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi9jYWRcIlxuXG5leHBvcnQgY2xhc3MgUmVuZGVyTGluZXMge1xuXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHZlcnRleEJ1ZmZlckxheW91dDogR1BVVmVydGV4QnVmZmVyTGF5b3V0ID0ge1xuICAgIGFycmF5U3RyaWRlOiAxNixcbiAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICB7IC8vIGxvY2F0aW9uXG4gICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDRcIixcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICBzaGFkZXJMb2NhdGlvbjogMCxcbiAgICAgIH1cbiAgICBdXG4gIH07XG5cbiAgcHJpdmF0ZSB2ZXJ0ZXhCdWZmZXI6IEdQVUJ1ZmZlcjtcbiAgcHJpdmF0ZSBpbmRleEJ1ZmZlcjogR1BVQnVmZmVyO1xuICBwcml2YXRlIGJpbmRHcm91cCE6IEdQVUJpbmRHcm91cDtcbiAgcHJpdmF0ZSBtdnA6IEZsb2F0MzJBcnJheTtcbiAgcHJpdmF0ZSBtdnBCdWZmZXI6IEdQVUJ1ZmZlcjtcbiAgcHJpdmF0ZSBjb2xvckJ1ZmZlcjogR1BVQnVmZmVyO1xuICBwcml2YXRlIGluZGV4Q291bnQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB2ZXJ0aWNlczogRmxvYXQzMkFycmF5LFxuICAgIGluZGljZXM6IEludDMyQXJyYXksXG4gICAgY29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHByaXZhdGUgbW9kZWw6IE1hdDQgPSBtYXQ0LmlkZW50aXR5KClcbiAgKSB7XG5cbiAgICAvLyB2ZXJ0ZXhcbiAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkuY3JlYXRlQnVmZmVyKHtcbiAgICAgIGxhYmVsOiBcInZlcnRleCBidWZmZXJcIixcbiAgICAgIHNpemU6IHZlcnRpY2VzLmJ5dGVMZW5ndGgsXG4gICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVkVSVEVYIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgfSk7XG4gICAgSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5xdWV1ZS53cml0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlciwgMCwgdmVydGljZXMpO1xuXG4gICAgLy9pbmRleFxuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLmdldERldmljZSgpLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICBsYWJlbDogXCJpbmRleCBidWZmZXJcIixcbiAgICAgIHNpemU6IGluZGljZXMuYnl0ZUxlbmd0aCxcbiAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5JTkRFWCB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICAgIH0pO1xuICAgIElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkucXVldWUud3JpdGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlciwgMCwgaW5kaWNlcyk7XG4gICAgdGhpcy5pbmRleENvdW50ID0gaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAvL212cFxuICAgIHRoaXMubXZwQnVmZmVyID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCdWZmZXIoe1xuICAgICAgbGFiZWw6IFwibXZwXCIsXG4gICAgICBzaXplOiA2NCxcbiAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5VTklGT1JNIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgfSk7XG4gICAgdGhpcy5tdnAgPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcblxuICAgIC8vY29sb3JcbiAgICB0aGlzLmNvbG9yQnVmZmVyID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCdWZmZXIoe1xuICAgICAgbGFiZWw6IFwiY29sb3IgYnVmZmVyXCIsXG4gICAgICBzaXplOiAxNixcbiAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5VTklGT1JNIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgfSk7XG4gICAgdGhpcy5zZXRDb2xvcihjb2xvcik7XG4gIH1cblxuICBwdWJsaWMgZHJhdyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcik6IHZvaWQge1xuICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIHRoaXMuYmluZEdyb3VwKTtcbiAgICBwYXNzLnNldFZlcnRleEJ1ZmZlcigwLCB0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgcGFzcy5zZXRJbmRleEJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyLCBcInVpbnQzMlwiKTtcbiAgICBwYXNzLmRyYXdJbmRleGVkKHRoaXMuaW5kZXhDb3VudCk7XG4gIH1cblxuICBwdWJsaWMgc2V0Q29sb3IoY29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKSB7XG4gICAgSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5xdWV1ZS53cml0ZUJ1ZmZlcih0aGlzLmNvbG9yQnVmZmVyLCAwLCBuZXcgRmxvYXQzMkFycmF5KGNvbG9yKSk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlTVZQKCk7XG4gICAgdGhpcy51cGRhdGVCaW5kR3JvdXAoKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTVZQKCk6IHZvaWQge1xuICAgIG1hdDQubXVsKHRoaXMubW9kZWwsIElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0Q2FtZXJhKCkuZ2V0Vmlld1Byb2ooKSwgdGhpcy5tdnApO1xuICAgIElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkucXVldWUud3JpdGVCdWZmZXIodGhpcy5tdnBCdWZmZXIsIDAsIHRoaXMubXZwKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQmluZEdyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMuYmluZEdyb3VwID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCaW5kR3JvdXAoe1xuICAgICAgbGFiZWw6IFwiYmluZCBncm91cFwiLFxuICAgICAgbGF5b3V0OiBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLmdldEJpbmRHcm91cExheW91dCgpLFxuICAgICAgZW50cmllczogW1xuICAgICAgICB7XG4gICAgICAgICAgYmluZGluZzogMCxcbiAgICAgICAgICByZXNvdXJjZTogeyBidWZmZXI6IHRoaXMubXZwQnVmZmVyIH0sXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBiaW5kaW5nOiAxLFxuICAgICAgICAgIHJlc291cmNlOiB7IGJ1ZmZlcjogdGhpcy5jb2xvckJ1ZmZlciB9LFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldFZlcnRleEJ1ZmZlckxheW91dCgpOiBHUFVWZXJ0ZXhCdWZmZXJMYXlvdXQge1xuICAgIHJldHVybiBSZW5kZXJMaW5lcy52ZXJ0ZXhCdWZmZXJMYXlvdXQ7XG4gIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/renderLines.ts\n");

/***/ }),

/***/ "./src/render/renderMesh.ts":
/*!**********************************!*\
  !*** ./src/render/renderMesh.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderMesh: () => (/* binding */ RenderMesh)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n\n\nclass RenderMesh {\n    constructor(vertices, indices, color, model) {\n        this.model = model;\n        //vertex\n        this.vertexBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"vertex buffer\",\n            size: vertices.byteLength,\n            usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST,\n        });\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.vertexBuffer, 0, vertices);\n        //index\n        this.indexBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"index buffer\",\n            size: indices.byteLength,\n            usage: GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST,\n        });\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.indexBuffer, 0, indices);\n        this.indexCount = indices.length;\n        //mvp\n        this.mvpBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"mvp\",\n            size: 64,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n        this.mvp = new Float32Array(16);\n        //color\n        this.colorBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"color buffer\",\n            size: 16,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.colorBuffer, 0, color);\n    }\n    draw(pass) {\n        pass.setBindGroup(0, this.bindGroup);\n        pass.setVertexBuffer(0, this.vertexBuffer);\n        pass.setIndexBuffer(this.indexBuffer, \"uint32\");\n        pass.drawIndexed(this.indexCount);\n    }\n    update() {\n        this.updateMVP();\n        this.updateBindGroup();\n    }\n    updateMVP() {\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.mul(this.model, _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getViewProj(), this.mvp);\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.mvpBuffer, 0, this.mvp.buffer);\n    }\n    updateBindGroup() {\n        this.bindGroup = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBindGroup({\n            label: \"bind group\",\n            layout: _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getBindGroupLayout(),\n            entries: [\n                {\n                    binding: 0,\n                    resource: { buffer: this.mvpBuffer },\n                }, {\n                    binding: 1,\n                    resource: { buffer: this.colorBuffer },\n                }\n            ]\n        });\n    }\n    static getVertexBufferLayout() {\n        return this.vertexBufferLayout;\n    }\n}\nRenderMesh.vertexBufferLayout = {\n    arrayStride: 32,\n    attributes: [\n        {\n            format: \"float32x4\",\n            offset: 0,\n            shaderLocation: 0,\n        }, {\n            format: \"float32x4\",\n            offset: 16,\n            shaderLocation: 1,\n        }\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3JlbmRlck1lc2gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBQ087QUFFakMsTUFBTSxVQUFVO0lBeUJyQixZQUNFLFFBQXNCLEVBQ3RCLE9BQW1CLEVBQ25CLEtBQW1CLEVBQ1gsS0FBVztRQUFYLFVBQUssR0FBTCxLQUFLLENBQU07UUFFbkIsUUFBUTtRQUNSLElBQUksQ0FBQyxZQUFZLEdBQUcsMENBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxZQUFZLENBQUM7WUFDbEUsS0FBSyxFQUFFLGVBQWU7WUFDdEIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxVQUFVO1lBQ3pCLEtBQUssRUFBRSxjQUFjLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQyxRQUFRO1NBQ3ZELENBQUMsQ0FBQztRQUNILDBDQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUVyRixPQUFPO1FBQ1AsSUFBSSxDQUFDLFdBQVcsR0FBRywwQ0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUNqRSxLQUFLLEVBQUUsY0FBYztZQUNyQixJQUFJLEVBQUUsT0FBTyxDQUFDLFVBQVU7WUFDeEIsS0FBSyxFQUFFLGNBQWMsQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDLFFBQVE7U0FDdEQsQ0FBQyxDQUFDO1FBQ0gsMENBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUVqQyxLQUFLO1FBQ0wsSUFBSSxDQUFDLFNBQVMsR0FBRywwQ0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUMvRCxLQUFLLEVBQUUsS0FBSztZQUNaLElBQUksRUFBRSxFQUFFO1lBQ1IsS0FBSyxFQUFFLGNBQWMsQ0FBQyxPQUFPLEdBQUcsY0FBYyxDQUFDLFFBQVE7U0FDeEQsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVoQyxPQUFPO1FBQ1AsSUFBSSxDQUFDLFdBQVcsR0FBRywwQ0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUNqRSxLQUFLLEVBQUUsY0FBYztZQUNyQixJQUFJLEVBQUUsRUFBRTtZQUNSLEtBQUssRUFBRSxjQUFjLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQyxRQUFRO1NBQ3hELENBQUMsQ0FBQztRQUNILDBDQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUVuRixDQUFDO0lBRU0sSUFBSSxDQUFDLElBQTBCO1FBQ3BDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFHTSxNQUFNO1FBQ1gsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU8sU0FBUztRQUNmLDZDQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsMENBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUUsMENBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0YsQ0FBQztJQUVPLGVBQWU7UUFDckIsSUFBSSxDQUFDLFNBQVMsR0FBRywwQ0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLGVBQWUsQ0FBQztZQUNsRSxLQUFLLEVBQUUsWUFBWTtZQUNuQixNQUFNLEVBQUUsMENBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRTtZQUNuRCxPQUFPLEVBQUU7Z0JBQ1A7b0JBQ0UsT0FBTyxFQUFFLENBQUM7b0JBQ1YsUUFBUSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7aUJBQ3JDLEVBQUU7b0JBQ0QsT0FBTyxFQUFFLENBQUM7b0JBQ1YsUUFBUSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUU7aUJBQ3ZDO2FBQ0Y7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsTUFBTSxDQUFDLHFCQUFxQjtRQUMxQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNqQyxDQUFDOztBQXBHdUIsNkJBQWtCLEdBQTBCO0lBQ2xFLFdBQVcsRUFBRSxFQUFFO0lBQ2YsVUFBVSxFQUFFO1FBQ1Y7WUFDRSxNQUFNLEVBQUUsV0FBVztZQUNuQixNQUFNLEVBQUUsQ0FBQztZQUNULGNBQWMsRUFBRSxDQUFDO1NBQ2xCLEVBQUU7WUFDRCxNQUFNLEVBQUUsV0FBVztZQUNuQixNQUFNLEVBQUUsRUFBRTtZQUNWLGNBQWMsRUFBRSxDQUFDO1NBQ2xCO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvcmVuZGVyL3JlbmRlck1lc2gudHM/NGYyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi9jYWRcIlxuaW1wb3J0IHsgbWF0NCwgTWF0NCB9IGZyb20gXCJ3Z3B1LW1hdHJpeFwiXG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJNZXNoIHtcblxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSB2ZXJ0ZXhCdWZmZXJMYXlvdXQ6IEdQVVZlcnRleEJ1ZmZlckxheW91dCA9IHtcbiAgICBhcnJheVN0cmlkZTogMzIsXG4gICAgYXR0cmlidXRlczogW1xuICAgICAgeyAvLyBsb2NhdGlvblxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMng0XCIsXG4gICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgc2hhZGVyTG9jYXRpb246IDAsXG4gICAgICB9LCB7IC8vIG5vcm1hbFxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMng0XCIsXG4gICAgICAgIG9mZnNldDogMTYsXG4gICAgICAgIHNoYWRlckxvY2F0aW9uOiAxLFxuICAgICAgfVxuICAgIF1cbiAgfTtcblxuICBwcml2YXRlIHZlcnRleEJ1ZmZlcjogR1BVQnVmZmVyO1xuICBwcml2YXRlIGluZGV4QnVmZmVyOiBHUFVCdWZmZXI7XG4gIHByaXZhdGUgYmluZEdyb3VwITogR1BVQmluZEdyb3VwO1xuICBwcml2YXRlIG12cDogRmxvYXQzMkFycmF5O1xuICBwcml2YXRlIG12cEJ1ZmZlcjogR1BVQnVmZmVyO1xuICBwcml2YXRlIGNvbG9yQnVmZmVyOiBHUFVCdWZmZXI7XG4gIHByaXZhdGUgaW5kZXhDb3VudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZlcnRpY2VzOiBGbG9hdDMyQXJyYXksXG4gICAgaW5kaWNlczogSW50MzJBcnJheSxcbiAgICBjb2xvcjogRmxvYXQzMkFycmF5LFxuICAgIHByaXZhdGUgbW9kZWw6IE1hdDQpIHtcblxuICAgIC8vdmVydGV4XG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLmdldERldmljZSgpLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICBsYWJlbDogXCJ2ZXJ0ZXggYnVmZmVyXCIsXG4gICAgICBzaXplOiB2ZXJ0aWNlcy5ieXRlTGVuZ3RoLFxuICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLlZFUlRFWCB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICAgIH0pO1xuICAgIElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkucXVldWUud3JpdGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIsIDAsIHZlcnRpY2VzKTtcblxuICAgIC8vaW5kZXhcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCdWZmZXIoe1xuICAgICAgbGFiZWw6IFwiaW5kZXggYnVmZmVyXCIsXG4gICAgICBzaXplOiBpbmRpY2VzLmJ5dGVMZW5ndGgsXG4gICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuSU5ERVggfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcbiAgICB9KTtcbiAgICBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLmdldERldmljZSgpLnF1ZXVlLndyaXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIsIDAsIGluZGljZXMpO1xuICAgIHRoaXMuaW5kZXhDb3VudCA9IGluZGljZXMubGVuZ3RoO1xuXG4gICAgLy9tdnBcbiAgICB0aGlzLm12cEJ1ZmZlciA9IElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkuY3JlYXRlQnVmZmVyKHtcbiAgICAgIGxhYmVsOiBcIm12cFwiLFxuICAgICAgc2l6ZTogNjQsXG4gICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICAgIH0pO1xuICAgIHRoaXMubXZwID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG5cbiAgICAvL2NvbG9yXG4gICAgdGhpcy5jb2xvckJ1ZmZlciA9IElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkuY3JlYXRlQnVmZmVyKHtcbiAgICAgIGxhYmVsOiBcImNvbG9yIGJ1ZmZlclwiLFxuICAgICAgc2l6ZTogMTYsXG4gICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICAgIH0pO1xuICAgIElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkucXVldWUud3JpdGVCdWZmZXIodGhpcy5jb2xvckJ1ZmZlciwgMCwgY29sb3IpO1xuXG4gIH1cblxuICBwdWJsaWMgZHJhdyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcik6IHZvaWQge1xuICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIHRoaXMuYmluZEdyb3VwKTtcbiAgICBwYXNzLnNldFZlcnRleEJ1ZmZlcigwLCB0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgcGFzcy5zZXRJbmRleEJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyLCBcInVpbnQzMlwiKTtcbiAgICBwYXNzLmRyYXdJbmRleGVkKHRoaXMuaW5kZXhDb3VudCk7XG4gIH1cblxuXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVNVlAoKTtcbiAgICB0aGlzLnVwZGF0ZUJpbmRHcm91cCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVNVlAoKTogdm9pZCB7XG4gICAgbWF0NC5tdWwodGhpcy5tb2RlbCwgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRDYW1lcmEoKS5nZXRWaWV3UHJvaigpLCB0aGlzLm12cCk7XG4gICAgSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5xdWV1ZS53cml0ZUJ1ZmZlcih0aGlzLm12cEJ1ZmZlciwgMCwgdGhpcy5tdnAuYnVmZmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQmluZEdyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMuYmluZEdyb3VwID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCaW5kR3JvdXAoe1xuICAgICAgbGFiZWw6IFwiYmluZCBncm91cFwiLFxuICAgICAgbGF5b3V0OiBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLmdldEJpbmRHcm91cExheW91dCgpLFxuICAgICAgZW50cmllczogW1xuICAgICAgICB7XG4gICAgICAgICAgYmluZGluZzogMCxcbiAgICAgICAgICByZXNvdXJjZTogeyBidWZmZXI6IHRoaXMubXZwQnVmZmVyIH0sXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBiaW5kaW5nOiAxLFxuICAgICAgICAgIHJlc291cmNlOiB7IGJ1ZmZlcjogdGhpcy5jb2xvckJ1ZmZlciB9LFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0VmVydGV4QnVmZmVyTGF5b3V0KCk6IEdQVVZlcnRleEJ1ZmZlckxheW91dCB7XG4gICAgcmV0dXJuIHRoaXMudmVydGV4QnVmZmVyTGF5b3V0O1xuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/renderMesh.ts\n");

/***/ }),

/***/ "./src/render/renderPoints.ts":
/*!************************************!*\
  !*** ./src/render/renderPoints.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderPoints: () => (/* binding */ RenderPoints)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n\n\nclass RenderPoints {\n    constructor(vertices, color, model = wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.identity()) {\n        this.model = model;\n        // vertex\n        this.vertexBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"vertex buffer\",\n            size: vertices.byteLength,\n            usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST,\n        });\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.vertexBuffer, 0, vertices);\n        this.vertexCount = vertices.length;\n        //mvp\n        this.mvpBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"mvp\",\n            size: 64,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n        this.mvp = new Float32Array(16);\n        //color\n        this.colorBuffer = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBuffer({\n            label: \"color buffer\",\n            size: 16,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n        this.setColor(color);\n    }\n    draw(pass) {\n        pass.setBindGroup(0, this.bindGroup);\n        pass.setVertexBuffer(0, this.vertexBuffer);\n        pass.draw(this.vertexCount);\n    }\n    setColor(color) {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.colorBuffer, 0, new Float32Array(color));\n    }\n    update() {\n        this.updateMVP();\n        this.updateBindGroup();\n    }\n    updateMVP() {\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.mul(this.model, _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getCamera().getViewProj(), this.mvp);\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().queue.writeBuffer(this.mvpBuffer, 0, this.mvp);\n    }\n    updateBindGroup() {\n        this.bindGroup = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getDevice().createBindGroup({\n            label: \"bind group\",\n            layout: _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getRenderer().getBindGroupLayout(),\n            entries: [\n                {\n                    binding: 0,\n                    resource: { buffer: this.mvpBuffer },\n                }, {\n                    binding: 1,\n                    resource: { buffer: this.colorBuffer },\n                }\n            ]\n        });\n    }\n    static getVertexBufferLayout() {\n        return RenderPoints.vertexBufferLayout;\n    }\n}\nRenderPoints.vertexBufferLayout = {\n    arrayStride: 4,\n    attributes: [\n        {\n            format: \"float32\",\n            offset: 0,\n            shaderLocation: 0,\n        }\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MENBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxlQUFlLENBQUM7WUFDbEUsS0FBSyxFQUFFLFlBQVk7WUFDbkIsTUFBTSxFQUFFLDBDQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsa0JBQWtCLEVBQUU7WUFDbkQsT0FBTyxFQUFFO2dCQUNQO29CQUNFLE9BQU8sRUFBRSxDQUFDO29CQUNWLFFBQVEsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO2lCQUNyQyxFQUFFO29CQUNELE9BQU8sRUFBRSxDQUFDO29CQUNWLFFBQVEsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFO2lCQUN2QzthQUNGO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxxQkFBcUI7UUFDakMsT0FBTyxZQUFZLENBQUMsa0JBQWtCLENBQUM7SUFDekMsQ0FBQzs7QUF4RnVCLCtCQUFrQixHQUEwQjtJQUNsRSxXQUFXLEVBQUUsQ0FBQztJQUNkLFVBQVUsRUFBRTtRQUNWO1lBQ0UsTUFBTSxFQUFFLFNBQVM7WUFDakIsTUFBTSxFQUFFLENBQUM7WUFDVCxjQUFjLEVBQUUsQ0FBQztTQUNsQjtLQUNGO0NBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3JlbmRlci9yZW5kZXJQb2ludHMudHM/ZDFmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXQ0LCBtYXQ0IH0gZnJvbSBcIndncHUtbWF0cml4XCJcbmltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uL2NhZFwiXG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJQb2ludHMge1xuXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHZlcnRleEJ1ZmZlckxheW91dDogR1BVVmVydGV4QnVmZmVyTGF5b3V0ID0ge1xuICAgIGFycmF5U3RyaWRlOiA0LFxuICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgIHsgLy8gbG9jYXRpb25cbiAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJcIixcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICBzaGFkZXJMb2NhdGlvbjogMCxcbiAgICAgIH1cbiAgICBdXG4gIH07XG5cbiAgcHJpdmF0ZSB2ZXJ0ZXhCdWZmZXI6IEdQVUJ1ZmZlcjtcbiAgcHJpdmF0ZSBiaW5kR3JvdXAhOiBHUFVCaW5kR3JvdXA7XG4gIHByaXZhdGUgbXZwOiBGbG9hdDMyQXJyYXk7XG4gIHByaXZhdGUgbXZwQnVmZmVyOiBHUFVCdWZmZXI7XG4gIHByaXZhdGUgY29sb3JCdWZmZXI6IEdQVUJ1ZmZlcjtcbiAgcHJpdmF0ZSB2ZXJ0ZXhDb3VudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZlcnRpY2VzOiBGbG9hdDMyQXJyYXksXG4gICAgY29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHByaXZhdGUgbW9kZWw6IE1hdDQgPSBtYXQ0LmlkZW50aXR5KClcbiAgKSB7XG5cbiAgICAvLyB2ZXJ0ZXhcbiAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkuY3JlYXRlQnVmZmVyKHtcbiAgICAgIGxhYmVsOiBcInZlcnRleCBidWZmZXJcIixcbiAgICAgIHNpemU6IHZlcnRpY2VzLmJ5dGVMZW5ndGgsXG4gICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVkVSVEVYIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgfSk7XG4gICAgSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5xdWV1ZS53cml0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlciwgMCwgdmVydGljZXMpO1xuICAgIHRoaXMudmVydGV4Q291bnQgPSB2ZXJ0aWNlcy5sZW5ndGg7XG5cbiAgICAvL212cFxuICAgIHRoaXMubXZwQnVmZmVyID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCdWZmZXIoe1xuICAgICAgbGFiZWw6IFwibXZwXCIsXG4gICAgICBzaXplOiA2NCxcbiAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5VTklGT1JNIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgfSk7XG4gICAgdGhpcy5tdnAgPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcblxuICAgIC8vY29sb3JcbiAgICB0aGlzLmNvbG9yQnVmZmVyID0gSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXREZXZpY2UoKS5jcmVhdGVCdWZmZXIoe1xuICAgICAgbGFiZWw6IFwiY29sb3IgYnVmZmVyXCIsXG4gICAgICBzaXplOiAxNixcbiAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5VTklGT1JNIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgfSk7XG4gICAgdGhpcy5zZXRDb2xvcihjb2xvcik7XG4gIH1cblxuICBwdWJsaWMgZHJhdyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcik6IHZvaWQge1xuICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIHRoaXMuYmluZEdyb3VwKTtcbiAgICBwYXNzLnNldFZlcnRleEJ1ZmZlcigwLCB0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgcGFzcy5kcmF3KHRoaXMudmVydGV4Q291bnQpO1xuICB9XG5cbiAgcHVibGljIHNldENvbG9yKGNvbG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSkge1xuICAgIElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkucXVldWUud3JpdGVCdWZmZXIodGhpcy5jb2xvckJ1ZmZlciwgMCwgbmV3IEZsb2F0MzJBcnJheShjb2xvcikpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZU1WUCgpO1xuICAgIHRoaXMudXBkYXRlQmluZEdyb3VwKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU1WUCgpOiB2b2lkIHtcbiAgICBtYXQ0Lm11bCh0aGlzLm1vZGVsLCBJTlNUQU5DRS5nZXRTY2VuZSgpLmdldENhbWVyYSgpLmdldFZpZXdQcm9qKCksIHRoaXMubXZwKTtcbiAgICBJTlNUQU5DRS5nZXRSZW5kZXJlcigpLmdldERldmljZSgpLnF1ZXVlLndyaXRlQnVmZmVyKHRoaXMubXZwQnVmZmVyLCAwLCB0aGlzLm12cCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUJpbmRHcm91cCgpOiB2b2lkIHtcbiAgICB0aGlzLmJpbmRHcm91cCA9IElOU1RBTkNFLmdldFJlbmRlcmVyKCkuZ2V0RGV2aWNlKCkuY3JlYXRlQmluZEdyb3VwKHtcbiAgICAgIGxhYmVsOiBcImJpbmQgZ3JvdXBcIixcbiAgICAgIGxheW91dDogSU5TVEFOQ0UuZ2V0UmVuZGVyZXIoKS5nZXRCaW5kR3JvdXBMYXlvdXQoKSxcbiAgICAgIGVudHJpZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJpbmRpbmc6IDAsXG4gICAgICAgICAgcmVzb3VyY2U6IHsgYnVmZmVyOiB0aGlzLm12cEJ1ZmZlciB9LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgYmluZGluZzogMSxcbiAgICAgICAgICByZXNvdXJjZTogeyBidWZmZXI6IHRoaXMuY29sb3JCdWZmZXIgfSxcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQoKTogR1BVVmVydGV4QnVmZmVyTGF5b3V0IHtcbiAgICByZXR1cm4gUmVuZGVyUG9pbnRzLnZlcnRleEJ1ZmZlckxheW91dDtcbiAgfVxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/renderPoints.ts\n");

/***/ }),

/***/ "./src/render/renderer.ts":
/*!********************************!*\
  !*** ./src/render/renderer.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Renderer: () => (/* binding */ Renderer)\n/* harmony export */ });\n/* harmony import */ var _shaders_triangleShader_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shaders/triangleShader.wgsl */ \"./src/render/shaders/triangleShader.wgsl\");\n/* harmony import */ var _shaders_lineShader_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shaders/lineShader.wgsl */ \"./src/render/shaders/lineShader.wgsl\");\n/* harmony import */ var _shaders_pointShader_wgsl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shaders/pointShader.wgsl */ \"./src/render/shaders/pointShader.wgsl\");\n/* harmony import */ var _pipeline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pipeline */ \"./src/render/pipeline.ts\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nconst compatibilityCheck = document.getElementById(\"compatibility-check\");\nclass Renderer {\n    constructor() {\n        this.clearColor = [0.1, 0.1, 0.1, 1.0];\n    }\n    getDevice() {\n        return this.device;\n    }\n    getBindGroupLayout() {\n        return this.bindGroupLayout;\n    }\n    setClearColor(color) {\n        this.clearColor = color;\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.createDevice();\n            this.createResources();\n            this.createPipelines();\n            this.updateScreenSize();\n        });\n    }\n    createDevice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!navigator.gpu) {\n                alert(\"Your browser / computer does not support WebGPU.\");\n                compatibilityCheck.innerText = \"This browser does not support WebGPU. Check here for a list of supported browsers https://caniuse.com/webgpu\";\n                return;\n            }\n            var adapter;\n            try {\n                adapter = yield navigator.gpu.requestAdapter();\n            }\n            catch (error) {\n                console.log(error);\n            }\n            if (adapter == null) {\n                alert(\"Your browser / computer does not support WebGPU.\");\n                compatibilityCheck.innerText = \"No valid gpu adapter. Check here for a list of supported browsers https://caniuse.com/webgpu\";\n                return;\n            }\n            this.device = (yield adapter.requestDevice());\n            this.canvas = document.getElementById(\"screen\");\n            this.context = this.canvas.getContext(\"webgpu\");\n            this.canvasFormat = navigator.gpu.getPreferredCanvasFormat();\n            this.context.configure({\n                device: this.device,\n                format: this.canvasFormat,\n            });\n        });\n    }\n    createResources() {\n        this.triangleShaderModule = this.device.createShaderModule({\n            label: \"shader module\",\n            code: _shaders_triangleShader_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        });\n        this.lineShaderModule = this.device.createShaderModule({\n            label: \"shader module\",\n            code: _shaders_lineShader_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        });\n        this.pointShaderModule = this.device.createShaderModule({\n            label: \"shader module\",\n            code: _shaders_pointShader_wgsl__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        });\n        this.bindGroupLayout = this.device.createBindGroupLayout({\n            label: \"bind group layout\",\n            entries: [\n                {\n                    binding: 0,\n                    visibility: GPUShaderStage.VERTEX,\n                    buffer: {}\n                }, {\n                    binding: 1,\n                    visibility: GPUShaderStage.FRAGMENT,\n                    buffer: {},\n                }\n            ]\n        });\n        this.updateScreenSize();\n    }\n    createPipelines() {\n        this.trianglePipeline = new _pipeline__WEBPACK_IMPORTED_MODULE_3__.Pipeline(this.device, this.canvasFormat, this.bindGroupLayout, this.triangleShaderModule, _pipeline__WEBPACK_IMPORTED_MODULE_3__.PipelinePrimitive.Triangle);\n        this.linePipeline = new _pipeline__WEBPACK_IMPORTED_MODULE_3__.Pipeline(this.device, this.canvasFormat, this.bindGroupLayout, this.lineShaderModule, _pipeline__WEBPACK_IMPORTED_MODULE_3__.PipelinePrimitive.Line);\n        this.pointPipeline = new _pipeline__WEBPACK_IMPORTED_MODULE_3__.Pipeline(this.device, this.canvasFormat, this.bindGroupLayout, this.pointShaderModule, _pipeline__WEBPACK_IMPORTED_MODULE_3__.PipelinePrimitive.Point);\n    }\n    updateScreenSize() {\n        this.canvas.width = window.innerWidth;\n        this.canvas.height = window.innerHeight;\n        this.depthTexture = this.device.createTexture({\n            size: [this.canvas.width, this.canvas.height],\n            sampleCount: 4,\n            format: \"depth24plus\",\n            usage: GPUTextureUsage.RENDER_ATTACHMENT\n        });\n        this.renderTarget = this.device.createTexture({\n            size: [this.canvas.width, this.canvas.height],\n            sampleCount: 4,\n            format: this.canvasFormat,\n            usage: GPUTextureUsage.RENDER_ATTACHMENT\n        });\n    }\n    render(scene) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: Factor this stuff out of main loop\n            const encoder = this.device.createCommandEncoder();\n            const pass = encoder.beginRenderPass({\n                colorAttachments: [\n                    {\n                        view: this.renderTarget.createView(),\n                        resolveTarget: this.context.getCurrentTexture().createView(),\n                        loadOp: \"clear\",\n                        clearValue: this.clearColor,\n                        storeOp: \"store\",\n                    },\n                ],\n                depthStencilAttachment: {\n                    view: this.depthTexture.createView(),\n                    depthClearValue: 1.0,\n                    depthLoadOp: \"clear\",\n                    depthStoreOp: \"store\"\n                }\n            });\n            var drawCalls = 0;\n            pass.setPipeline(this.trianglePipeline.get());\n            for (let mesh of scene.getAllMeshes()) {\n                mesh.draw(pass);\n                drawCalls++;\n            }\n            ;\n            pass.setPipeline(this.linePipeline.get());\n            for (let lines of scene.getAllLines()) {\n                lines.draw(pass);\n                drawCalls++;\n            }\n            ;\n            pass.setPipeline(this.pointPipeline.get());\n            for (let points of scene.getAllPoints()) {\n                points.draw(pass);\n                drawCalls++;\n            }\n            _cad__WEBPACK_IMPORTED_MODULE_4__.INSTANCE.getStats().setDrawCalls(drawCalls);\n            pass.end();\n            const commandBuffer = encoder.finish();\n            this.device.queue.submit([commandBuffer]);\n            yield this.device.queue.onSubmittedWorkDone();\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFFMUMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRWhELENBQUM7S0FBQTtDQUVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvcmVuZGVyL3JlbmRlcmVyLnRzP2I1YzciXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgdHJpYW5nbGVTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy90cmlhbmdsZVNoYWRlci53Z3NsXCI7XG5pbXBvcnQgbGluZVNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL2xpbmVTaGFkZXIud2dzbFwiO1xuaW1wb3J0IHBvaW50U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcG9pbnRTaGFkZXIud2dzbFwiO1xuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIlxuaW1wb3J0IHsgUGlwZWxpbmUsIFBpcGVsaW5lUHJpbWl0aXZlIH0gZnJvbSBcIi4vcGlwZWxpbmVcIlxuaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vY2FkXCI7XG5cbmNvbnN0IGNvbXBhdGliaWxpdHlDaGVjazogSFRNTEVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wYXRpYmlsaXR5LWNoZWNrXCIpO1xuXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xuXG4gIHByaXZhdGUgZGV2aWNlITogR1BVRGV2aWNlO1xuICBwcml2YXRlIGNvbnRleHQhOiBHUFVDYW52YXNDb250ZXh0O1xuICBwcml2YXRlIGNhbnZhcyE6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIGNhbnZhc0Zvcm1hdCE6IEdQVVRleHR1cmVGb3JtYXQ7XG5cbiAgcHJpdmF0ZSB0cmlhbmdsZVNoYWRlck1vZHVsZSE6IEdQVVNoYWRlck1vZHVsZTtcbiAgcHJpdmF0ZSBsaW5lU2hhZGVyTW9kdWxlITogR1BVU2hhZGVyTW9kdWxlO1xuICBwcml2YXRlIHBvaW50U2hhZGVyTW9kdWxlITogR1BVU2hhZGVyTW9kdWxlO1xuXG4gIHByaXZhdGUgZGVwdGhUZXh0dXJlITogR1BVVGV4dHVyZTtcbiAgcHJpdmF0ZSByZW5kZXJUYXJnZXQhOiBHUFVUZXh0dXJlO1xuICBwcml2YXRlIGJpbmRHcm91cExheW91dCE6IEdQVUJpbmRHcm91cExheW91dDtcblxuICBwcml2YXRlIHRyaWFuZ2xlUGlwZWxpbmUhOiBQaXBlbGluZTtcbiAgcHJpdmF0ZSBsaW5lUGlwZWxpbmUhOiBQaXBlbGluZTtcbiAgcHJpdmF0ZSBwb2ludFBpcGVsaW5lITogUGlwZWxpbmU7XG5cbiAgcHJpdmF0ZSBjbGVhckNvbG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMC4xLCAwLjEsIDAuMSwgMS4wXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZXZpY2UoKTogR1BVRGV2aWNlIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U7XG4gIH1cblxuICBwdWJsaWMgZ2V0QmluZEdyb3VwTGF5b3V0KCk6IEdQVUJpbmRHcm91cExheW91dCB7XG4gICAgcmV0dXJuIHRoaXMuYmluZEdyb3VwTGF5b3V0O1xuICB9XG5cbiAgcHVibGljIHNldENsZWFyQ29sb3IoY29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckNvbG9yID0gY29sb3I7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuXG5cbiAgICBhd2FpdCB0aGlzLmNyZWF0ZURldmljZSgpO1xuICAgIHRoaXMuY3JlYXRlUmVzb3VyY2VzKCk7XG4gICAgdGhpcy5jcmVhdGVQaXBlbGluZXMoKTtcbiAgICB0aGlzLnVwZGF0ZVNjcmVlblNpemUoKTtcblxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVEZXZpY2UoKSB7XG5cbiAgICBpZiAoIW5hdmlnYXRvci5ncHUpIHtcbiAgICAgIGFsZXJ0KFwiWW91ciBicm93c2VyIC8gY29tcHV0ZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHUFUuXCIpO1xuICAgICAgY29tcGF0aWJpbGl0eUNoZWNrLmlubmVyVGV4dCA9IFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR1BVLiBDaGVjayBoZXJlIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzIGh0dHBzOi8vY2FuaXVzZS5jb20vd2ViZ3B1XCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFkYXB0ZXI6IEdQVUFkYXB0ZXIgfCBudWxsO1xuICAgIHRyeSB7XG4gICAgICBhZGFwdGVyID0gYXdhaXQgbmF2aWdhdG9yLmdwdS5yZXF1ZXN0QWRhcHRlcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gICAgaWYgKGFkYXB0ZXIhID09IG51bGwpIHtcbiAgICAgIGFsZXJ0KFwiWW91ciBicm93c2VyIC8gY29tcHV0ZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHUFUuXCIpO1xuICAgICAgY29tcGF0aWJpbGl0eUNoZWNrLmlubmVyVGV4dCA9IFwiTm8gdmFsaWQgZ3B1IGFkYXB0ZXIuIENoZWNrIGhlcmUgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgYnJvd3NlcnMgaHR0cHM6Ly9jYW5pdXNlLmNvbS93ZWJncHVcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRldmljZSA9IDxHUFVEZXZpY2U+YXdhaXQgYWRhcHRlci5yZXF1ZXN0RGV2aWNlKCk7XG4gICAgdGhpcy5jYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JlZW5cIik7XG4gICAgdGhpcy5jb250ZXh0ID0gPEdQVUNhbnZhc0NvbnRleHQ+dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIndlYmdwdVwiKTtcblxuXG4gICAgdGhpcy5jYW52YXNGb3JtYXQgPSBuYXZpZ2F0b3IuZ3B1LmdldFByZWZlcnJlZENhbnZhc0Zvcm1hdCgpO1xuICAgIHRoaXMuY29udGV4dC5jb25maWd1cmUoe1xuICAgICAgZGV2aWNlOiB0aGlzLmRldmljZSxcbiAgICAgIGZvcm1hdDogdGhpcy5jYW52YXNGb3JtYXQsXG4gICAgfSk7XG5cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUmVzb3VyY2VzKCkge1xuXG5cbiAgICB0aGlzLnRyaWFuZ2xlU2hhZGVyTW9kdWxlID0gdGhpcy5kZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgIGxhYmVsOiBcInNoYWRlciBtb2R1bGVcIixcbiAgICAgIGNvZGU6IHRyaWFuZ2xlU2hhZGVyLFxuICAgIH0pO1xuXG4gICAgdGhpcy5saW5lU2hhZGVyTW9kdWxlID0gdGhpcy5kZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgIGxhYmVsOiBcInNoYWRlciBtb2R1bGVcIixcbiAgICAgIGNvZGU6IGxpbmVTaGFkZXIsXG4gICAgfSk7XG5cbiAgICB0aGlzLnBvaW50U2hhZGVyTW9kdWxlID0gdGhpcy5kZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgIGxhYmVsOiBcInNoYWRlciBtb2R1bGVcIixcbiAgICAgIGNvZGU6IHBvaW50U2hhZGVyLFxuICAgIH0pO1xuXG4gICAgdGhpcy5iaW5kR3JvdXBMYXlvdXQgPSB0aGlzLmRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoe1xuICAgICAgbGFiZWw6IFwiYmluZCBncm91cCBsYXlvdXRcIixcbiAgICAgIGVudHJpZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJpbmRpbmc6IDAsXG4gICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLFxuICAgICAgICAgIGJ1ZmZlcjoge31cbiAgICAgICAgfSwge1xuICAgICAgICAgIGJpbmRpbmc6IDEsXG4gICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXG4gICAgICAgICAgYnVmZmVyOiB7fSxcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVTY3JlZW5TaXplKCk7XG5cbiAgfVxuXG5cbiAgcHJpdmF0ZSBjcmVhdGVQaXBlbGluZXMoKSB7XG4gICAgdGhpcy50cmlhbmdsZVBpcGVsaW5lID0gbmV3IFBpcGVsaW5lKHRoaXMuZGV2aWNlLCB0aGlzLmNhbnZhc0Zvcm1hdCwgdGhpcy5iaW5kR3JvdXBMYXlvdXQsIHRoaXMudHJpYW5nbGVTaGFkZXJNb2R1bGUsIFBpcGVsaW5lUHJpbWl0aXZlLlRyaWFuZ2xlKTtcbiAgICB0aGlzLmxpbmVQaXBlbGluZSA9IG5ldyBQaXBlbGluZSh0aGlzLmRldmljZSwgdGhpcy5jYW52YXNGb3JtYXQsIHRoaXMuYmluZEdyb3VwTGF5b3V0LCB0aGlzLmxpbmVTaGFkZXJNb2R1bGUsIFBpcGVsaW5lUHJpbWl0aXZlLkxpbmUpO1xuICAgIHRoaXMucG9pbnRQaXBlbGluZSA9IG5ldyBQaXBlbGluZSh0aGlzLmRldmljZSwgdGhpcy5jYW52YXNGb3JtYXQsIHRoaXMuYmluZEdyb3VwTGF5b3V0LCB0aGlzLnBvaW50U2hhZGVyTW9kdWxlLCBQaXBlbGluZVByaW1pdGl2ZS5Qb2ludCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlU2NyZWVuU2l6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IHRoaXMuZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgc2l6ZTogW3RoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHRdLFxuICAgICAgc2FtcGxlQ291bnQ6IDQsXG4gICAgICBmb3JtYXQ6IFwiZGVwdGgyNHBsdXNcIixcbiAgICAgIHVzYWdlOiBHUFVUZXh0dXJlVXNhZ2UuUkVOREVSX0FUVEFDSE1FTlRcbiAgICB9KTtcblxuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gdGhpcy5kZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICBzaXplOiBbdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodF0sXG4gICAgICBzYW1wbGVDb3VudDogNCxcbiAgICAgIGZvcm1hdDogdGhpcy5jYW52YXNGb3JtYXQsXG4gICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyByZW5kZXIoc2NlbmU6IFNjZW5lKSB7XG5cbiAgICAvLyBUT0RPOiBGYWN0b3IgdGhpcyBzdHVmZiBvdXQgb2YgbWFpbiBsb29wXG4gICAgY29uc3QgZW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIgPSB0aGlzLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpO1xuICAgIGNvbnN0IHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyID0gZW5jb2Rlci5iZWdpblJlbmRlclBhc3Moe1xuICAgICAgY29sb3JBdHRhY2htZW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgdmlldzogdGhpcy5yZW5kZXJUYXJnZXQuY3JlYXRlVmlldygpLFxuICAgICAgICAgIHJlc29sdmVUYXJnZXQ6IHRoaXMuY29udGV4dC5nZXRDdXJyZW50VGV4dHVyZSgpLmNyZWF0ZVZpZXcoKSxcbiAgICAgICAgICBsb2FkT3A6IFwiY2xlYXJcIixcbiAgICAgICAgICBjbGVhclZhbHVlOiB0aGlzLmNsZWFyQ29sb3IsXG4gICAgICAgICAgc3RvcmVPcDogXCJzdG9yZVwiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGRlcHRoU3RlbmNpbEF0dGFjaG1lbnQ6IHtcbiAgICAgICAgdmlldzogdGhpcy5kZXB0aFRleHR1cmUuY3JlYXRlVmlldygpLFxuICAgICAgICBkZXB0aENsZWFyVmFsdWU6IDEuMCxcbiAgICAgICAgZGVwdGhMb2FkT3A6IFwiY2xlYXJcIixcbiAgICAgICAgZGVwdGhTdG9yZU9wOiBcInN0b3JlXCJcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBkcmF3Q2FsbHM6IG51bWJlciA9IDA7XG5cbiAgICBwYXNzLnNldFBpcGVsaW5lKHRoaXMudHJpYW5nbGVQaXBlbGluZS5nZXQoKSk7XG4gICAgZm9yIChsZXQgbWVzaCBvZiBzY2VuZS5nZXRBbGxNZXNoZXMoKSkge1xuICAgICAgbWVzaC5kcmF3KHBhc3MpO1xuICAgICAgZHJhd0NhbGxzKys7XG4gICAgfTtcblxuICAgIHBhc3Muc2V0UGlwZWxpbmUodGhpcy5saW5lUGlwZWxpbmUuZ2V0KCkpO1xuICAgIGZvciAobGV0IGxpbmVzIG9mIHNjZW5lLmdldEFsbExpbmVzKCkpIHtcbiAgICAgIGxpbmVzLmRyYXcocGFzcyk7XG4gICAgICBkcmF3Q2FsbHMrKztcbiAgICB9O1xuXG4gICAgcGFzcy5zZXRQaXBlbGluZSh0aGlzLnBvaW50UGlwZWxpbmUuZ2V0KCkpO1xuICAgIGZvciAobGV0IHBvaW50cyBvZiBzY2VuZS5nZXRBbGxQb2ludHMoKSkge1xuICAgICAgcG9pbnRzLmRyYXcocGFzcyk7XG4gICAgICBkcmF3Q2FsbHMrKztcbiAgICB9XG5cbiAgICBJTlNUQU5DRS5nZXRTdGF0cygpLnNldERyYXdDYWxscyhkcmF3Q2FsbHMpO1xuXG4gICAgcGFzcy5lbmQoKTtcbiAgICBjb25zdCBjb21tYW5kQnVmZmVyID0gZW5jb2Rlci5maW5pc2goKTtcbiAgICB0aGlzLmRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKTtcblxuICAgIGF3YWl0IHRoaXMuZGV2aWNlLnF1ZXVlLm9uU3VibWl0dGVkV29ya0RvbmUoKTtcblxuICB9XG5cbn1cblxuXG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/renderer.ts\n");

/***/ }),

/***/ "./src/scene/camera.ts":
/*!*****************************!*\
  !*** ./src/scene/camera.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Camera: () => (/* binding */ Camera)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _geometry_ray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/ray */ \"./src/geometry/ray.ts\");\n/* harmony import */ var _mode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mode */ \"./src/mode.ts\");\n\n\n\n\nclass Camera {\n    constructor(position, up, forward, fovy, screen) {\n        this.position = position;\n        this.up = up;\n        this.forward = forward;\n        this.fovy = fovy;\n        this.screen = screen;\n        this.isTurningRight = false;\n        this.isTurningLeft = false;\n        this.isMovingForward = false;\n        this.isMovingBackward = false;\n        this.isLookingUp = false;\n        this.isLookingDown = false;\n        this.isMovingLeft = false;\n        this.isMovingRight = false;\n        this.up = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.normalize(this.up);\n        this.lastFrameTime = performance.now();\n        this.viewProj = new Float32Array(16);\n        this.addEvents();\n    }\n    getViewProj() {\n        return this.viewProj;\n    }\n    getPosition() {\n        return this.position;\n    }\n    getFovy() {\n        return this.fovy;\n    }\n    setFovy(newFovy) {\n        this.fovy = newFovy;\n        this.updateViewProj();\n    }\n    getRayAtPixel(x, y) {\n        const center = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.add(this.position, this.forward);\n        const right = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.cross(this.forward, this.up);\n        const xRes = window.innerWidth;\n        const yRes = window.innerHeight;\n        const sizeY = 2.0 * Math.tan(this.fovy / 2.0);\n        const sizeX = sizeY / yRes * xRes;\n        const screenPoint = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.add(center, wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.sub(wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.scale(right, sizeX / xRes * (x - xRes / 2.0)), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.scale(this.up, sizeY / yRes * (y - yRes / 2.0))));\n        return new _geometry_ray__WEBPACK_IMPORTED_MODULE_1__.Ray(this.position, wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.sub(screenPoint, this.position));\n    }\n    pixelSizeAtDist(dist) {\n        const yRes = window.innerHeight;\n        const sizeY = 2.0 * Math.tan(this.fovy / 2.0);\n        return sizeY / yRes * dist;\n    }\n    addEvents() {\n        document.addEventListener('keydown', (event) => {\n            switch (event.code) {\n                case 'ArrowLeft':\n                    this.isTurningLeft = true;\n                    break;\n                case 'ArrowRight':\n                    this.isTurningRight = true;\n                    break;\n                case 'ArrowUp':\n                    this.isLookingUp = true;\n                    break;\n                case 'ArrowDown':\n                    this.isLookingDown = true;\n                    break;\n                case 'KeyW':\n                    this.isMovingForward = true;\n                    break;\n                case 'KeyS':\n                    this.isMovingBackward = true;\n                    break;\n                case 'KeyA':\n                    this.isMovingLeft = true;\n                    break;\n                case 'KeyD':\n                    this.isMovingRight = true;\n                    break;\n            }\n        }, false);\n        document.addEventListener('keyup', (event) => {\n            switch (event.code) {\n                case 'ArrowLeft':\n                    this.isTurningLeft = false;\n                    break;\n                case 'ArrowRight':\n                    this.isTurningRight = false;\n                    break;\n                case 'ArrowUp':\n                    this.isLookingUp = false;\n                    break;\n                case 'ArrowDown':\n                    this.isLookingDown = false;\n                    break;\n                case 'KeyW':\n                    this.isMovingForward = false;\n                    break;\n                case 'KeyS':\n                    this.isMovingBackward = false;\n                    break;\n                case 'KeyA':\n                    this.isMovingLeft = false;\n                    break;\n                case 'KeyD':\n                    this.isMovingRight = false;\n                    break;\n            }\n        }, false);\n    }\n    tick() {\n        var now = performance.now();\n        if (_cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getMode() == _mode__WEBPACK_IMPORTED_MODULE_2__.OperatingMode.Navigation) {\n            if (this.isTurningLeft) {\n                this.turnRight((this.lastFrameTime - now) / 500);\n            }\n            else if (this.isTurningRight == true) {\n                this.turnRight((now - this.lastFrameTime) / 500);\n            }\n            if (this.isLookingUp) {\n                this.lookUp((now - this.lastFrameTime) / 500);\n            }\n            else if (this.isLookingDown) {\n                this.lookUp((this.lastFrameTime - now) / 500);\n            }\n            if (this.isMovingForward) {\n                this.goForward((now - this.lastFrameTime) / 50);\n            }\n            else if (this.isMovingBackward) {\n                this.goForward((this.lastFrameTime - now) / 50);\n            }\n            if (this.isMovingRight) {\n                this.goRight((now - this.lastFrameTime) / 50);\n            }\n            else if (this.isMovingLeft) {\n                this.goRight((this.lastFrameTime - now) / 50);\n            }\n        }\n        this.updateViewProj();\n        this.lastFrameTime = now;\n    }\n    turnRight(amount) {\n        const rotation = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.rotateZ(wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.identity(), -amount);\n        this.forward = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.transformMat4(this.forward, rotation);\n        this.up = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.transformMat4(this.up, rotation);\n    }\n    lookUp(amount) {\n        const right = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.cross(this.forward, this.up);\n        const rotation = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.axisRotate(wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.identity(), right, amount);\n        this.forward = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.transformMat4(this.forward, rotation);\n        this.up = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.transformMat4(this.up, rotation);\n    }\n    goForward(amount) {\n        this.position = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.add(wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.scale(this.forward, amount), this.position);\n    }\n    goRight(amount) {\n        const right = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.cross(this.up, this.forward);\n        this.position = wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.add(this.position, wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.scale(right, -amount));\n    }\n    updateViewProj() {\n        const view = new Float32Array(16);\n        const proj = new Float32Array(16);\n        const swapYZ = (v) => {\n            return wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(v[0], v[2], v[1]);\n        };\n        const forward = swapYZ(this.forward);\n        const position = swapYZ(this.position);\n        const up = swapYZ(this.up);\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.lookAt(position, wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.add(position, forward), up, view);\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.perspective(this.fovy, this.screen.width / this.screen.height, 0.1, 1000.0, proj);\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.multiply(proj, view, this.viewProj);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUFDLE9BQU8sQ0FBQyw2Q0FBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLE9BQU8sR0FBRyw2Q0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxFQUFFLEdBQUcsNkNBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBQ08sTUFBTSxDQUFDLE1BQWM7UUFDM0IsTUFBTSxLQUFLLEdBQVMsNkNBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdEQsTUFBTSxRQUFRLEdBQVMsNkNBQUksQ0FBQyxVQUFVLENBQUMsNkNBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLE9BQU8sR0FBRyw2Q0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxFQUFFLEdBQUcsNkNBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRU8sU0FBUyxDQUFDLE1BQWM7UUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyw2Q0FBSSxDQUFDLEdBQUcsQ0FBQyw2Q0FBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBRU8sT0FBTyxDQUFDLE1BQWM7UUFDNUIsTUFBTSxLQUFLLEdBQVMsNkNBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsR0FBRyw2Q0FBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLDZDQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVPLGNBQWM7UUFDcEIsTUFBTSxJQUFJLEdBQUcsSUFBSSxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFbEMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFPLEVBQUUsRUFBRTtZQUN6QixPQUFPLDZDQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsQ0FBQztRQUVELE1BQU0sT0FBTyxHQUFTLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0MsTUFBTSxRQUFRLEdBQVMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3QyxNQUFNLEVBQUUsR0FBUyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWpDLDZDQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSw2Q0FBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdELDZDQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2Riw2Q0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxDQUFDO0NBR0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy9zY2VuZS9jYW1lcmEudHM/MTVhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXQ0LCB2ZWMzLCBNYXQ0LCBWZWMzIH0gZnJvbSBcIndncHUtbWF0cml4XCJcbmltcG9ydCB7IElOU1RBTkNFIH0gZnJvbSBcIi4uL2NhZFwiXG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vZ2VvbWV0cnkvcmF5XCI7XG5pbXBvcnQgeyBPcGVyYXRpbmdNb2RlIH0gZnJvbSBcIi4uL21vZGVcIlxuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcblxuICBwcml2YXRlIHZpZXdQcm9qOiBGbG9hdDMyQXJyYXk7XG4gIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xuICBwcml2YXRlIGlzVHVybmluZ1JpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaXNUdXJuaW5nTGVmdDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGlzTW92aW5nRm9yd2FyZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGlzTW92aW5nQmFja3dhcmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBpc0xvb2tpbmdVcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGlzTG9va2luZ0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBpc01vdmluZ0xlZnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBpc01vdmluZ1JpZ2h0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBwb3NpdGlvbjogVmVjMyxcbiAgICBwcml2YXRlIHVwOiBWZWMzLFxuICAgIHByaXZhdGUgZm9yd2FyZDogVmVjMyxcbiAgICBwcml2YXRlIGZvdnk6IG51bWJlcixcbiAgICBwcml2YXRlIHNjcmVlbjogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICB0aGlzLnVwID0gdmVjMy5ub3JtYWxpemUodGhpcy51cCk7XG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy52aWV3UHJvaiA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xuICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gIH1cblxuICBnZXRWaWV3UHJvaigpOiBGbG9hdDMyQXJyYXkge1xuICAgIHJldHVybiB0aGlzLnZpZXdQcm9qO1xuICB9XG5cbiAgZ2V0UG9zaXRpb24oKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gIH1cblxuICBnZXRGb3Z5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZm92eTtcbiAgfVxuXG4gIHNldEZvdnkobmV3Rm92eTogbnVtYmVyKSB7XG4gICAgdGhpcy5mb3Z5ID0gbmV3Rm92eTtcbiAgICB0aGlzLnVwZGF0ZVZpZXdQcm9qKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmF5QXRQaXhlbCh4OiBudW1iZXIsIHk6IG51bWJlcik6IFJheSB7XG4gICAgY29uc3QgY2VudGVyOiBWZWMzID0gdmVjMy5hZGQodGhpcy5wb3NpdGlvbiwgdGhpcy5mb3J3YXJkKTtcbiAgICBjb25zdCByaWdodDogVmVjMyA9IHZlYzMuY3Jvc3ModGhpcy5mb3J3YXJkLCB0aGlzLnVwKTtcbiAgICBjb25zdCB4UmVzOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCB5UmVzOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY29uc3Qgc2l6ZVk6IG51bWJlciA9IDIuMCAqIE1hdGgudGFuKHRoaXMuZm92eSAvIDIuMCk7XG4gICAgY29uc3Qgc2l6ZVg6IG51bWJlciA9IHNpemVZIC8geVJlcyAqIHhSZXM7XG4gICAgY29uc3Qgc2NyZWVuUG9pbnQ6IFZlYzMgPSB2ZWMzLmFkZChcbiAgICAgIGNlbnRlcixcbiAgICAgIHZlYzMuc3ViKFxuICAgICAgICB2ZWMzLnNjYWxlKHJpZ2h0LCBzaXplWCAvIHhSZXMgKiAoeCAtIHhSZXMgLyAyLjApKSxcbiAgICAgICAgdmVjMy5zY2FsZSh0aGlzLnVwLCBzaXplWSAvIHlSZXMgKiAoeSAtIHlSZXMgLyAyLjApKVxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBSYXkodGhpcy5wb3NpdGlvbiwgdmVjMy5zdWIoc2NyZWVuUG9pbnQsIHRoaXMucG9zaXRpb24pKTtcbiAgfVxuXG4gIHB1YmxpYyBwaXhlbFNpemVBdERpc3QoZGlzdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB5UmVzOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY29uc3Qgc2l6ZVk6IG51bWJlciA9IDIuMCAqIE1hdGgudGFuKHRoaXMuZm92eSAvIDIuMCk7XG4gICAgcmV0dXJuIHNpemVZIC8geVJlcyAqIGRpc3Q7XG4gIH1cblxuICBwcml2YXRlIGFkZEV2ZW50cygpIHtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOiB0aGlzLmlzVHVybmluZ0xlZnQgPSB0cnVlOyBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6IHRoaXMuaXNUdXJuaW5nUmlnaHQgPSB0cnVlOyBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6IHRoaXMuaXNMb29raW5nVXAgPSB0cnVlOyBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzogdGhpcy5pc0xvb2tpbmdEb3duID0gdHJ1ZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0tleVcnOiB0aGlzLmlzTW92aW5nRm9yd2FyZCA9IHRydWU7IGJyZWFrO1xuICAgICAgICBjYXNlICdLZXlTJzogdGhpcy5pc01vdmluZ0JhY2t3YXJkID0gdHJ1ZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0tleUEnOiB0aGlzLmlzTW92aW5nTGVmdCA9IHRydWU7IGJyZWFrO1xuICAgICAgICBjYXNlICdLZXlEJzogdGhpcy5pc01vdmluZ1JpZ2h0ID0gdHJ1ZTsgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOiB0aGlzLmlzVHVybmluZ0xlZnQgPSBmYWxzZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOiB0aGlzLmlzVHVybmluZ1JpZ2h0ID0gZmFsc2U7IGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd1VwJzogdGhpcy5pc0xvb2tpbmdVcCA9IGZhbHNlOyBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzogdGhpcy5pc0xvb2tpbmdEb3duID0gZmFsc2U7IGJyZWFrO1xuICAgICAgICBjYXNlICdLZXlXJzogdGhpcy5pc01vdmluZ0ZvcndhcmQgPSBmYWxzZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0tleVMnOiB0aGlzLmlzTW92aW5nQmFja3dhcmQgPSBmYWxzZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0tleUEnOiB0aGlzLmlzTW92aW5nTGVmdCA9IGZhbHNlOyBicmVhaztcbiAgICAgICAgY2FzZSAnS2V5RCc6IHRoaXMuaXNNb3ZpbmdSaWdodCA9IGZhbHNlOyBicmVhaztcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG5cbiAgfVxuXG5cbiAgdGljaygpOiB2b2lkIHtcblxuXG4gICAgdmFyIG5vdzogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICBpZiAoSU5TVEFOQ0UuZ2V0TW9kZSgpID09IE9wZXJhdGluZ01vZGUuTmF2aWdhdGlvbikge1xuICAgICAgaWYgKHRoaXMuaXNUdXJuaW5nTGVmdCkge1xuICAgICAgICB0aGlzLnR1cm5SaWdodCgodGhpcy5sYXN0RnJhbWVUaW1lIC0gbm93KSAvIDUwMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUdXJuaW5nUmlnaHQgPT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnR1cm5SaWdodCgobm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lKSAvIDUwMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzTG9va2luZ1VwKSB7XG4gICAgICAgIHRoaXMubG9va1VwKChub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWUpIC8gNTAwKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0xvb2tpbmdEb3duKSB7XG4gICAgICAgIHRoaXMubG9va1VwKCh0aGlzLmxhc3RGcmFtZVRpbWUgLSBub3cpIC8gNTAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNNb3ZpbmdGb3J3YXJkKSB7XG4gICAgICAgIHRoaXMuZ29Gb3J3YXJkKChub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWUpIC8gNTApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTW92aW5nQmFja3dhcmQpIHtcbiAgICAgICAgdGhpcy5nb0ZvcndhcmQoKHRoaXMubGFzdEZyYW1lVGltZSAtIG5vdykgLyA1MCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzTW92aW5nUmlnaHQpIHtcbiAgICAgICAgdGhpcy5nb1JpZ2h0KChub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWUpIC8gNTApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTW92aW5nTGVmdCkge1xuICAgICAgICB0aGlzLmdvUmlnaHQoKHRoaXMubGFzdEZyYW1lVGltZSAtIG5vdykgLyA1MCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVWaWV3UHJvaigpO1xuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcbiAgfVxuXG4gIHByaXZhdGUgdHVyblJpZ2h0KGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgcm90YXRpb246IE1hdDQgPSBtYXQ0LnJvdGF0ZVoobWF0NC5pZGVudGl0eSgpLCAtYW1vdW50KTtcbiAgICB0aGlzLmZvcndhcmQgPSB2ZWMzLnRyYW5zZm9ybU1hdDQodGhpcy5mb3J3YXJkLCByb3RhdGlvbik7XG4gICAgdGhpcy51cCA9IHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLnVwLCByb3RhdGlvbik7XG4gIH1cbiAgcHJpdmF0ZSBsb29rVXAoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCByaWdodDogVmVjMyA9IHZlYzMuY3Jvc3ModGhpcy5mb3J3YXJkLCB0aGlzLnVwKTtcbiAgICBjb25zdCByb3RhdGlvbjogTWF0NCA9IG1hdDQuYXhpc1JvdGF0ZShtYXQ0LmlkZW50aXR5KCksIHJpZ2h0LCBhbW91bnQpO1xuICAgIHRoaXMuZm9yd2FyZCA9IHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLmZvcndhcmQsIHJvdGF0aW9uKTtcbiAgICB0aGlzLnVwID0gdmVjMy50cmFuc2Zvcm1NYXQ0KHRoaXMudXAsIHJvdGF0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgZ29Gb3J3YXJkKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHZlYzMuYWRkKHZlYzMuc2NhbGUodGhpcy5mb3J3YXJkLCBhbW91bnQpLCB0aGlzLnBvc2l0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgZ29SaWdodChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHJpZ2h0OiBWZWMzID0gdmVjMy5jcm9zcyh0aGlzLnVwLCB0aGlzLmZvcndhcmQpO1xuICAgIHRoaXMucG9zaXRpb24gPSB2ZWMzLmFkZCh0aGlzLnBvc2l0aW9uLCB2ZWMzLnNjYWxlKHJpZ2h0LCAtYW1vdW50KSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVZpZXdQcm9qKCk6IHZvaWQge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcbiAgICBjb25zdCBwcm9qID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG5cbiAgICBjb25zdCBzd2FwWVogPSAodjogVmVjMykgPT4ge1xuICAgICAgcmV0dXJuIHZlYzMuY3JlYXRlKHZbMF0sIHZbMl0sIHZbMV0pO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcndhcmQ6IFZlYzMgPSBzd2FwWVoodGhpcy5mb3J3YXJkKTtcbiAgICBjb25zdCBwb3NpdGlvbjogVmVjMyA9IHN3YXBZWih0aGlzLnBvc2l0aW9uKTtcbiAgICBjb25zdCB1cDogVmVjMyA9IHN3YXBZWih0aGlzLnVwKTtcblxuICAgIG1hdDQubG9va0F0KHBvc2l0aW9uLCB2ZWMzLmFkZChwb3NpdGlvbiwgZm9yd2FyZCksIHVwLCB2aWV3KTtcbiAgICBtYXQ0LnBlcnNwZWN0aXZlKHRoaXMuZm92eSwgdGhpcy5zY3JlZW4ud2lkdGggLyB0aGlzLnNjcmVlbi5oZWlnaHQsIDAuMSwgMTAwMC4wLCBwcm9qKTtcbiAgICBtYXQ0Lm11bHRpcGx5KHByb2osIHZpZXcsIHRoaXMudmlld1Byb2opO1xuICB9XG5cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scene/camera.ts\n");

/***/ }),

/***/ "./src/scene/constructionPlane.ts":
/*!****************************************!*\
  !*** ./src/scene/constructionPlane.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstructionPlane: () => (/* binding */ ConstructionPlane)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _render_renderLines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../render/renderLines */ \"./src/render/renderLines.ts\");\n\n\nclass ConstructionPlane {\n    constructor(majorCount = 10, minorCount = 10, cellSize = 1) {\n        this.majorCount = majorCount;\n        this.minorCount = minorCount;\n        this.cellSize = cellSize;\n        this.majorLines = 0;\n        this.minorLines = 0;\n        this.setup();\n    }\n    setup() {\n        if (this.majorLines)\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeLines(this.majorLines);\n        if (this.minorLines)\n            _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().removeLines(this.minorLines);\n        const cellCount = this.majorCount * this.minorCount;\n        const size = cellCount * this.cellSize;\n        const majorVerts = [];\n        const minorVerts = [];\n        const majorIndices = [];\n        const minorIndices = [];\n        var majorIndex = 0;\n        var minorIndex = 0;\n        const halfSize = size / 2.0;\n        const start = -halfSize;\n        for (var i = 0; i <= cellCount; i++) {\n            if (i % this.minorCount === 0) { // major line\n                majorVerts.push(start + i * this.cellSize, -halfSize, 0, 1, start + i * this.cellSize, halfSize, 0, 1, -halfSize, start + i * this.cellSize, 0, 1, halfSize, start + i * this.cellSize, 0, 1);\n                majorIndices.push(majorIndex, majorIndex + 1, majorIndex + 2, majorIndex + 3);\n                majorIndex += 4;\n            }\n            else { // minor line\n                minorVerts.push(start + i * this.cellSize, -halfSize, 0, 1, start + i * this.cellSize, halfSize, 0, 1, -halfSize, start + i * this.cellSize, 0, 1, halfSize, start + i * this.cellSize, 0, 1);\n                minorIndices.push(minorIndex, minorIndex + 1, minorIndex + 2, minorIndex + 3);\n                minorIndex += 4;\n            }\n        }\n        // TODO: colors based on dark mode\n        this.majorLines = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addRenderLines(new _render_renderLines__WEBPACK_IMPORTED_MODULE_1__.RenderLines(new Float32Array(majorVerts), new Int32Array(majorIndices), [1.0, 0.9, 0.9, 1.0]));\n        this.minorLines = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addRenderLines(new _render_renderLines__WEBPACK_IMPORTED_MODULE_1__.RenderLines(new Float32Array(minorVerts), new Int32Array(minorIndices), [0.5, 0.4, 0.4, 1.0]));\n    }\n    getMinorCount() {\n        return this.minorCount;\n    }\n    getMajorCount() {\n        return this.majorCount;\n    }\n    getCellSize() {\n        return this.cellSize;\n    }\n    getMajorLines() {\n        return this.majorLines;\n    }\n    getMinorLines() {\n        return this.minorLines;\n    }\n    setMajorColor(color) {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getLines(this.majorLines).setColor(color);\n    }\n    setMinorColor(color) {\n        _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().getLines(this.minorLines).setColor(color);\n    }\n    setMinorCount(count) {\n        this.minorCount = count;\n        this.setup();\n    }\n    setMajorCount(count) {\n        this.majorCount = count;\n        this.setup();\n    }\n    setCellSize(size) {\n        this.cellSize = size;\n        this.setup();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBQ00sYUFBYSxDQUFDLEtBQXVDO1FBQzFELDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVNLGFBQWEsQ0FBQyxLQUFhO1FBQ2hDLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxhQUFhLENBQUMsS0FBYTtRQUNoQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRU0sV0FBVyxDQUFDLElBQVk7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQztDQUVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvc2NlbmUvY29uc3RydWN0aW9uUGxhbmUudHM/OTJjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlNUQU5DRSB9IGZyb20gXCIuLi9jYWRcIjtcbmltcG9ydCB7IFJlbmRlckxpbmVzIH0gZnJvbSBcIi4uL3JlbmRlci9yZW5kZXJMaW5lc1wiXG5pbXBvcnQgeyBSZW5kZXJJRCB9IGZyb20gXCIuL3NjZW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBDb25zdHJ1Y3Rpb25QbGFuZSB7XG5cbiAgcHJpdmF0ZSBtYWpvckxpbmVzOiBSZW5kZXJJRDtcbiAgcHJpdmF0ZSBtaW5vckxpbmVzOiBSZW5kZXJJRDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1ham9yQ291bnQ6IG51bWJlciA9IDEwLFxuICAgIHByaXZhdGUgbWlub3JDb3VudDogbnVtYmVyID0gMTAsXG4gICAgcHJpdmF0ZSBjZWxsU2l6ZTogbnVtYmVyID0gMSkge1xuICAgIHRoaXMubWFqb3JMaW5lcyA9IDA7XG4gICAgdGhpcy5taW5vckxpbmVzID0gMDtcbiAgICB0aGlzLnNldHVwKCk7XG4gIH1cblxuICBwcml2YXRlIHNldHVwKCkge1xuXG4gICAgaWYgKHRoaXMubWFqb3JMaW5lcykgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5yZW1vdmVMaW5lcyh0aGlzLm1ham9yTGluZXMpO1xuICAgIGlmICh0aGlzLm1pbm9yTGluZXMpIElOU1RBTkNFLmdldFNjZW5lKCkucmVtb3ZlTGluZXModGhpcy5taW5vckxpbmVzKTtcblxuICAgIGNvbnN0IGNlbGxDb3VudCA9IHRoaXMubWFqb3JDb3VudCAqIHRoaXMubWlub3JDb3VudDtcbiAgICBjb25zdCBzaXplID0gY2VsbENvdW50ICogdGhpcy5jZWxsU2l6ZTtcblxuICAgIGNvbnN0IG1ham9yVmVydHM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgbWlub3JWZXJ0czogbnVtYmVyW10gPSBbXTtcbiAgICBjb25zdCBtYWpvckluZGljZXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgbWlub3JJbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgdmFyIG1ham9ySW5kZXg6IG51bWJlciA9IDA7XG4gICAgdmFyIG1pbm9ySW5kZXg6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyLjA7XG4gICAgY29uc3Qgc3RhcnQ6IG51bWJlciA9IC1oYWxmU2l6ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNlbGxDb3VudDsgaSsrKSB7XG4gICAgICBpZiAoaSAlIHRoaXMubWlub3JDb3VudCA9PT0gMCkgeyAvLyBtYWpvciBsaW5lXG4gICAgICAgIG1ham9yVmVydHMucHVzaChcbiAgICAgICAgICBzdGFydCArIGkgKiB0aGlzLmNlbGxTaXplLCAtaGFsZlNpemUsIDAsIDEsXG4gICAgICAgICAgc3RhcnQgKyBpICogdGhpcy5jZWxsU2l6ZSwgaGFsZlNpemUsIDAsIDEsXG4gICAgICAgICAgLWhhbGZTaXplLCBzdGFydCArIGkgKiB0aGlzLmNlbGxTaXplLCAwLCAxLFxuICAgICAgICAgIGhhbGZTaXplLCBzdGFydCArIGkgKiB0aGlzLmNlbGxTaXplLCAwLCAxLFxuICAgICAgICApO1xuICAgICAgICBtYWpvckluZGljZXMucHVzaChtYWpvckluZGV4LCBtYWpvckluZGV4ICsgMSwgbWFqb3JJbmRleCArIDIsIG1ham9ySW5kZXggKyAzKTtcbiAgICAgICAgbWFqb3JJbmRleCArPSA0O1xuICAgICAgfSBlbHNlIHsgLy8gbWlub3IgbGluZVxuICAgICAgICBtaW5vclZlcnRzLnB1c2goXG4gICAgICAgICAgc3RhcnQgKyBpICogdGhpcy5jZWxsU2l6ZSwgLWhhbGZTaXplLCAwLCAxLFxuICAgICAgICAgIHN0YXJ0ICsgaSAqIHRoaXMuY2VsbFNpemUsIGhhbGZTaXplLCAwLCAxLFxuICAgICAgICAgIC1oYWxmU2l6ZSwgc3RhcnQgKyBpICogdGhpcy5jZWxsU2l6ZSwgMCwgMSxcbiAgICAgICAgICBoYWxmU2l6ZSwgc3RhcnQgKyBpICogdGhpcy5jZWxsU2l6ZSwgMCwgMSxcbiAgICAgICAgKTtcbiAgICAgICAgbWlub3JJbmRpY2VzLnB1c2gobWlub3JJbmRleCwgbWlub3JJbmRleCArIDEsIG1pbm9ySW5kZXggKyAyLCBtaW5vckluZGV4ICsgMyk7XG4gICAgICAgIG1pbm9ySW5kZXggKz0gNDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETzogY29sb3JzIGJhc2VkIG9uIGRhcmsgbW9kZVxuICAgIHRoaXMubWFqb3JMaW5lcyA9IElOU1RBTkNFLmdldFNjZW5lKCkuYWRkUmVuZGVyTGluZXMobmV3IFJlbmRlckxpbmVzKG5ldyBGbG9hdDMyQXJyYXkobWFqb3JWZXJ0cyksIG5ldyBJbnQzMkFycmF5KG1ham9ySW5kaWNlcyksIFsxLjAsIDAuOSwgMC45LCAxLjBdKSk7XG4gICAgdGhpcy5taW5vckxpbmVzID0gSU5TVEFOQ0UuZ2V0U2NlbmUoKS5hZGRSZW5kZXJMaW5lcyhuZXcgUmVuZGVyTGluZXMobmV3IEZsb2F0MzJBcnJheShtaW5vclZlcnRzKSwgbmV3IEludDMyQXJyYXkobWlub3JJbmRpY2VzKSwgWzAuNSwgMC40LCAwLjQsIDEuMF0pKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNaW5vckNvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWlub3JDb3VudDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNYWpvckNvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWFqb3JDb3VudDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDZWxsU2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNlbGxTaXplO1xuICB9XG5cbiAgcHVibGljIGdldE1ham9yTGluZXMoKTogUmVuZGVySUQge1xuICAgIHJldHVybiB0aGlzLm1ham9yTGluZXM7XG4gIH1cblxuICBwdWJsaWMgZ2V0TWlub3JMaW5lcygpOiBSZW5kZXJJRCB7XG4gICAgcmV0dXJuIHRoaXMubWlub3JMaW5lcztcbiAgfVxuXG4gIHB1YmxpYyBzZXRNYWpvckNvbG9yKGNvbG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSkge1xuICAgIElOU1RBTkNFLmdldFNjZW5lKCkuZ2V0TGluZXModGhpcy5tYWpvckxpbmVzKS5zZXRDb2xvcihjb2xvcik7XG4gIH1cbiAgcHVibGljIHNldE1pbm9yQ29sb3IoY29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKSB7XG4gICAgSU5TVEFOQ0UuZ2V0U2NlbmUoKS5nZXRMaW5lcyh0aGlzLm1pbm9yTGluZXMpLnNldENvbG9yKGNvbG9yKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRNaW5vckNvdW50KGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pbm9yQ291bnQgPSBjb3VudDtcbiAgICB0aGlzLnNldHVwKCk7XG4gIH1cblxuICBwdWJsaWMgc2V0TWFqb3JDb3VudChjb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tYWpvckNvdW50ID0gY291bnQ7XG4gICAgdGhpcy5zZXR1cCgpO1xuICB9XG5cbiAgcHVibGljIHNldENlbGxTaXplKHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2VsbFNpemUgPSBzaXplO1xuICAgIHRoaXMuc2V0dXAoKTtcbiAgfVxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scene/constructionPlane.ts\n");

/***/ }),

/***/ "./src/scene/scene.ts":
/*!****************************!*\
  !*** ./src/scene/scene.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scene: () => (/* binding */ Scene)\n/* harmony export */ });\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./camera */ \"./src/scene/camera.ts\");\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _constructionPlane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constructionPlane */ \"./src/scene/constructionPlane.ts\");\n/* harmony import */ var _geometry_sceneBoundingBoxHeirarcy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/sceneBoundingBoxHeirarcy */ \"./src/geometry/sceneBoundingBoxHeirarcy.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nclass Scene {\n    constructor() {\n        this.renderLines = new Map();\n        this.renderMeshes = new Map();\n        this.renderPoints = new Map();\n        this.renderIDGenerator = 1;\n        this.objectIDGenerator = 1;\n        this.boundingBoxHeirarchy = new _geometry_sceneBoundingBoxHeirarcy__WEBPACK_IMPORTED_MODULE_2__.SceneBoundingBoxHeirarchy([]);\n        this.camera = new _camera__WEBPACK_IMPORTED_MODULE_0__.Camera(wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0.0, -20.0, 10.0), //position\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0.0, 0.0, 1.0), //up\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0.0, 1.0, 0.0), //forward\n        1.5, //fovy\n        document.getElementById(\"screen\"));\n    }\n    getConstructionPlane() {\n        return this.constructionPlane;\n    }\n    getBoundingBoxHeirarchy() {\n        return this.boundingBoxHeirarchy;\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.constructionPlane = new _constructionPlane__WEBPACK_IMPORTED_MODULE_1__.ConstructionPlane();\n        });\n    }\n    addGeometry(geo) {\n        this.boundingBoxHeirarchy.add(geo);\n        this.boundingBoxHeirarchy.print();\n        return this.objectIDGenerator++;\n    }\n    addRenderMesh(mesh) {\n        this.renderMeshes.set(this.renderIDGenerator, mesh);\n        return this.renderIDGenerator++;\n    }\n    addRenderLines(lines) {\n        this.renderLines.set(this.renderIDGenerator, lines);\n        return this.renderIDGenerator++;\n    }\n    addRenderPoints(points) {\n        this.renderPoints.set(this.renderIDGenerator, points);\n        return this.renderIDGenerator++;\n    }\n    getLines(id) {\n        return this.renderLines.get(id);\n    }\n    getMesh(id) {\n        return this.renderMeshes.get(id);\n    }\n    getPoints(id) {\n        return this.renderPoints.get(id);\n    }\n    getAllLines() {\n        return this.renderLines.values();\n    }\n    getAllMeshes() {\n        return this.renderMeshes.values();\n    }\n    getAllPoints() {\n        return this.renderPoints.values();\n    }\n    removeMesh(id) {\n        this.renderMeshes.delete(id);\n    }\n    removeLines(id) {\n        this.renderLines.delete(id);\n    }\n    tick() {\n        this.camera.tick();\n        for (const line of this.renderLines.values()) {\n            line.update();\n        }\n        for (const mesh of this.renderMeshes.values()) {\n            mesh.update();\n        }\n    }\n    getCamera() {\n        return this.camera;\n    }\n}\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBQ00sWUFBWTtRQUNqQixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVNLFVBQVUsQ0FBQyxFQUFZO1FBQzVCLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFDTSxXQUFXLENBQUMsRUFBWTtRQUM3QixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRU0sSUFBSTtRQUVULElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkIsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQzVDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNmO1FBQ0QsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQzdDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNmO0lBRUgsQ0FBQztJQUVNLFNBQVM7UUFDZCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsQ0FBQztDQUVGO0FBQUEsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3NjZW5lL3NjZW5lLnRzP2M5YmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCJcbmltcG9ydCB7IHZlYzMgfSBmcm9tIFwid2dwdS1tYXRyaXhcIlxuaW1wb3J0IHsgUmVuZGVyTWVzaCB9IGZyb20gXCIuLi9yZW5kZXIvcmVuZGVyTWVzaFwiXG5pbXBvcnQgeyBSZW5kZXJMaW5lcyB9IGZyb20gXCIuLi9yZW5kZXIvcmVuZGVyTGluZXNcIlxuaW1wb3J0IHsgQ29uc3RydWN0aW9uUGxhbmUgfSBmcm9tIFwiLi9jb25zdHJ1Y3Rpb25QbGFuZVwiXG5pbXBvcnQgeyBSZW5kZXJQb2ludHMgfSBmcm9tIFwiLi4vcmVuZGVyL3JlbmRlclBvaW50c1wiXG5pbXBvcnQgeyBTY2VuZUJvdW5kaW5nQm94SGVpcmFyY2h5IH0gZnJvbSBcIi4uL2dlb21ldHJ5L3NjZW5lQm91bmRpbmdCb3hIZWlyYXJjeVwiXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gXCIuLi9nZW9tZXRyeS9nZW9tZXRyeVwiXG5cbmV4cG9ydCB0eXBlIFJlbmRlcklEID0gbnVtYmVyOyAvLyBmb3IgZ3B1IG9iamVjdHNcbmV4cG9ydCB0eXBlIE9iamVjdElEID0gbnVtYmVyOyAvLyBmb3IgY3B1IG9iamVjdHNcblxuZXhwb3J0IGNsYXNzIFNjZW5lIHtcblxuICBwcml2YXRlIGNhbWVyYTogQ2FtZXJhO1xuICBwcml2YXRlIGNvbnN0cnVjdGlvblBsYW5lITogQ29uc3RydWN0aW9uUGxhbmU7XG4gIHByaXZhdGUgcmVuZGVyTGluZXM6IE1hcDxSZW5kZXJJRCwgUmVuZGVyTGluZXM+ID0gbmV3IE1hcDxSZW5kZXJJRCwgUmVuZGVyTGluZXM+KCk7XG4gIHByaXZhdGUgcmVuZGVyTWVzaGVzOiBNYXA8UmVuZGVySUQsIFJlbmRlck1lc2g+ID0gbmV3IE1hcDxSZW5kZXJJRCwgUmVuZGVyTWVzaD4oKTtcbiAgcHJpdmF0ZSByZW5kZXJQb2ludHM6IE1hcDxSZW5kZXJJRCwgUmVuZGVyUG9pbnRzPiA9IG5ldyBNYXA8UmVuZGVySUQsIFJlbmRlclBvaW50cz4oKTtcbiAgcHJpdmF0ZSByZW5kZXJJREdlbmVyYXRvcjogUmVuZGVySUQgPSAxO1xuICBwcml2YXRlIG9iamVjdElER2VuZXJhdG9yOiBPYmplY3RJRCA9IDE7XG4gIHByaXZhdGUgYm91bmRpbmdCb3hIZWlyYXJjaHk6IFNjZW5lQm91bmRpbmdCb3hIZWlyYXJjaHkgPSBuZXcgU2NlbmVCb3VuZGluZ0JveEhlaXJhcmNoeShbXSk7XG5cbiAgY29uc3RydWN0b3IoXG4gICkge1xuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKFxuICAgICAgdmVjMy5jcmVhdGUoMC4wLCAtMjAuMCwgMTAuMCksXHQvL3Bvc2l0aW9uXG4gICAgICB2ZWMzLmNyZWF0ZSgwLjAsIDAuMCwgMS4wKSxcdC8vdXBcbiAgICAgIHZlYzMuY3JlYXRlKDAuMCwgMS4wLCAwLjApLFx0Ly9mb3J3YXJkXG4gICAgICAxLjUsXHRcdC8vZm92eVxuICAgICAgPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuXCIpXG4gICAgKTtcblxuICB9XG5cbiAgcHVibGljIGdldENvbnN0cnVjdGlvblBsYW5lKCk6IENvbnN0cnVjdGlvblBsYW5lIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rpb25QbGFuZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb3VuZGluZ0JveEhlaXJhcmNoeSgpOiBTY2VuZUJvdW5kaW5nQm94SGVpcmFyY2h5IHtcbiAgICByZXR1cm4gdGhpcy5ib3VuZGluZ0JveEhlaXJhcmNoeTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuY29uc3RydWN0aW9uUGxhbmUgPSBuZXcgQ29uc3RydWN0aW9uUGxhbmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRHZW9tZXRyeShnZW86IEdlb21ldHJ5KTogT2JqZWN0SUQge1xuICAgIHRoaXMuYm91bmRpbmdCb3hIZWlyYXJjaHkuYWRkKGdlbyk7XG4gICAgdGhpcy5ib3VuZGluZ0JveEhlaXJhcmNoeS5wcmludCgpO1xuICAgIHJldHVybiB0aGlzLm9iamVjdElER2VuZXJhdG9yKys7XG4gIH1cblxuICBwdWJsaWMgYWRkUmVuZGVyTWVzaChtZXNoOiBSZW5kZXJNZXNoKTogUmVuZGVySUQge1xuICAgIHRoaXMucmVuZGVyTWVzaGVzLnNldCh0aGlzLnJlbmRlcklER2VuZXJhdG9yLCBtZXNoKTtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJJREdlbmVyYXRvcisrO1xuICB9XG5cbiAgcHVibGljIGFkZFJlbmRlckxpbmVzKGxpbmVzOiBSZW5kZXJMaW5lcyk6IFJlbmRlcklEIHtcbiAgICB0aGlzLnJlbmRlckxpbmVzLnNldCh0aGlzLnJlbmRlcklER2VuZXJhdG9yLCBsaW5lcyk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVySURHZW5lcmF0b3IrKztcbiAgfVxuXG4gIHB1YmxpYyBhZGRSZW5kZXJQb2ludHMocG9pbnRzOiBSZW5kZXJQb2ludHMpOiBSZW5kZXJJRCB7XG4gICAgdGhpcy5yZW5kZXJQb2ludHMuc2V0KHRoaXMucmVuZGVySURHZW5lcmF0b3IsIHBvaW50cyk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVySURHZW5lcmF0b3IrKztcbiAgfVxuXG4gIHB1YmxpYyBnZXRMaW5lcyhpZDogUmVuZGVySUQpOiBSZW5kZXJMaW5lcyB7XG4gICAgcmV0dXJuIDxSZW5kZXJMaW5lcz50aGlzLnJlbmRlckxpbmVzLmdldChpZCk7XG4gIH1cbiAgcHVibGljIGdldE1lc2goaWQ6IFJlbmRlcklEKTogUmVuZGVyTWVzaCB7XG4gICAgcmV0dXJuIDxSZW5kZXJNZXNoPnRoaXMucmVuZGVyTWVzaGVzLmdldChpZCk7XG4gIH1cbiAgcHVibGljIGdldFBvaW50cyhpZDogUmVuZGVySUQpOiBSZW5kZXJQb2ludHMge1xuICAgIHJldHVybiA8UmVuZGVyUG9pbnRzPnRoaXMucmVuZGVyUG9pbnRzLmdldChpZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QWxsTGluZXMoKTogSXRlcmFibGVJdGVyYXRvcjxSZW5kZXJMaW5lcz4ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlckxpbmVzLnZhbHVlcygpO1xuICB9XG4gIHB1YmxpYyBnZXRBbGxNZXNoZXMoKTogSXRlcmFibGVJdGVyYXRvcjxSZW5kZXJNZXNoPiB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyTWVzaGVzLnZhbHVlcygpO1xuICB9XG4gIHB1YmxpYyBnZXRBbGxQb2ludHMoKTogSXRlcmFibGVJdGVyYXRvcjxSZW5kZXJQb2ludHM+IHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJQb2ludHMudmFsdWVzKCk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlTWVzaChpZDogUmVuZGVySUQpIHtcbiAgICB0aGlzLnJlbmRlck1lc2hlcy5kZWxldGUoaWQpO1xuICB9XG4gIHB1YmxpYyByZW1vdmVMaW5lcyhpZDogUmVuZGVySUQpIHtcbiAgICB0aGlzLnJlbmRlckxpbmVzLmRlbGV0ZShpZCk7XG4gIH1cblxuICBwdWJsaWMgdGljaygpOiB2b2lkIHtcblxuICAgIHRoaXMuY2FtZXJhLnRpY2soKTtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgdGhpcy5yZW5kZXJMaW5lcy52YWx1ZXMoKSkge1xuICAgICAgbGluZS51cGRhdGUoKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtZXNoIG9mIHRoaXMucmVuZGVyTWVzaGVzLnZhbHVlcygpKSB7XG4gICAgICBtZXNoLnVwZGF0ZSgpO1xuICAgIH1cblxuICB9XG5cbiAgcHVibGljIGdldENhbWVyYSgpOiBDYW1lcmEge1xuICAgIHJldHVybiB0aGlzLmNhbWVyYTtcbiAgfVxuXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scene/scene.ts\n");

/***/ }),

/***/ "./src/stats.ts":
/*!**********************!*\
  !*** ./src/stats.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderStats: () => (/* binding */ RenderStats)\n/* harmony export */ });\nclass RenderStats {\n    constructor() {\n        // this.element = <HTMLDivElement>document.getElementById(\"stats\");\n        this.reset();\n    }\n    reset() {\n        this.renderTime = NaN;\n        this.frameTime = NaN;\n        this.sceneTime = NaN;\n        this.framesOver100ms = 0;\n        this.totalFrames = 0;\n        this.startTime = Date.now();\n    }\n    setRenderTime(renderTime) {\n        this.renderTime = renderTime;\n    }\n    setFrameTime(frameTime) {\n        this.totalFrames++;\n        if (frameTime > 0.1)\n            this.framesOver100ms++;\n        this.frameTime = frameTime;\n    }\n    setSceneTime(sceneTime) {\n        this.sceneTime = sceneTime;\n    }\n    setDrawCalls(count) {\n        this.drawCalls = count;\n    }\n    getInnerHTML() {\n        return \"<u>STATS:</u><br>\" +\n            \"<br>\" +\n            \"FPS: \" + (1.0 / this.frameTime).toFixed(3) + \"<br>\" +\n            \"Average FPS: \" + (1000.0 * this.totalFrames / (Date.now() - this.startTime)).toFixed(3) + \"<br>\" +\n            \"<br>\" +\n            \"Render Time: \" + this.renderTime.toFixed(3) + \"<br>\" +\n            \"Frame Time: \" + this.frameTime.toFixed(3) + \"<br>\" +\n            \"Scene Time: \" + this.sceneTime.toFixed(3) + \"<br>\" +\n            \"<br>\" +\n            \"Frames Over 100ms: \" + this.framesOver100ms.toString() + \"<br>\" +\n            \"<br>\" +\n            \"Draw Calls: \" + this.drawCalls.toString();\n    }\n}\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RhdHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUNPLE1BQU0sV0FBVztJQVd0QjtRQUVFLG1FQUFtRTtRQUNuRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRU0sS0FBSztRQUVWLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFFTSxhQUFhLENBQUMsVUFBa0I7UUFDckMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDL0IsQ0FBQztJQUVNLFlBQVksQ0FBQyxTQUFpQjtRQUNuQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxTQUFTLEdBQUcsR0FBRztZQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM3QixDQUFDO0lBRU0sWUFBWSxDQUFDLFNBQWlCO1FBQ25DLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7SUFFTSxZQUFZLENBQUMsS0FBYTtRQUMvQixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRU0sWUFBWTtRQUNqQixPQUFPLG1CQUFtQjtZQUN4QixNQUFNO1lBQ04sT0FBTyxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTTtZQUNwRCxlQUFlLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTTtZQUNqRyxNQUFNO1lBQ04sZUFBZSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU07WUFDckQsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU07WUFDbkQsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU07WUFDbkQsTUFBTTtZQUNOLHFCQUFxQixHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLEdBQUcsTUFBTTtZQUNoRSxNQUFNO1lBQ04sY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDL0MsQ0FBQztDQUdGO0FBQUEsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3N0YXRzLnRzPzAyNWQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY2xhc3MgUmVuZGVyU3RhdHMge1xuXG4gIC8vcHJpdmF0ZSBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcbiAgcHJpdmF0ZSByZW5kZXJUaW1lITogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lVGltZSE6IG51bWJlcjtcbiAgcHJpdmF0ZSBzY2VuZVRpbWUhOiBudW1iZXI7XG4gIHByaXZhdGUgZnJhbWVzT3ZlcjEwMG1zITogbnVtYmVyO1xuICBwcml2YXRlIHRvdGFsRnJhbWVzITogbnVtYmVyO1xuICBwcml2YXRlIHN0YXJ0VGltZSE6IG51bWJlcjtcbiAgcHJpdmF0ZSBkcmF3Q2FsbHMhOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAvLyB0aGlzLmVsZW1lbnQgPSA8SFRNTERpdkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0c1wiKTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XG5cbiAgICB0aGlzLnJlbmRlclRpbWUgPSBOYU47XG4gICAgdGhpcy5mcmFtZVRpbWUgPSBOYU47XG4gICAgdGhpcy5zY2VuZVRpbWUgPSBOYU47XG4gICAgdGhpcy5mcmFtZXNPdmVyMTAwbXMgPSAwO1xuICAgIHRoaXMudG90YWxGcmFtZXMgPSAwO1xuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRSZW5kZXJUaW1lKHJlbmRlclRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucmVuZGVyVGltZSA9IHJlbmRlclRpbWU7XG4gIH1cblxuICBwdWJsaWMgc2V0RnJhbWVUaW1lKGZyYW1lVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50b3RhbEZyYW1lcysrO1xuICAgIGlmIChmcmFtZVRpbWUgPiAwLjEpIHRoaXMuZnJhbWVzT3ZlcjEwMG1zKys7XG4gICAgdGhpcy5mcmFtZVRpbWUgPSBmcmFtZVRpbWU7XG4gIH1cblxuICBwdWJsaWMgc2V0U2NlbmVUaW1lKHNjZW5lVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zY2VuZVRpbWUgPSBzY2VuZVRpbWU7XG4gIH1cblxuICBwdWJsaWMgc2V0RHJhd0NhbGxzKGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmRyYXdDYWxscyA9IGNvdW50O1xuICB9XG5cbiAgcHVibGljIGdldElubmVySFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjx1PlNUQVRTOjwvdT48YnI+XCIgK1xuICAgICAgXCI8YnI+XCIgK1xuICAgICAgXCJGUFM6IFwiICsgKDEuMCAvIHRoaXMuZnJhbWVUaW1lKS50b0ZpeGVkKDMpICsgXCI8YnI+XCIgK1xuICAgICAgXCJBdmVyYWdlIEZQUzogXCIgKyAoMTAwMC4wICogdGhpcy50b3RhbEZyYW1lcyAvIChEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWUpKS50b0ZpeGVkKDMpICsgXCI8YnI+XCIgK1xuICAgICAgXCI8YnI+XCIgK1xuICAgICAgXCJSZW5kZXIgVGltZTogXCIgKyB0aGlzLnJlbmRlclRpbWUudG9GaXhlZCgzKSArIFwiPGJyPlwiICtcbiAgICAgIFwiRnJhbWUgVGltZTogXCIgKyB0aGlzLmZyYW1lVGltZS50b0ZpeGVkKDMpICsgXCI8YnI+XCIgK1xuICAgICAgXCJTY2VuZSBUaW1lOiBcIiArIHRoaXMuc2NlbmVUaW1lLnRvRml4ZWQoMykgKyBcIjxicj5cIiArXG4gICAgICBcIjxicj5cIiArXG4gICAgICBcIkZyYW1lcyBPdmVyIDEwMG1zOiBcIiArIHRoaXMuZnJhbWVzT3ZlcjEwMG1zLnRvU3RyaW5nKCkgKyBcIjxicj5cIiArXG4gICAgICBcIjxicj5cIiArXG4gICAgICBcIkRyYXcgQ2FsbHM6IFwiICsgdGhpcy5kcmF3Q2FsbHMudG9TdHJpbmcoKTtcbiAgfVxuXG5cbn07XG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/stats.ts\n");

/***/ }),

/***/ "./src/tests/testScene1.ts":
/*!*********************************!*\
  !*** ./src/tests/testScene1.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addTestScene1: () => (/* binding */ addTestScene1)\n/* harmony export */ });\n/* harmony import */ var wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wgpu-matrix */ \"./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\");\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cad */ \"./src/cad.ts\");\n/* harmony import */ var _geometry_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/mesh */ \"./src/geometry/mesh.ts\");\n/* harmony import */ var _geometry_nurbs_curve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/nurbs/curve */ \"./src/geometry/nurbs/curve.ts\");\n\n\n\n\nconst addTestScene1 = function () {\n    const mesh = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addGeometry(new _geometry_mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh([wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(-5, -5, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(5, -5, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(5, 5, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(-5, 5, 1)], [wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0, 0, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0, 0, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0, 0, 1), wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.create(0, 0, 1)], [0, 1, 2, 2, 3, 0]));\n    const curve = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getScene().addGeometry(new _geometry_nurbs_curve__WEBPACK_IMPORTED_MODULE_2__.Curve([\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(-50, -50, 0, 1),\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(-50, 50, 0, 1),\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(50, 50, 0, 1),\n        wgpu_matrix__WEBPACK_IMPORTED_MODULE_3__.vec4.create(50, -50, 0, 1)\n    ], 2));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVzdHMvdGVzdFNjZW5lMS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3QztBQUNQO0FBQ007QUFDUztBQUd6QyxNQUFNLGFBQWEsR0FBRztJQUUzQixNQUFNLElBQUksR0FBYSwwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFdBQVcsQ0FDcEQsSUFBSSxnREFBSSxDQUNOLENBQUMsNkNBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsNkNBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLDZDQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsNkNBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzVGLENBQUMsNkNBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSw2Q0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLDZDQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsNkNBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUN4RixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQ25CLENBQ0YsQ0FBQztJQUNGLE1BQU0sS0FBSyxHQUFhLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxDQUNyRCxJQUFJLHdEQUFLLENBQUM7UUFDUiw2Q0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLDZDQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFCLDZDQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6Qiw2Q0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUMzQixFQUNDLENBQUMsQ0FDRixDQUNGLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvdGVzdHMvdGVzdFNjZW5lMS50cz81MTE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlYzMsIHZlYzQgfSBmcm9tIFwid2dwdS1tYXRyaXhcIlxuaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vY2FkXCJcbmltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vZ2VvbWV0cnkvbWVzaFwiXG5pbXBvcnQgeyBDdXJ2ZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9udXJicy9jdXJ2ZVwiO1xuaW1wb3J0IHsgT2JqZWN0SUQgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcblxuZXhwb3J0IGNvbnN0IGFkZFRlc3RTY2VuZTEgPSBmdW5jdGlvbigpIHtcblxuICBjb25zdCBtZXNoOiBPYmplY3RJRCA9IElOU1RBTkNFLmdldFNjZW5lKCkuYWRkR2VvbWV0cnkoXG4gICAgbmV3IE1lc2goXG4gICAgICBbdmVjMy5jcmVhdGUoLTUsIC01LCAxKSwgdmVjMy5jcmVhdGUoNSwgLTUsIDEpLCB2ZWMzLmNyZWF0ZSg1LCA1LCAxKSwgdmVjMy5jcmVhdGUoLTUsIDUsIDEpXSxcbiAgICAgIFt2ZWMzLmNyZWF0ZSgwLCAwLCAxKSwgdmVjMy5jcmVhdGUoMCwgMCwgMSksIHZlYzMuY3JlYXRlKDAsIDAsIDEpLCB2ZWMzLmNyZWF0ZSgwLCAwLCAxKV0sXG4gICAgICBbMCwgMSwgMiwgMiwgMywgMF1cbiAgICApXG4gICk7XG4gIGNvbnN0IGN1cnZlOiBPYmplY3RJRCA9IElOU1RBTkNFLmdldFNjZW5lKCkuYWRkR2VvbWV0cnkoXG4gICAgbmV3IEN1cnZlKFtcbiAgICAgIHZlYzQuY3JlYXRlKC01MCwgLTUwLCAwLCAxKSxcbiAgICAgIHZlYzQuY3JlYXRlKC01MCwgNTAsIDAsIDEpLFxuICAgICAgdmVjNC5jcmVhdGUoNTAsIDUwLCAwLCAxKSxcbiAgICAgIHZlYzQuY3JlYXRlKDUwLCAtNTAsIDAsIDEpXG4gICAgXSxcbiAgICAgIDJcbiAgICApXG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/tests/testScene1.ts\n");

/***/ }),

/***/ "./src/utils/timer.ts":
/*!****************************!*\
  !*** ./src/utils/timer.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Timer: () => (/* binding */ Timer)\n/* harmony export */ });\nclass Timer {\n    constructor() {\n        this.startTime = 0;\n        this.reset();\n    }\n    reset() {\n        this.startTime = Date.now();\n    }\n    logTime() {\n        console.log((Date.now() - this.startTime) / 1000.0);\n    }\n    getTime() {\n        return (Date.now() - this.startTime) / 1000.0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvdGltZXIudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUdPLE1BQU0sS0FBSztJQUlkO1FBRlEsY0FBUyxHQUFXLENBQUMsQ0FBQztRQUcxQixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVNLEtBQUs7UUFDUixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRU0sT0FBTztRQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFTSxPQUFPO1FBQ1YsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsTUFBTSxDQUFDO0lBQ2xELENBQUM7Q0FFSiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3V0aWxzL3RpbWVyLnRzPzI4ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cblxuZXhwb3J0IGNsYXNzIFRpbWVyIHtcblxuICAgIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9nVGltZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2coKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwLjApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaW1lKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDAuMDtcbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/timer.ts\n");

/***/ }),

/***/ "./src/window/window.ts":
/*!******************************!*\
  !*** ./src/window/window.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CADWindow: () => (/* binding */ CADWindow)\n/* harmony export */ });\nclass CADWindow {\n    constructor(name, start) {\n        this.element = document.createElement(\"div\");\n        this.element.id = name;\n        this.element.className = \"floating-window\";\n        this.start = start;\n        this.end = start;\n        this.updateSize();\n        document.body.appendChild(this.element);\n    }\n    updateEnd(end) {\n        this.end = end;\n        this.updateSize();\n    }\n    updateSize() {\n        const left = Math.min(this.start[0], this.end[0]);\n        const top = Math.min(this.start[1], this.end[1]);\n        const width = Math.abs(this.start[0] - this.end[0]);\n        const height = Math.abs(this.start[1] - this.end[1]);\n        console.log(left, top, width, height);\n        this.element.setAttribute(\"style\", `\n      left:${left}px;\n      top:${top}px;\n      width:${width}px;\n      height:${height}px;`);\n    }\n    destroy() {\n        document.body.removeChild(this.element);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvdy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBZSxTQUFTO0lBTTdCLFlBQVksSUFBWSxFQUFFLEtBQXVCO1FBQy9DLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsaUJBQWlCLENBQUM7UUFDM0MsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7UUFDakIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQXFCO1FBQ3BDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFFTyxVQUFVO1FBQ2hCLE1BQU0sSUFBSSxHQUFXLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUQsTUFBTSxHQUFHLEdBQVcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RCxNQUFNLEtBQUssR0FBVyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELE1BQU0sTUFBTSxHQUFXLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUU7YUFDMUIsSUFBSTtZQUNMLEdBQUc7Y0FDRCxLQUFLO2VBQ0osTUFBTSxLQUFLLENBQ3JCLENBQUM7SUFDSixDQUFDO0lBRU0sT0FBTztRQUNaLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxDQUFDO0NBS0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy93aW5kb3cvd2luZG93LnRzP2Q3Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGFic3RyYWN0IGNsYXNzIENBRFdpbmRvdyB7XG5cbiAgcHJvdGVjdGVkIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuICBwcml2YXRlIHN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdO1xuICBwcml2YXRlIGVuZDogW251bWJlciwgbnVtYmVyXTtcblxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuaWQgPSBuYW1lO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcImZsb2F0aW5nLXdpbmRvd1wiO1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLmVuZCA9IHN0YXJ0O1xuICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVFbmQoZW5kOiBbbnVtYmVyLCBudW1iZXJdKTogdm9pZCB7XG4gICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgdGhpcy51cGRhdGVTaXplKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVNpemUoKTogdm9pZCB7XG4gICAgY29uc3QgbGVmdDogbnVtYmVyID0gTWF0aC5taW4odGhpcy5zdGFydFswXSwgdGhpcy5lbmRbMF0pO1xuICAgIGNvbnN0IHRvcDogbnVtYmVyID0gTWF0aC5taW4odGhpcy5zdGFydFsxXSwgdGhpcy5lbmRbMV0pO1xuICAgIGNvbnN0IHdpZHRoOiBudW1iZXIgPSBNYXRoLmFicyh0aGlzLnN0YXJ0WzBdIC0gdGhpcy5lbmRbMF0pO1xuICAgIGNvbnN0IGhlaWdodDogbnVtYmVyID0gTWF0aC5hYnModGhpcy5zdGFydFsxXSAtIHRoaXMuZW5kWzFdKTtcbiAgICBjb25zb2xlLmxvZyhsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgXG4gICAgICBsZWZ0OiR7bGVmdH1weDtcbiAgICAgIHRvcDoke3RvcH1weDtcbiAgICAgIHdpZHRoOiR7d2lkdGh9cHg7XG4gICAgICBoZWlnaHQ6JHtoZWlnaHR9cHg7YFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCk7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgcG9wdWxhdGUoKTogdm9pZDtcbiAgcHVibGljIGFic3RyYWN0IHRpY2soKTogdm9pZDtcblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/window/window.ts\n");

/***/ }),

/***/ "./src/window/windowManager.ts":
/*!*************************************!*\
  !*** ./src/window/windowManager.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WINDOW_NAMES: () => (/* binding */ WINDOW_NAMES),\n/* harmony export */   WindowManager: () => (/* binding */ WindowManager)\n/* harmony export */ });\n/* harmony import */ var _windows_logWindow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./windows/logWindow */ \"./src/window/windows/logWindow.ts\");\n/* harmony import */ var _windows_materialsWindow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./windows/materialsWindow */ \"./src/window/windows/materialsWindow.ts\");\n/* harmony import */ var _windows_sceneWindow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./windows/sceneWindow */ \"./src/window/windows/sceneWindow.ts\");\n/* harmony import */ var _windows_snapsWindow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./windows/snapsWindow */ \"./src/window/windows/snapsWindow.ts\");\n/* harmony import */ var _windows_statsWindow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./windows/statsWindow */ \"./src/window/windows/statsWindow.ts\");\n\n\n\n\n\nconst WINDOW_NAMES = new Map();\nWINDOW_NAMES.set(1, \"stats\");\nWINDOW_NAMES.set(2, \"log\");\nWINDOW_NAMES.set(3, \"materials\");\nWINDOW_NAMES.set(4, \"scene\");\nWINDOW_NAMES.set(5, \"snaps\");\nclass WindowManager {\n    constructor() {\n        this.windows = new Map();\n    }\n    getWindows() {\n        return this.windows;\n    }\n    addWindow(windowName, start) {\n        this.removeWindow(windowName);\n        switch (windowName) {\n            case \"stats\":\n                this.windows.set(\"stats\", new _windows_statsWindow__WEBPACK_IMPORTED_MODULE_4__.StatsWindow(windowName, start));\n                break;\n            case \"log\":\n                this.windows.set(\"log\", new _windows_logWindow__WEBPACK_IMPORTED_MODULE_0__.LogWindow(windowName, start));\n                break;\n            case \"materials\":\n                this.windows.set(\"materials\", new _windows_materialsWindow__WEBPACK_IMPORTED_MODULE_1__.MaterialsWindow(windowName, start));\n                break;\n            case \"scene\":\n                this.windows.set(\"scene\", new _windows_sceneWindow__WEBPACK_IMPORTED_MODULE_2__.SceneWindow(windowName, start));\n                break;\n            case \"snaps\":\n                this.windows.set(\"snaps\", new _windows_snapsWindow__WEBPACK_IMPORTED_MODULE_3__.SnapsWindow(windowName, start));\n                break;\n            default:\n                throw new Error(\"not implemented\");\n        }\n    }\n    removeWindow(windowName) {\n        var _a;\n        (_a = this.windows.get(windowName)) === null || _a === void 0 ? void 0 : _a.destroy();\n        this.windows.delete(windowName);\n    }\n    tick() {\n        for (let window of this.windows.values()) {\n            window.tick();\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvd01hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNnRDtBQUNZO0FBQ1I7QUFDQTtBQUNBO0FBRTdDLE1BQU0sWUFBWSxHQUF3QixJQUFJLEdBQUcsRUFBa0IsQ0FBQztBQUMzRSxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM3QixZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzQixZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNqQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM3QixZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUV0QixNQUFNLGFBQWE7SUFJeEI7UUFDRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksR0FBRyxFQUFxQixDQUFDO0lBQzlDLENBQUM7SUFFTSxVQUFVO1FBQ2YsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFTSxTQUFTLENBQUMsVUFBa0IsRUFBRSxLQUF1QjtRQUMxRCxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlCLFFBQVEsVUFBVSxFQUFFO1lBQ2xCLEtBQUssT0FBTztnQkFDVixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSw2REFBVyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUM5RCxNQUFNO1lBQ1IsS0FBSyxLQUFLO2dCQUNSLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLHlEQUFTLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzFELE1BQU07WUFDUixLQUFLLFdBQVc7Z0JBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLElBQUkscUVBQWUsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDdEUsTUFBTTtZQUNSLEtBQUssT0FBTztnQkFDVixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSw2REFBVyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUM5RCxNQUFNO1lBQ1IsS0FBSyxPQUFPO2dCQUNWLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLDZEQUFXLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzlELE1BQU07WUFDUjtnQkFDRSxNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7U0FDdEM7SUFDSCxDQUFDO0lBRU0sWUFBWSxDQUFDLFVBQWtCOztRQUNwQyxVQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsMENBQUUsT0FBTyxFQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVNLElBQUk7UUFDVCxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDeEMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2Y7SUFDSCxDQUFDO0NBRUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy93aW5kb3cvd2luZG93TWFuYWdlci50cz80YTM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENBRFdpbmRvdyB9IGZyb20gXCIuL3dpbmRvd1wiO1xuaW1wb3J0IHsgTG9nV2luZG93IH0gZnJvbSBcIi4vd2luZG93cy9sb2dXaW5kb3dcIjtcbmltcG9ydCB7IE1hdGVyaWFsc1dpbmRvdyB9IGZyb20gXCIuL3dpbmRvd3MvbWF0ZXJpYWxzV2luZG93XCI7XG5pbXBvcnQgeyBTY2VuZVdpbmRvdyB9IGZyb20gXCIuL3dpbmRvd3Mvc2NlbmVXaW5kb3dcIjtcbmltcG9ydCB7IFNuYXBzV2luZG93IH0gZnJvbSBcIi4vd2luZG93cy9zbmFwc1dpbmRvd1wiO1xuaW1wb3J0IHsgU3RhdHNXaW5kb3cgfSBmcm9tIFwiLi93aW5kb3dzL3N0YXRzV2luZG93XCI7XG5cbmV4cG9ydCBjb25zdCBXSU5ET1dfTkFNRVM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwPG51bWJlciwgc3RyaW5nPigpO1xuV0lORE9XX05BTUVTLnNldCgxLCBcInN0YXRzXCIpO1xuV0lORE9XX05BTUVTLnNldCgyLCBcImxvZ1wiKTtcbldJTkRPV19OQU1FUy5zZXQoMywgXCJtYXRlcmlhbHNcIik7XG5XSU5ET1dfTkFNRVMuc2V0KDQsIFwic2NlbmVcIik7XG5XSU5ET1dfTkFNRVMuc2V0KDUsIFwic25hcHNcIik7XG5cbmV4cG9ydCBjbGFzcyBXaW5kb3dNYW5hZ2VyIHtcblxuICBwcml2YXRlIHdpbmRvd3M6IE1hcDxzdHJpbmcsIENBRFdpbmRvdz47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy53aW5kb3dzID0gbmV3IE1hcDxzdHJpbmcsIENBRFdpbmRvdz4oKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRXaW5kb3dzKCk6IE1hcDxzdHJpbmcsIENBRFdpbmRvdz4ge1xuICAgIHJldHVybiB0aGlzLndpbmRvd3M7XG4gIH1cblxuICBwdWJsaWMgYWRkV2luZG93KHdpbmRvd05hbWU6IHN0cmluZywgc3RhcnQ6IFtudW1iZXIsIG51bWJlcl0pIHtcbiAgICB0aGlzLnJlbW92ZVdpbmRvdyh3aW5kb3dOYW1lKTtcbiAgICBzd2l0Y2ggKHdpbmRvd05hbWUpIHtcbiAgICAgIGNhc2UgXCJzdGF0c1wiOlxuICAgICAgICB0aGlzLndpbmRvd3Muc2V0KFwic3RhdHNcIiwgbmV3IFN0YXRzV2luZG93KHdpbmRvd05hbWUsIHN0YXJ0KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxvZ1wiOlxuICAgICAgICB0aGlzLndpbmRvd3Muc2V0KFwibG9nXCIsIG5ldyBMb2dXaW5kb3cod2luZG93TmFtZSwgc3RhcnQpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibWF0ZXJpYWxzXCI6XG4gICAgICAgIHRoaXMud2luZG93cy5zZXQoXCJtYXRlcmlhbHNcIiwgbmV3IE1hdGVyaWFsc1dpbmRvdyh3aW5kb3dOYW1lLCBzdGFydCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzY2VuZVwiOlxuICAgICAgICB0aGlzLndpbmRvd3Muc2V0KFwic2NlbmVcIiwgbmV3IFNjZW5lV2luZG93KHdpbmRvd05hbWUsIHN0YXJ0KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNuYXBzXCI6XG4gICAgICAgIHRoaXMud2luZG93cy5zZXQoXCJzbmFwc1wiLCBuZXcgU25hcHNXaW5kb3cod2luZG93TmFtZSwgc3RhcnQpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZVdpbmRvdyh3aW5kb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLndpbmRvd3MuZ2V0KHdpbmRvd05hbWUpPy5kZXN0cm95KCk7XG4gICAgdGhpcy53aW5kb3dzLmRlbGV0ZSh3aW5kb3dOYW1lKTtcbiAgfVxuXG4gIHB1YmxpYyB0aWNrKCk6IHZvaWQge1xuICAgIGZvciAobGV0IHdpbmRvdyBvZiB0aGlzLndpbmRvd3MudmFsdWVzKCkpIHtcbiAgICAgIHdpbmRvdy50aWNrKCk7XG4gICAgfVxuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/window/windowManager.ts\n");

/***/ }),

/***/ "./src/window/windows/logWindow.ts":
/*!*****************************************!*\
  !*** ./src/window/windows/logWindow.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogWindow: () => (/* binding */ LogWindow)\n/* harmony export */ });\n/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../window */ \"./src/window/window.ts\");\n\nclass LogWindow extends _window__WEBPACK_IMPORTED_MODULE_0__.CADWindow {\n    populate() {\n        this.element.innerText = \"Log Window\";\n    }\n    tick() {\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvd3MvbG9nV2luZG93LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDO0FBRS9CLE1BQU0sU0FBVSxTQUFRLDhDQUFTO0lBRS9CLFFBQVE7UUFDYixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUM7SUFDeEMsQ0FBQztJQUVNLElBQUk7SUFFWCxDQUFDO0NBRUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy93aW5kb3cvd2luZG93cy9sb2dXaW5kb3cudHM/NzVhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDQURXaW5kb3cgfSBmcm9tIFwiLi4vd2luZG93XCI7XG5cbmV4cG9ydCBjbGFzcyBMb2dXaW5kb3cgZXh0ZW5kcyBDQURXaW5kb3cge1xuXG4gIHB1YmxpYyBwb3B1bGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmVsZW1lbnQuaW5uZXJUZXh0ID0gXCJMb2cgV2luZG93XCI7XG4gIH1cblxuICBwdWJsaWMgdGljaygpOiB2b2lkIHtcblxuICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/window/windows/logWindow.ts\n");

/***/ }),

/***/ "./src/window/windows/materialsWindow.ts":
/*!***********************************************!*\
  !*** ./src/window/windows/materialsWindow.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MaterialsWindow: () => (/* binding */ MaterialsWindow)\n/* harmony export */ });\n/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../window */ \"./src/window/window.ts\");\n\nclass MaterialsWindow extends _window__WEBPACK_IMPORTED_MODULE_0__.CADWindow {\n    populate() {\n        this.element.innerText = \"Materials Window\";\n    }\n    tick() {\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvd3MvbWF0ZXJpYWxzV2luZG93LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBRzlCLE1BQU0sZUFBZ0IsU0FBUSw4Q0FBUztJQUVyQyxRQUFRO1FBQ2IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsa0JBQWtCLENBQUM7SUFDOUMsQ0FBQztJQUVNLElBQUk7SUFFWCxDQUFDO0NBRUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL3NyYy93aW5kb3cvd2luZG93cy9tYXRlcmlhbHNXaW5kb3cudHM/MzQ3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDQURXaW5kb3cgfSBmcm9tIFwiLi4vd2luZG93XCJcblxuXG5leHBvcnQgY2xhc3MgTWF0ZXJpYWxzV2luZG93IGV4dGVuZHMgQ0FEV2luZG93IHtcblxuICBwdWJsaWMgcG9wdWxhdGUoKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50LmlubmVyVGV4dCA9IFwiTWF0ZXJpYWxzIFdpbmRvd1wiO1xuICB9XG5cbiAgcHVibGljIHRpY2soKTogdm9pZCB7XG5cbiAgfVxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/window/windows/materialsWindow.ts\n");

/***/ }),

/***/ "./src/window/windows/sceneWindow.ts":
/*!*******************************************!*\
  !*** ./src/window/windows/sceneWindow.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SceneWindow: () => (/* binding */ SceneWindow)\n/* harmony export */ });\n/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../window */ \"./src/window/window.ts\");\n\nclass SceneWindow extends _window__WEBPACK_IMPORTED_MODULE_0__.CADWindow {\n    populate() {\n        this.element.innerText = \"Scene Window\";\n    }\n    tick() {\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvd3Mvc2NlbmVXaW5kb3cudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFFL0IsTUFBTSxXQUFZLFNBQVEsOENBQVM7SUFFakMsUUFBUTtRQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sSUFBSTtJQUVYLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3dpbmRvdy93aW5kb3dzL3NjZW5lV2luZG93LnRzPzY5N2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ0FEV2luZG93IH0gZnJvbSBcIi4uL3dpbmRvd1wiO1xuXG5leHBvcnQgY2xhc3MgU2NlbmVXaW5kb3cgZXh0ZW5kcyBDQURXaW5kb3cge1xuXG4gIHB1YmxpYyBwb3B1bGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmVsZW1lbnQuaW5uZXJUZXh0ID0gXCJTY2VuZSBXaW5kb3dcIjtcbiAgfVxuXG4gIHB1YmxpYyB0aWNrKCk6IHZvaWQge1xuXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/window/windows/sceneWindow.ts\n");

/***/ }),

/***/ "./src/window/windows/snapsWindow.ts":
/*!*******************************************!*\
  !*** ./src/window/windows/snapsWindow.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SnapsWindow: () => (/* binding */ SnapsWindow)\n/* harmony export */ });\n/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../window */ \"./src/window/window.ts\");\n\nclass SnapsWindow extends _window__WEBPACK_IMPORTED_MODULE_0__.CADWindow {\n    populate() {\n        this.element.innerText = \"Snaps Window\";\n    }\n    tick() {\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvd3Mvc25hcHNXaW5kb3cudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFFL0IsTUFBTSxXQUFZLFNBQVEsOENBQVM7SUFHakMsUUFBUTtRQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sSUFBSTtJQUVYLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3dpbmRvdy93aW5kb3dzL3NuYXBzV2luZG93LnRzPzk5MmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ0FEV2luZG93IH0gZnJvbSBcIi4uL3dpbmRvd1wiO1xuXG5leHBvcnQgY2xhc3MgU25hcHNXaW5kb3cgZXh0ZW5kcyBDQURXaW5kb3cge1xuXG5cbiAgcHVibGljIHBvcHVsYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuZWxlbWVudC5pbm5lclRleHQgPSBcIlNuYXBzIFdpbmRvd1wiO1xuICB9XG5cbiAgcHVibGljIHRpY2soKTogdm9pZCB7XG5cbiAgfVxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/window/windows/snapsWindow.ts\n");

/***/ }),

/***/ "./src/window/windows/statsWindow.ts":
/*!*******************************************!*\
  !*** ./src/window/windows/statsWindow.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatsWindow: () => (/* binding */ StatsWindow)\n/* harmony export */ });\n/* harmony import */ var _cad__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cad */ \"./src/cad.ts\");\n/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../window */ \"./src/window/window.ts\");\n\n\nclass StatsWindow extends _window__WEBPACK_IMPORTED_MODULE_1__.CADWindow {\n    populate() {\n        this.element.innerHTML = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getStats().getInnerHTML();\n    }\n    tick() {\n        this.element.innerHTML = _cad__WEBPACK_IMPORTED_MODULE_0__.INSTANCE.getStats().getInnerHTML();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2luZG93L3dpbmRvd3Mvc3RhdHNXaW5kb3cudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFDO0FBQ0M7QUFFL0IsTUFBTSxXQUFZLFNBQVEsOENBQVM7SUFFakMsUUFBUTtRQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLDBDQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDOUQsQ0FBQztJQUVNLElBQUk7UUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRywwQ0FBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQzlELENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3dpbmRvdy93aW5kb3dzL3N0YXRzV2luZG93LnRzPzUyNGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSU5TVEFOQ0UgfSBmcm9tIFwiLi4vLi4vY2FkXCI7XG5pbXBvcnQgeyBDQURXaW5kb3cgfSBmcm9tIFwiLi4vd2luZG93XCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0c1dpbmRvdyBleHRlbmRzIENBRFdpbmRvdyB7XG5cbiAgcHVibGljIHBvcHVsYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBJTlNUQU5DRS5nZXRTdGF0cygpLmdldElubmVySFRNTCgpO1xuICB9XG5cbiAgcHVibGljIHRpY2soKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IElOU1RBTkNFLmdldFN0YXRzKCkuZ2V0SW5uZXJIVE1MKCk7XG4gIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/window/windows/statsWindow.ts\n");

/***/ }),

/***/ "./src/render/shaders/lineShader.wgsl":
/*!********************************************!*\
  !*** ./src/render/shaders/lineShader.wgsl ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"\\nstruct VertexOutput {\\n\\t@builtin(position) position : vec4<f32>,\\n}\\n\\n@group(0) @binding(0) var<uniform> viewProj : mat4x4<f32>;\\n@group(0) @binding(1) var<uniform> color : vec4<f32>;\\n\\n@vertex\\nfn vertexMain(\\n\\t@location(0) position : vec4<f32>,\\n\\t) -> VertexOutput\\n{\\n\\tvar output: VertexOutput;\\n\\toutput.position = viewProj * position.xzyw;\\n\\treturn output;\\n}\\n\\nstruct FragOutputs {\\n    @builtin(frag_depth) depth: f32,\\n    @location(0) color: vec4f,\\n  }\\n\\n  struct FragInputs {\\n      @builtin(position) position: vec4<f32>,\\n    }\\n\\n@fragment\\nfn fragmentMain(input: FragInputs) -> FragOutputs {\\n  var output: FragOutputs;\\n  output.color = color;\\n  output.depth = input.position.z * 0.9999999;\\n  return output;\\n}\\n\\n\\n\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3NoYWRlcnMvbGluZVNoYWRlci53Z3NsIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSx3QkFBd0IsK0NBQStDLDhEQUE4RCx1REFBdUQseUZBQXlGLDZCQUE2QiwrQ0FBK0Msa0JBQWtCLEdBQUcsd0JBQXdCLDJFQUEyRSx5QkFBeUIsc0RBQXNELGtFQUFrRSw0QkFBNEIseUJBQXlCLGdEQUFnRCxrQkFBa0IsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3JlbmRlci9zaGFkZXJzL2xpbmVTaGFkZXIud2dzbD8yNTRjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiXFxuc3RydWN0IFZlcnRleE91dHB1dCB7XFxuXFx0QGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uIDogdmVjNDxmMzI+LFxcbn1cXG5cXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IHZpZXdQcm9qIDogbWF0NHg0PGYzMj47XFxuQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhcjx1bmlmb3JtPiBjb2xvciA6IHZlYzQ8ZjMyPjtcXG5cXG5AdmVydGV4XFxuZm4gdmVydGV4TWFpbihcXG5cXHRAbG9jYXRpb24oMCkgcG9zaXRpb24gOiB2ZWM0PGYzMj4sXFxuXFx0KSAtPiBWZXJ0ZXhPdXRwdXRcXG57XFxuXFx0dmFyIG91dHB1dDogVmVydGV4T3V0cHV0O1xcblxcdG91dHB1dC5wb3NpdGlvbiA9IHZpZXdQcm9qICogcG9zaXRpb24ueHp5dztcXG5cXHRyZXR1cm4gb3V0cHV0O1xcbn1cXG5cXG5zdHJ1Y3QgRnJhZ091dHB1dHMge1xcbiAgICBAYnVpbHRpbihmcmFnX2RlcHRoKSBkZXB0aDogZjMyLFxcbiAgICBAbG9jYXRpb24oMCkgY29sb3I6IHZlYzRmLFxcbiAgfVxcblxcbiAgc3RydWN0IEZyYWdJbnB1dHMge1xcbiAgICAgIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbiAgICB9XFxuXFxuQGZyYWdtZW50XFxuZm4gZnJhZ21lbnRNYWluKGlucHV0OiBGcmFnSW5wdXRzKSAtPiBGcmFnT3V0cHV0cyB7XFxuICB2YXIgb3V0cHV0OiBGcmFnT3V0cHV0cztcXG4gIG91dHB1dC5jb2xvciA9IGNvbG9yO1xcbiAgb3V0cHV0LmRlcHRoID0gaW5wdXQucG9zaXRpb24ueiAqIDAuOTk5OTk5OTtcXG4gIHJldHVybiBvdXRwdXQ7XFxufVxcblxcblxcblxcblwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/shaders/lineShader.wgsl\n");

/***/ }),

/***/ "./src/render/shaders/pointShader.wgsl":
/*!*********************************************!*\
  !*** ./src/render/shaders/pointShader.wgsl ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"\\nstruct VertexOutput {\\n\\t@builtin(position) position : vec4<f32>,\\n}\\n\\n@group(0) @binding(0) var<uniform> viewProj : mat4x4<f32>;\\n@group(0) @binding(1) var<uniform> color : vec4<f32>;\\n\\n@vertex\\nfn vertexMain(\\n\\t@location(0) position : vec4<f32>,\\n\\t) -> VertexOutput\\n{\\n\\tvar output: VertexOutput;\\n\\toutput.position = viewProj * position.xzyw;\\n\\treturn output;\\n}\\n\\n\\n@fragment\\nfn fragmentMain() -> @location(0) vec4f {\\n    return color;\\n}\\n\\n\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3NoYWRlcnMvcG9pbnRTaGFkZXIud2dzbCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsd0JBQXdCLCtDQUErQyw4REFBOEQsdURBQXVELHlGQUF5Riw2QkFBNkIsK0NBQStDLGtCQUFrQixHQUFHLDBEQUEwRCxtQkFBbUIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL25wbS10ZXN0Ly4vc3JjL3JlbmRlci9zaGFkZXJzL3BvaW50U2hhZGVyLndnc2w/NjBkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIlxcbnN0cnVjdCBWZXJ0ZXhPdXRwdXQge1xcblxcdEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbiA6IHZlYzQ8ZjMyPixcXG59XFxuXFxuQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB2aWV3UHJvaiA6IG1hdDR4NDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygxKSB2YXI8dW5pZm9ybT4gY29sb3IgOiB2ZWM0PGYzMj47XFxuXFxuQHZlcnRleFxcbmZuIHZlcnRleE1haW4oXFxuXFx0QGxvY2F0aW9uKDApIHBvc2l0aW9uIDogdmVjNDxmMzI+LFxcblxcdCkgLT4gVmVydGV4T3V0cHV0XFxue1xcblxcdHZhciBvdXRwdXQ6IFZlcnRleE91dHB1dDtcXG5cXHRvdXRwdXQucG9zaXRpb24gPSB2aWV3UHJvaiAqIHBvc2l0aW9uLnh6eXc7XFxuXFx0cmV0dXJuIG91dHB1dDtcXG59XFxuXFxuXFxuQGZyYWdtZW50XFxuZm4gZnJhZ21lbnRNYWluKCkgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG5cXG5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/shaders/pointShader.wgsl\n");

/***/ }),

/***/ "./src/render/shaders/triangleShader.wgsl":
/*!************************************************!*\
  !*** ./src/render/shaders/triangleShader.wgsl ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct VertexOutput {\\n\\t@builtin(position) position : vec4<f32>,\\n\\t@location(0) @interpolate(linear) normal : vec4<f32>\\n}\\n\\n@group(0) @binding(0) var<uniform> viewProj : mat4x4<f32>;\\n@group(0) @binding(1) var<uniform> color : vec4<f32>;\\n\\n@vertex\\nfn vertexMain(\\n\\t@location(0) position : vec4<f32>,\\n\\t@location(1) normal : vec4<f32>\\n\\t) -> VertexOutput\\n{\\n\\tvar output: VertexOutput;\\n\\toutput.normal = normal.xzyw;\\n\\toutput.position = viewProj * position.xzyw;\\n\\treturn output;\\n}\\n\\n\\n@fragment\\nfn fragmentMain(@location(0) @interpolate(linear) normal : vec4f) -> @location(0) vec4f {\\n\\n\\tvar normalizedNormal: vec3<f32> = normalize(normal.xyz);\\n    return vec4<f32>(normalizedNormal/2.0 + vec3<f32>(0.5, 0.5, 0.5), 1.0);\\n\\n}\\n\\n\\n\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3NoYWRlcnMvdHJpYW5nbGVTaGFkZXIud2dzbCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsc0JBQXNCLHVHQUF1Ryw4REFBOEQsdURBQXVELDRIQUE0SCw2QkFBNkIsZ0NBQWdDLCtDQUErQyxrQkFBa0IsR0FBRywwR0FBMEcsOERBQThELDZFQUE2RSxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnBtLXRlc3QvLi9zcmMvcmVuZGVyL3NoYWRlcnMvdHJpYW5nbGVTaGFkZXIud2dzbD9kM2RkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwic3RydWN0IFZlcnRleE91dHB1dCB7XFxuXFx0QGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uIDogdmVjNDxmMzI+LFxcblxcdEBsb2NhdGlvbigwKSBAaW50ZXJwb2xhdGUobGluZWFyKSBub3JtYWwgOiB2ZWM0PGYzMj5cXG59XFxuXFxuQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB2aWV3UHJvaiA6IG1hdDR4NDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygxKSB2YXI8dW5pZm9ybT4gY29sb3IgOiB2ZWM0PGYzMj47XFxuXFxuQHZlcnRleFxcbmZuIHZlcnRleE1haW4oXFxuXFx0QGxvY2F0aW9uKDApIHBvc2l0aW9uIDogdmVjNDxmMzI+LFxcblxcdEBsb2NhdGlvbigxKSBub3JtYWwgOiB2ZWM0PGYzMj5cXG5cXHQpIC0+IFZlcnRleE91dHB1dFxcbntcXG5cXHR2YXIgb3V0cHV0OiBWZXJ0ZXhPdXRwdXQ7XFxuXFx0b3V0cHV0Lm5vcm1hbCA9IG5vcm1hbC54enl3O1xcblxcdG91dHB1dC5wb3NpdGlvbiA9IHZpZXdQcm9qICogcG9zaXRpb24ueHp5dztcXG5cXHRyZXR1cm4gb3V0cHV0O1xcbn1cXG5cXG5cXG5AZnJhZ21lbnRcXG5mbiBmcmFnbWVudE1haW4oQGxvY2F0aW9uKDApIEBpbnRlcnBvbGF0ZShsaW5lYXIpIG5vcm1hbCA6IHZlYzRmKSAtPiBAbG9jYXRpb24oMCkgdmVjNGYge1xcblxcblxcdHZhciBub3JtYWxpemVkTm9ybWFsOiB2ZWMzPGYzMj4gPSBub3JtYWxpemUobm9ybWFsLnh5eik7XFxuICAgIHJldHVybiB2ZWM0PGYzMj4obm9ybWFsaXplZE5vcm1hbC8yLjAgKyB2ZWMzPGYzMj4oMC41LCAwLjUsIDAuNSksIDEuMCk7XFxuXFxufVxcblxcblxcblxcblwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/shaders/triangleShader.wgsl\n");

/***/ }),

/***/ "./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js":
/*!*****************************************************************!*\
  !*** ./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mat3: () => (/* binding */ mat3Impl),\n/* harmony export */   mat4: () => (/* binding */ mat4Impl),\n/* harmony export */   quat: () => (/* binding */ quatImpl),\n/* harmony export */   setDefaultType: () => (/* binding */ setDefaultType),\n/* harmony export */   utils: () => (/* binding */ utils),\n/* harmony export */   vec2: () => (/* binding */ vec2Impl),\n/* harmony export */   vec3: () => (/* binding */ vec3Impl),\n/* harmony export */   vec4: () => (/* binding */ vec4Impl)\n/* harmony export */ });\n/* wgpu-matrix@2.5.0, license MIT */\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nlet EPSILON = 0.000001;\n/**\n * Set the value for EPSILON for various checks\n * @param v - Value to use for EPSILON.\n * @returns previous value of EPSILON;\n */\nfunction setEpsilon(v) {\n    const old = EPSILON;\n    EPSILON = v;\n    return old;\n}\n/**\n * Convert degrees to radians\n * @param degrees - Angle in degrees\n * @returns angle converted to radians\n */\nfunction degToRad(degrees) {\n    return degrees * Math.PI / 180;\n}\n/**\n * Convert radians to degrees\n * @param radians - Angle in radians\n * @returns angle converted to degrees\n */\nfunction radToDeg(radians) {\n    return radians * 180 / Math.PI;\n}\n/**\n * Lerps between a and b via t\n * @param a - starting value\n * @param b - ending value\n * @param t - value where 0 = a and 1 = b\n * @returns a + (b - a) * t\n */\nfunction lerp$4(a, b, t) {\n    return a + (b - a) * t;\n}\n/**\n * Compute the opposite of lerp. Given a and b and a value between\n * a and b returns a value between 0 and 1. 0 if a, 1 if b.\n * Note: no clamping is done.\n * @param a - start value\n * @param b - end value\n * @param v - value between a and b\n * @returns (v - a) / (b - a)\n */\nfunction inverseLerp(a, b, v) {\n    const d = b - a;\n    return (Math.abs(b - a) < EPSILON)\n        ? a\n        : (v - a) / d;\n}\n/**\n * Compute the euclidean modulo\n *\n * ```\n * // table for n / 3\n * -5, -4, -3, -2, -1,  0,  1,  2,  3,  4,  5   <- n\n * ------------------------------------\n * -2  -1  -0  -2  -1   0,  1,  2,  0,  1,  2   <- n % 3\n *  1   2   0   1   2   0,  1,  2,  0,  1,  2   <- euclideanModule(n, 3)\n * ```\n *\n * @param n - dividend\n * @param m - divisor\n * @returns the euclidean modulo of n / m\n */\nfunction euclideanModulo(n, m) {\n    return ((n % m) + m) % m;\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    get EPSILON () { return EPSILON; },\n    setEpsilon: setEpsilon,\n    degToRad: degToRad,\n    radToDeg: radToDeg,\n    lerp: lerp$4,\n    inverseLerp: inverseLerp,\n    euclideanModulo: euclideanModulo\n});\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n *\n * Vec2 math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new Vec2. In other words you can do this\n *\n *     const v = vec2.cross(v1, v2);  // Creates a new Vec2 with the cross product of v1 x v2.\n *\n * or\n *\n *     const v = vec2.create();\n *     vec2.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always safe to pass any vector as the destination. So for example\n *\n *     vec2.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n */\nlet VecType$2 = Float32Array;\n/**\n * Sets the type this library creates for a Vec2\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n * @returns previous constructor for Vec2\n */\nfunction setDefaultType$6(ctor) {\n    const oldType = VecType$2;\n    VecType$2 = ctor;\n    return oldType;\n}\n/**\n * Creates a Vec2; may be called with x, y, z to set initial values.\n *\n * Note: Since passing in a raw JavaScript array\n * is valid in all circumstances, if you want to\n * force a JavaScript array into a Vec2's specified type\n * it would be faster to use\n *\n * ```\n * const v = vec2.clone(someJSArray);\n * ```\n *\n * Note: a consequence of the implementation is if your Vec2Type = `Array`\n * instead of `Float32Array` or `Float64Array` then any values you\n * don't pass in will be undefined. Usually this is not an issue since\n * (a) using `Array` is rare and (b) using `vec2.create` is usually used\n * to create a Vec2 to be filled out as in\n *\n * ```\n * const sum = vec2.create();\n * vec2.add(v1, v2, sum);\n * ```\n *\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @returns the created vector\n */\nfunction create$5(x = 0, y = 0) {\n    const dst = new VecType$2(2);\n    if (x !== undefined) {\n        dst[0] = x;\n        if (y !== undefined) {\n            dst[1] = y;\n        }\n    }\n    return dst;\n}\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n * Creates a Vec2; may be called with x, y, z to set initial values. (same as create)\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @returns the created vector\n */\nconst fromValues$3 = create$5;\n/**\n * Sets the values of a Vec2\n * Also see {@link vec2.create} and {@link vec2.copy}\n *\n * @param x first value\n * @param y second value\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector with its elements set.\n */\nfunction set$5(x, y, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = x;\n    dst[1] = y;\n    return dst;\n}\n/**\n * Applies Math.ceil to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the ceil of each element of v.\n */\nfunction ceil$2(v, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = Math.ceil(v[0]);\n    dst[1] = Math.ceil(v[1]);\n    return dst;\n}\n/**\n * Applies Math.floor to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the floor of each element of v.\n */\nfunction floor$2(v, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = Math.floor(v[0]);\n    dst[1] = Math.floor(v[1]);\n    return dst;\n}\n/**\n * Applies Math.round to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the round of each element of v.\n */\nfunction round$2(v, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = Math.round(v[0]);\n    dst[1] = Math.round(v[1]);\n    return dst;\n}\n/**\n * Clamp each element of vector between min and max\n * @param v - Operand vector.\n * @param max - Min value, default 0\n * @param min - Max value, default 1\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that the clamped value of each element of v.\n */\nfunction clamp$2(v, min = 0, max = 1, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = Math.min(max, Math.max(min, v[0]));\n    dst[1] = Math.min(max, Math.max(min, v[1]));\n    return dst;\n}\n/**\n * Adds two vectors; assumes a and b have the same dimension.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the sum of a and b.\n */\nfunction add$3(a, b, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] + b[0];\n    dst[1] = a[1] + b[1];\n    return dst;\n}\n/**\n * Adds two vectors, scaling the 2nd; assumes a and b have the same dimension.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param scale - Amount to scale b\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the sum of a + b * scale.\n */\nfunction addScaled$2(a, b, scale, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] + b[0] * scale;\n    dst[1] = a[1] + b[1] * scale;\n    return dst;\n}\n/**\n * Returns the angle in radians between two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns The angle in radians between the 2 vectors.\n */\nfunction angle$2(a, b) {\n    const ax = a[0];\n    const ay = a[1];\n    const bx = a[0];\n    const by = a[1];\n    const mag1 = Math.sqrt(ax * ax + ay * ay);\n    const mag2 = Math.sqrt(bx * bx + by * by);\n    const mag = mag1 * mag2;\n    const cosine = mag && dot$3(a, b) / mag;\n    return Math.acos(cosine);\n}\n/**\n * Subtracts two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the difference of a and b.\n */\nfunction subtract$3(a, b, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] - b[0];\n    dst[1] = a[1] - b[1];\n    return dst;\n}\n/**\n * Subtracts two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the difference of a and b.\n */\nconst sub$3 = subtract$3;\n/**\n * Check if 2 vectors are approximately equal\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns true if vectors are approximately equal\n */\nfunction equalsApproximately$5(a, b) {\n    return Math.abs(a[0] - b[0]) < EPSILON &&\n        Math.abs(a[1] - b[1]) < EPSILON;\n}\n/**\n * Check if 2 vectors are exactly equal\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns true if vectors are exactly equal\n */\nfunction equals$5(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param t - Interpolation coefficient.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The linear interpolated result.\n */\nfunction lerp$3(a, b, t, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] + t * (b[0] - a[0]);\n    dst[1] = a[1] + t * (b[1] - a[1]);\n    return dst;\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient vector t, returns\n * a + t * (b - a).\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param t - Interpolation coefficients vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns the linear interpolated result.\n */\nfunction lerpV$2(a, b, t, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] + t[0] * (b[0] - a[0]);\n    dst[1] = a[1] + t[1] * (b[1] - a[1]);\n    return dst;\n}\n/**\n * Return max values of two vectors.\n * Given vectors a and b returns\n * [max(a[0], b[0]), max(a[1], b[1]), max(a[2], b[2])].\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The max components vector.\n */\nfunction max$2(a, b, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = Math.max(a[0], b[0]);\n    dst[1] = Math.max(a[1], b[1]);\n    return dst;\n}\n/**\n * Return min values of two vectors.\n * Given vectors a and b returns\n * [min(a[0], b[0]), min(a[1], b[1]), min(a[2], b[2])].\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The min components vector.\n */\nfunction min$2(a, b, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = Math.min(a[0], b[0]);\n    dst[1] = Math.min(a[1], b[1]);\n    return dst;\n}\n/**\n * Multiplies a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nfunction mulScalar$3(v, k, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = v[0] * k;\n    dst[1] = v[1] * k;\n    return dst;\n}\n/**\n * Multiplies a vector by a scalar. (same as mulScalar)\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nconst scale$5 = mulScalar$3;\n/**\n * Divides a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nfunction divScalar$3(v, k, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = v[0] / k;\n    dst[1] = v[1] / k;\n    return dst;\n}\n/**\n * Inverse a vector.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The inverted vector.\n */\nfunction inverse$5(v, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = 1 / v[0];\n    dst[1] = 1 / v[1];\n    return dst;\n}\n/**\n * Invert a vector. (same as inverse)\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The inverted vector.\n */\nconst invert$4 = inverse$5;\n/**\n * Computes the cross product of two vectors; assumes both vectors have\n * three entries.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of a cross b.\n */\nfunction cross$1(a, b, dst) {\n    dst = dst || new VecType$2(3);\n    const z = a[0] * b[1] - a[1] * b[0];\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = z;\n    return dst;\n}\n/**\n * Computes the dot product of two vectors; assumes both vectors have\n * three entries.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns dot product\n */\nfunction dot$3(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the length of vector\n * @param v - vector.\n * @returns length of vector.\n */\nfunction length$3(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    return Math.sqrt(v0 * v0 + v1 * v1);\n}\n/**\n * Computes the length of vector (same as length)\n * @param v - vector.\n * @returns length of vector.\n */\nconst len$3 = length$3;\n/**\n * Computes the square of the length of vector\n * @param v - vector.\n * @returns square of the length of vector.\n */\nfunction lengthSq$3(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    return v0 * v0 + v1 * v1;\n}\n/**\n * Computes the square of the length of vector (same as lengthSq)\n * @param v - vector.\n * @returns square of the length of vector.\n */\nconst lenSq$3 = lengthSq$3;\n/**\n * Computes the distance between 2 points\n * @param a - vector.\n * @param b - vector.\n * @returns distance between a and b\n */\nfunction distance$2(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\n/**\n * Computes the distance between 2 points (same as distance)\n * @param a - vector.\n * @param b - vector.\n * @returns distance between a and b\n */\nconst dist$2 = distance$2;\n/**\n * Computes the square of the distance between 2 points\n * @param a - vector.\n * @param b - vector.\n * @returns square of the distance between a and b\n */\nfunction distanceSq$2(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    return dx * dx + dy * dy;\n}\n/**\n * Computes the square of the distance between 2 points (same as distanceSq)\n * @param a - vector.\n * @param b - vector.\n * @returns square of the distance between a and b\n */\nconst distSq$2 = distanceSq$2;\n/**\n * Divides a vector by its Euclidean length and returns the quotient.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The normalized vector.\n */\nfunction normalize$3(v, dst) {\n    dst = dst || new VecType$2(2);\n    const v0 = v[0];\n    const v1 = v[1];\n    const len = Math.sqrt(v0 * v0 + v1 * v1);\n    if (len > 0.00001) {\n        dst[0] = v0 / len;\n        dst[1] = v1 / len;\n    }\n    else {\n        dst[0] = 0;\n        dst[1] = 0;\n    }\n    return dst;\n}\n/**\n * Negates a vector.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns -v.\n */\nfunction negate$4(v, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = -v[0];\n    dst[1] = -v[1];\n    return dst;\n}\n/**\n * Copies a vector. (same as {@link vec2.clone})\n * Also see {@link vec2.create} and {@link vec2.set}\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A copy of v.\n */\nfunction copy$5(v, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = v[0];\n    dst[1] = v[1];\n    return dst;\n}\n/**\n * Clones a vector. (same as {@link vec2.copy})\n * Also see {@link vec2.create} and {@link vec2.set}\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A copy of v.\n */\nconst clone$5 = copy$5;\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of products of entries of a and b.\n */\nfunction multiply$5(a, b, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] * b[0];\n    dst[1] = a[1] * b[1];\n    return dst;\n}\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length. (same as mul)\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of products of entries of a and b.\n */\nconst mul$5 = multiply$5;\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of quotients of entries of a and b.\n */\nfunction divide$2(a, b, dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = a[0] / b[0];\n    dst[1] = a[1] / b[1];\n    return dst;\n}\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length. (same as divide)\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of quotients of entries of a and b.\n */\nconst div$2 = divide$2;\n/**\n * Creates a random unit vector * scale\n * @param scale - Default 1\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The random vector.\n */\nfunction random$1(scale = 1, dst) {\n    dst = dst || new VecType$2(2);\n    const angle = Math.random() * 2 * Math.PI;\n    dst[0] = Math.cos(angle) * scale;\n    dst[1] = Math.sin(angle) * scale;\n    return dst;\n}\n/**\n * Zero's a vector\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The zeroed vector.\n */\nfunction zero$2(dst) {\n    dst = dst || new VecType$2(2);\n    dst[0] = 0;\n    dst[1] = 0;\n    return dst;\n}\n/**\n * transform Vec2 by 4x4 matrix\n * @param v - the vector\n * @param m - The matrix.\n * @param dst - optional Vec2 to store result. If not passed a new one is created.\n * @returns the transformed vector\n */\nfunction transformMat4$2(v, m, dst) {\n    dst = dst || new VecType$2(2);\n    const x = v[0];\n    const y = v[1];\n    dst[0] = x * m[0] + y * m[4] + m[12];\n    dst[1] = x * m[1] + y * m[5] + m[13];\n    return dst;\n}\n/**\n * Transforms vec4 by 3x3 matrix\n *\n * @param v - the vector\n * @param m - The matrix.\n * @param dst - optional Vec2 to store result. If not passed a new one is created.\n * @returns the transformed vector\n */\nfunction transformMat3$1(v, m, dst) {\n    dst = dst || new VecType$2(2);\n    const x = v[0];\n    const y = v[1];\n    dst[0] = m[0] * x + m[4] * y + m[8];\n    dst[1] = m[1] * x + m[5] * y + m[9];\n    return dst;\n}\n\nvar vec2Impl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    create: create$5,\n    setDefaultType: setDefaultType$6,\n    fromValues: fromValues$3,\n    set: set$5,\n    ceil: ceil$2,\n    floor: floor$2,\n    round: round$2,\n    clamp: clamp$2,\n    add: add$3,\n    addScaled: addScaled$2,\n    angle: angle$2,\n    subtract: subtract$3,\n    sub: sub$3,\n    equalsApproximately: equalsApproximately$5,\n    equals: equals$5,\n    lerp: lerp$3,\n    lerpV: lerpV$2,\n    max: max$2,\n    min: min$2,\n    mulScalar: mulScalar$3,\n    scale: scale$5,\n    divScalar: divScalar$3,\n    inverse: inverse$5,\n    invert: invert$4,\n    cross: cross$1,\n    dot: dot$3,\n    length: length$3,\n    len: len$3,\n    lengthSq: lengthSq$3,\n    lenSq: lenSq$3,\n    distance: distance$2,\n    dist: dist$2,\n    distanceSq: distanceSq$2,\n    distSq: distSq$2,\n    normalize: normalize$3,\n    negate: negate$4,\n    copy: copy$5,\n    clone: clone$5,\n    multiply: multiply$5,\n    mul: mul$5,\n    divide: divide$2,\n    div: div$2,\n    random: random$1,\n    zero: zero$2,\n    transformMat4: transformMat4$2,\n    transformMat3: transformMat3$1\n});\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n * 3x3 Matrix math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new matrix. In other words you can do this\n *\n *     const mat = mat3.translation([1, 2, 3]);  // Creates a new translation matrix\n *\n * or\n *\n *     const mat = mat3.create();\n *     mat3.translation([1, 2, 3], mat);  // Puts translation matrix in mat.\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any matrix as the destination. So for example\n *\n *     const mat = mat3.identity();\n *     const trans = mat3.translation([1, 2, 3]);\n *     mat3.multiply(mat, trans, mat);  // Multiplies mat * trans and puts result in mat.\n *\n */\nlet MatType$1 = Float32Array;\n// This mess is because with Mat3 we have 3 unused elements.\n// For Float32Array and Float64Array that's not an issue\n// but for Array it's troublesome\nconst ctorMap = new Map([\n    [Float32Array, () => new Float32Array(12)],\n    [Float64Array, () => new Float64Array(12)],\n    [Array, () => new Array(12).fill(0)],\n]);\nlet newMat3 = ctorMap.get(Float32Array);\n/**\n * Sets the type this library creates for a Mat3\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n * @returns previous constructor for Mat3\n */\nfunction setDefaultType$5(ctor) {\n    const oldType = MatType$1;\n    MatType$1 = ctor;\n    newMat3 = ctorMap.get(ctor);\n    return oldType;\n}\n/**\n * Create a Mat3 from values\n *\n * Note: Since passing in a raw JavaScript array\n * is valid in all circumstances, if you want to\n * force a JavaScript array into a Mat3's specified type\n * it would be faster to use\n *\n * ```\n * const m = mat3.clone(someJSArray);\n * ```\n *\n * Note: a consequence of the implementation is if your Mat3Type = `Array`\n * instead of `Float32Array` or `Float64Array` then any values you\n * don't pass in will be undefined. Usually this is not an issue since\n * (a) using `Array` is rare and (b) using `mat3.create` is usually used\n * to create a Mat3 to be filled out as in\n *\n * ```\n * const m = mat3.create();\n * mat3.perspective(fov, aspect, near, far, m);\n * ```\n *\n * @param v0 - value for element 0\n * @param v1 - value for element 1\n * @param v2 - value for element 2\n * @param v3 - value for element 3\n * @param v4 - value for element 4\n * @param v5 - value for element 5\n * @param v6 - value for element 6\n * @param v7 - value for element 7\n * @param v8 - value for element 8\n * @returns matrix created from values.\n */\nfunction create$4(v0, v1, v2, v3, v4, v5, v6, v7, v8) {\n    const dst = newMat3();\n    // to make the array homogenous\n    dst[3] = 0;\n    dst[7] = 0;\n    dst[11] = 0;\n    if (v0 !== undefined) {\n        dst[0] = v0;\n        if (v1 !== undefined) {\n            dst[1] = v1;\n            if (v2 !== undefined) {\n                dst[2] = v2;\n                if (v3 !== undefined) {\n                    dst[4] = v3;\n                    if (v4 !== undefined) {\n                        dst[5] = v4;\n                        if (v5 !== undefined) {\n                            dst[6] = v5;\n                            if (v6 !== undefined) {\n                                dst[8] = v6;\n                                if (v7 !== undefined) {\n                                    dst[9] = v7;\n                                    if (v8 !== undefined) {\n                                        dst[10] = v8;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return dst;\n}\n/**\n * Sets the values of a Mat3\n * Also see {@link mat3.create} and {@link mat3.copy}\n *\n * @param v0 - value for element 0\n * @param v1 - value for element 1\n * @param v2 - value for element 2\n * @param v3 - value for element 3\n * @param v4 - value for element 4\n * @param v5 - value for element 5\n * @param v6 - value for element 6\n * @param v7 - value for element 7\n * @param v8 - value for element 8\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns Mat3 set from values.\n */\nfunction set$4(v0, v1, v2, v3, v4, v5, v6, v7, v8, dst) {\n    dst = dst || newMat3();\n    dst[0] = v0;\n    dst[1] = v1;\n    dst[2] = v2;\n    dst[3] = 0;\n    dst[4] = v3;\n    dst[5] = v4;\n    dst[6] = v5;\n    dst[7] = 0;\n    dst[8] = v6;\n    dst[9] = v7;\n    dst[10] = v8;\n    dst[11] = 0;\n    return dst;\n}\n/**\n * Creates a Mat3 from the upper left 3x3 part of a Mat4\n * @param m4 - source matrix\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns Mat3 made from m4\n */\nfunction fromMat4(m4, dst) {\n    dst = dst || newMat3();\n    dst[0] = m4[0];\n    dst[1] = m4[1];\n    dst[2] = m4[2];\n    dst[3] = 0;\n    dst[4] = m4[4];\n    dst[5] = m4[5];\n    dst[6] = m4[6];\n    dst[7] = 0;\n    dst[8] = m4[8];\n    dst[9] = m4[9];\n    dst[10] = m4[10];\n    dst[11] = 0;\n    return dst;\n}\n/**\n * Creates a Mat3 rotation matrix from a quaternion\n * @param q - quaternion to create matrix from\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns Mat3 made from q\n */\nfunction fromQuat$1(q, dst) {\n    dst = dst || newMat3();\n    const x = q[0];\n    const y = q[1];\n    const z = q[2];\n    const w = q[3];\n    const x2 = x + x;\n    const y2 = y + y;\n    const z2 = z + z;\n    const xx = x * x2;\n    const yx = y * x2;\n    const yy = y * y2;\n    const zx = z * x2;\n    const zy = z * y2;\n    const zz = z * z2;\n    const wx = w * x2;\n    const wy = w * y2;\n    const wz = w * z2;\n    dst[0] = 1 - yy - zz;\n    dst[1] = yx + wz;\n    dst[2] = zx - wy;\n    dst[3] = 0;\n    dst[4] = yx - wz;\n    dst[5] = 1 - xx - zz;\n    dst[6] = zy + wx;\n    dst[7] = 0;\n    dst[8] = zx + wy;\n    dst[9] = zy - wx;\n    dst[10] = 1 - xx - yy;\n    dst[11] = 0;\n    return dst;\n}\n/**\n * Negates a matrix.\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns -m.\n */\nfunction negate$3(m, dst) {\n    dst = dst || newMat3();\n    dst[0] = -m[0];\n    dst[1] = -m[1];\n    dst[2] = -m[2];\n    dst[4] = -m[4];\n    dst[5] = -m[5];\n    dst[6] = -m[6];\n    dst[8] = -m[8];\n    dst[9] = -m[9];\n    dst[10] = -m[10];\n    return dst;\n}\n/**\n * Copies a matrix. (same as {@link mat3.clone})\n * Also see {@link mat3.create} and {@link mat3.set}\n * @param m - The matrix.\n * @param dst - The matrix. If not passed a new one is created.\n * @returns A copy of m.\n */\nfunction copy$4(m, dst) {\n    dst = dst || newMat3();\n    dst[0] = m[0];\n    dst[1] = m[1];\n    dst[2] = m[2];\n    dst[4] = m[4];\n    dst[5] = m[5];\n    dst[6] = m[6];\n    dst[8] = m[8];\n    dst[9] = m[9];\n    dst[10] = m[10];\n    return dst;\n}\n/**\n * Copies a matrix (same as {@link mat3.copy})\n * Also see {@link mat3.create} and {@link mat3.set}\n * @param m - The matrix.\n * @param dst - The matrix. If not passed a new one is created.\n * @returns A copy of m.\n */\nconst clone$4 = copy$4;\n/**\n * Check if 2 matrices are approximately equal\n * @param a Operand matrix.\n * @param b Operand matrix.\n * @returns true if matrices are approximately equal\n */\nfunction equalsApproximately$4(a, b) {\n    return Math.abs(a[0] - b[0]) < EPSILON &&\n        Math.abs(a[1] - b[1]) < EPSILON &&\n        Math.abs(a[2] - b[2]) < EPSILON &&\n        Math.abs(a[4] - b[4]) < EPSILON &&\n        Math.abs(a[5] - b[5]) < EPSILON &&\n        Math.abs(a[6] - b[6]) < EPSILON &&\n        Math.abs(a[8] - b[8]) < EPSILON &&\n        Math.abs(a[9] - b[9]) < EPSILON &&\n        Math.abs(a[10] - b[10]) < EPSILON;\n}\n/**\n * Check if 2 matrices are exactly equal\n * @param a Operand matrix.\n * @param b Operand matrix.\n * @returns true if matrices are exactly equal\n */\nfunction equals$4(a, b) {\n    return a[0] === b[0] &&\n        a[1] === b[1] &&\n        a[2] === b[2] &&\n        a[4] === b[4] &&\n        a[5] === b[5] &&\n        a[6] === b[6] &&\n        a[8] === b[8] &&\n        a[9] === b[9] &&\n        a[10] === b[10];\n}\n/**\n * Creates a 3-by-3 identity matrix.\n *\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns A 3-by-3 identity matrix.\n */\nfunction identity$2(dst) {\n    dst = dst || newMat3();\n    dst[0] = 1;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[4] = 0;\n    dst[5] = 1;\n    dst[6] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    return dst;\n}\n/**\n * Takes the transpose of a matrix.\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The transpose of m.\n */\nfunction transpose$1(m, dst) {\n    dst = dst || newMat3();\n    if (dst === m) {\n        let t;\n        // 0 1 2\n        // 4 5 6\n        // 8 9 10\n        t = m[1];\n        m[1] = m[4];\n        m[4] = t;\n        t = m[2];\n        m[2] = m[8];\n        m[8] = t;\n        t = m[6];\n        m[6] = m[9];\n        m[9] = t;\n        return dst;\n    }\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    dst[0] = m00;\n    dst[1] = m10;\n    dst[2] = m20;\n    dst[4] = m01;\n    dst[5] = m11;\n    dst[6] = m21;\n    dst[8] = m02;\n    dst[9] = m12;\n    dst[10] = m22;\n    return dst;\n}\n/**\n * Computes the inverse of a 3-by-3 matrix.\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The inverse of m.\n */\nfunction inverse$4(m, dst) {\n    dst = dst || newMat3();\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    const b01 = m22 * m11 - m12 * m21;\n    const b11 = -m22 * m10 + m12 * m20;\n    const b21 = m21 * m10 - m11 * m20;\n    const invDet = 1 / (m00 * b01 + m01 * b11 + m02 * b21);\n    dst[0] = b01 * invDet;\n    dst[1] = (-m22 * m01 + m02 * m21) * invDet;\n    dst[2] = (m12 * m01 - m02 * m11) * invDet;\n    dst[4] = b11 * invDet;\n    dst[5] = (m22 * m00 - m02 * m20) * invDet;\n    dst[6] = (-m12 * m00 + m02 * m10) * invDet;\n    dst[8] = b21 * invDet;\n    dst[9] = (-m21 * m00 + m01 * m20) * invDet;\n    dst[10] = (m11 * m00 - m01 * m10) * invDet;\n    return dst;\n}\n/**\n * Compute the determinant of a matrix\n * @param m - the matrix\n * @returns the determinant\n */\nfunction determinant$1(m) {\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    return m00 * (m11 * m22 - m21 * m12) -\n        m10 * (m01 * m22 - m21 * m02) +\n        m20 * (m01 * m12 - m11 * m02);\n}\n/**\n * Computes the inverse of a 3-by-3 matrix. (same as inverse)\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The inverse of m.\n */\nconst invert$3 = inverse$4;\n/**\n * Multiplies two 3-by-3 matrices with a on the left and b on the right\n * @param a - The matrix on the left.\n * @param b - The matrix on the right.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The matrix product of a and b.\n */\nfunction multiply$4(a, b, dst) {\n    dst = dst || newMat3();\n    const a00 = a[0];\n    const a01 = a[1];\n    const a02 = a[2];\n    const a10 = a[4 + 0];\n    const a11 = a[4 + 1];\n    const a12 = a[4 + 2];\n    const a20 = a[8 + 0];\n    const a21 = a[8 + 1];\n    const a22 = a[8 + 2];\n    const b00 = b[0];\n    const b01 = b[1];\n    const b02 = b[2];\n    const b10 = b[4 + 0];\n    const b11 = b[4 + 1];\n    const b12 = b[4 + 2];\n    const b20 = b[8 + 0];\n    const b21 = b[8 + 1];\n    const b22 = b[8 + 2];\n    dst[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    dst[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    dst[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    dst[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    dst[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    dst[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    dst[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    dst[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    dst[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    return dst;\n}\n/**\n * Multiplies two 3-by-3 matrices with a on the left and b on the right (same as multiply)\n * @param a - The matrix on the left.\n * @param b - The matrix on the right.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The matrix product of a and b.\n */\nconst mul$4 = multiply$4;\n/**\n * Sets the translation component of a 3-by-3 matrix to the given\n * vector.\n * @param a - The matrix.\n * @param v - The vector.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The matrix with translation set.\n */\nfunction setTranslation$1(a, v, dst) {\n    dst = dst || identity$2();\n    if (a !== dst) {\n        dst[0] = a[0];\n        dst[1] = a[1];\n        dst[2] = a[2];\n        dst[4] = a[4];\n        dst[5] = a[5];\n        dst[6] = a[6];\n    }\n    dst[8] = v[0];\n    dst[9] = v[1];\n    dst[10] = 1;\n    return dst;\n}\n/**\n * Returns the translation component of a 3-by-3 matrix as a vector with 3\n * entries.\n * @param m - The matrix.\n * @param dst - vector to hold result. If not passed a new one is created.\n * @returns The translation component of m.\n */\nfunction getTranslation$2(m, dst) {\n    dst = dst || create$5();\n    dst[0] = m[8];\n    dst[1] = m[9];\n    return dst;\n}\n/**\n * Returns an axis of a 3x3 matrix as a vector with 2 entries\n * @param m - The matrix.\n * @param axis - The axis 0 = x, 1 = y,\n * @returns The axis component of m.\n */\nfunction getAxis$2(m, axis, dst) {\n    dst = dst || create$5();\n    const off = axis * 4;\n    dst[0] = m[off + 0];\n    dst[1] = m[off + 1];\n    return dst;\n}\n/**\n * Sets an axis of a 3x3 matrix as a vector with 2 entries\n * @param m - The matrix.\n * @param v - the axis vector\n * @param axis - The axis  0 = x, 1 = y;\n * @param dst - The matrix to set. If not passed a new one is created.\n * @returns The matrix with axis set.\n */\nfunction setAxis$1(m, v, axis, dst) {\n    if (dst !== m) {\n        dst = copy$4(m, dst);\n    }\n    const off = axis * 4;\n    dst[off + 0] = v[0];\n    dst[off + 1] = v[1];\n    return dst;\n}\n/**\n * Returns the scaling component of the matrix\n * @param m - The Matrix\n * @param dst - The vector to set. If not passed a new one is created.\n */\nfunction getScaling$2(m, dst) {\n    dst = dst || create$5();\n    const xx = m[0];\n    const xy = m[1];\n    const yx = m[4];\n    const yy = m[5];\n    dst[0] = Math.sqrt(xx * xx + xy * xy);\n    dst[1] = Math.sqrt(yx * yx + yy * yy);\n    return dst;\n}\n/**\n * Creates a 3-by-3 matrix which translates by the given vector v.\n * @param v - The vector by which to translate.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The translation matrix.\n */\nfunction translation$1(v, dst) {\n    dst = dst || newMat3();\n    dst[0] = 1;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[4] = 0;\n    dst[5] = 1;\n    dst[6] = 0;\n    dst[8] = v[0];\n    dst[9] = v[1];\n    dst[10] = 1;\n    return dst;\n}\n/**\n * Translates the given 3-by-3 matrix by the given vector v.\n * @param m - The matrix.\n * @param v - The vector by which to translate.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The translated matrix.\n */\nfunction translate$1(m, v, dst) {\n    dst = dst || newMat3();\n    const v0 = v[0];\n    const v1 = v[1];\n    const m00 = m[0];\n    const m01 = m[1];\n    const m02 = m[2];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    if (m !== dst) {\n        dst[0] = m00;\n        dst[1] = m01;\n        dst[2] = m02;\n        dst[4] = m10;\n        dst[5] = m11;\n        dst[6] = m12;\n    }\n    dst[8] = m00 * v0 + m10 * v1 + m20;\n    dst[9] = m01 * v0 + m11 * v1 + m21;\n    dst[10] = m02 * v0 + m12 * v1 + m22;\n    return dst;\n}\n/**\n * Creates a 3-by-3 matrix which rotates  by the given angle.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotation matrix.\n */\nfunction rotation$1(angleInRadians, dst) {\n    dst = dst || newMat3();\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = c;\n    dst[1] = s;\n    dst[2] = 0;\n    dst[4] = -s;\n    dst[5] = c;\n    dst[6] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    return dst;\n}\n/**\n * Rotates the given 3-by-3 matrix  by the given angle.\n * @param m - The matrix.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotated matrix.\n */\nfunction rotate$1(m, angleInRadians, dst) {\n    dst = dst || newMat3();\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = c * m00 + s * m10;\n    dst[1] = c * m01 + s * m11;\n    dst[2] = c * m02 + s * m12;\n    dst[4] = c * m10 - s * m00;\n    dst[5] = c * m11 - s * m01;\n    dst[6] = c * m12 - s * m02;\n    if (m !== dst) {\n        dst[8] = m[8];\n        dst[9] = m[9];\n        dst[10] = m[10];\n    }\n    return dst;\n}\n/**\n * Creates a 3-by-3 matrix which scales in each dimension by an amount given by\n * the corresponding entry in the given vector; assumes the vector has three\n * entries.\n * @param v - A vector of\n *     2 entries specifying the factor by which to scale in each dimension.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaling matrix.\n */\nfunction scaling$1(v, dst) {\n    dst = dst || newMat3();\n    dst[0] = v[0];\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[4] = 0;\n    dst[5] = v[1];\n    dst[6] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    return dst;\n}\n/**\n * Scales the given 3-by-3 matrix in each dimension by an amount\n * given by the corresponding entry in the given vector; assumes the vector has\n * three entries.\n * @param m - The matrix to be modified.\n * @param v - A vector of 2 entries specifying the\n *     factor by which to scale in each dimension.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaled matrix.\n */\nfunction scale$4(m, v, dst) {\n    dst = dst || newMat3();\n    const v0 = v[0];\n    const v1 = v[1];\n    dst[0] = v0 * m[0 * 4 + 0];\n    dst[1] = v0 * m[0 * 4 + 1];\n    dst[2] = v0 * m[0 * 4 + 2];\n    dst[4] = v1 * m[1 * 4 + 0];\n    dst[5] = v1 * m[1 * 4 + 1];\n    dst[6] = v1 * m[1 * 4 + 2];\n    if (m !== dst) {\n        dst[8] = m[8];\n        dst[9] = m[9];\n        dst[10] = m[10];\n    }\n    return dst;\n}\n/**\n * Creates a 3-by-3 matrix which scales uniformly in each dimension\n * @param s - Amount to scale\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaling matrix.\n */\nfunction uniformScaling$1(s, dst) {\n    dst = dst || newMat3();\n    dst[0] = s;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[4] = 0;\n    dst[5] = s;\n    dst[6] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    return dst;\n}\n/**\n * Scales the given 3-by-3 matrix in each dimension by an amount\n * given.\n * @param m - The matrix to be modified.\n * @param s - Amount to scale.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaled matrix.\n */\nfunction uniformScale$1(m, s, dst) {\n    dst = dst || newMat3();\n    dst[0] = s * m[0 * 4 + 0];\n    dst[1] = s * m[0 * 4 + 1];\n    dst[2] = s * m[0 * 4 + 2];\n    dst[4] = s * m[1 * 4 + 0];\n    dst[5] = s * m[1 * 4 + 1];\n    dst[6] = s * m[1 * 4 + 2];\n    if (m !== dst) {\n        dst[8] = m[8];\n        dst[9] = m[9];\n        dst[10] = m[10];\n    }\n    return dst;\n}\n\nvar mat3Impl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setDefaultType: setDefaultType$5,\n    create: create$4,\n    set: set$4,\n    fromMat4: fromMat4,\n    fromQuat: fromQuat$1,\n    negate: negate$3,\n    copy: copy$4,\n    clone: clone$4,\n    equalsApproximately: equalsApproximately$4,\n    equals: equals$4,\n    identity: identity$2,\n    transpose: transpose$1,\n    inverse: inverse$4,\n    determinant: determinant$1,\n    invert: invert$3,\n    multiply: multiply$4,\n    mul: mul$4,\n    setTranslation: setTranslation$1,\n    getTranslation: getTranslation$2,\n    getAxis: getAxis$2,\n    setAxis: setAxis$1,\n    getScaling: getScaling$2,\n    translation: translation$1,\n    translate: translate$1,\n    rotation: rotation$1,\n    rotate: rotate$1,\n    scaling: scaling$1,\n    scale: scale$4,\n    uniformScaling: uniformScaling$1,\n    uniformScale: uniformScale$1\n});\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n *\n * Vec3 math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new `Vec3`. In other words you can do this\n *\n *     const v = vec3.cross(v1, v2);  // Creates a new Vec3 with the cross product of v1 x v2.\n *\n * or\n *\n *     const v = vec3.create();\n *     vec3.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always safe to pass any vector as the destination. So for example\n *\n *     vec3.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n */\nlet VecType$1 = Float32Array;\n/**\n * Sets the type this library creates for a Vec3\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n * @returns previous constructor for Vec3\n */\nfunction setDefaultType$4(ctor) {\n    const oldType = VecType$1;\n    VecType$1 = ctor;\n    return oldType;\n}\n/**\n * Creates a vec3; may be called with x, y, z to set initial values.\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @param z - Initial z value.\n * @returns the created vector\n */\nfunction create$3(x, y, z) {\n    const dst = new VecType$1(3);\n    if (x !== undefined) {\n        dst[0] = x;\n        if (y !== undefined) {\n            dst[1] = y;\n            if (z !== undefined) {\n                dst[2] = z;\n            }\n        }\n    }\n    return dst;\n}\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n * Creates a vec3; may be called with x, y, z to set initial values. (same as create)\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @param z - Initial z value.\n * @returns the created vector\n */\nconst fromValues$2 = create$3;\n/**\n * Sets the values of a Vec3\n * Also see {@link vec3.create} and {@link vec3.copy}\n *\n * @param x first value\n * @param y second value\n * @param z third value\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector with its elements set.\n */\nfunction set$3(x, y, z, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = x;\n    dst[1] = y;\n    dst[2] = z;\n    return dst;\n}\n/**\n * Applies Math.ceil to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the ceil of each element of v.\n */\nfunction ceil$1(v, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = Math.ceil(v[0]);\n    dst[1] = Math.ceil(v[1]);\n    dst[2] = Math.ceil(v[2]);\n    return dst;\n}\n/**\n * Applies Math.floor to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the floor of each element of v.\n */\nfunction floor$1(v, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = Math.floor(v[0]);\n    dst[1] = Math.floor(v[1]);\n    dst[2] = Math.floor(v[2]);\n    return dst;\n}\n/**\n * Applies Math.round to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the round of each element of v.\n */\nfunction round$1(v, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = Math.round(v[0]);\n    dst[1] = Math.round(v[1]);\n    dst[2] = Math.round(v[2]);\n    return dst;\n}\n/**\n * Clamp each element of vector between min and max\n * @param v - Operand vector.\n * @param max - Min value, default 0\n * @param min - Max value, default 1\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that the clamped value of each element of v.\n */\nfunction clamp$1(v, min = 0, max = 1, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = Math.min(max, Math.max(min, v[0]));\n    dst[1] = Math.min(max, Math.max(min, v[1]));\n    dst[2] = Math.min(max, Math.max(min, v[2]));\n    return dst;\n}\n/**\n * Adds two vectors; assumes a and b have the same dimension.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the sum of a and b.\n */\nfunction add$2(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] + b[0];\n    dst[1] = a[1] + b[1];\n    dst[2] = a[2] + b[2];\n    return dst;\n}\n/**\n * Adds two vectors, scaling the 2nd; assumes a and b have the same dimension.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param scale - Amount to scale b\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the sum of a + b * scale.\n */\nfunction addScaled$1(a, b, scale, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] + b[0] * scale;\n    dst[1] = a[1] + b[1] * scale;\n    dst[2] = a[2] + b[2] * scale;\n    return dst;\n}\n/**\n * Returns the angle in radians between two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns The angle in radians between the 2 vectors.\n */\nfunction angle$1(a, b) {\n    const ax = a[0];\n    const ay = a[1];\n    const az = a[2];\n    const bx = a[0];\n    const by = a[1];\n    const bz = a[2];\n    const mag1 = Math.sqrt(ax * ax + ay * ay + az * az);\n    const mag2 = Math.sqrt(bx * bx + by * by + bz * bz);\n    const mag = mag1 * mag2;\n    const cosine = mag && dot$2(a, b) / mag;\n    return Math.acos(cosine);\n}\n/**\n * Subtracts two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the difference of a and b.\n */\nfunction subtract$2(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] - b[0];\n    dst[1] = a[1] - b[1];\n    dst[2] = a[2] - b[2];\n    return dst;\n}\n/**\n * Subtracts two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the difference of a and b.\n */\nconst sub$2 = subtract$2;\n/**\n * Check if 2 vectors are approximately equal\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns true if vectors are approximately equal\n */\nfunction equalsApproximately$3(a, b) {\n    return Math.abs(a[0] - b[0]) < EPSILON &&\n        Math.abs(a[1] - b[1]) < EPSILON &&\n        Math.abs(a[2] - b[2]) < EPSILON;\n}\n/**\n * Check if 2 vectors are exactly equal\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns true if vectors are exactly equal\n */\nfunction equals$3(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param t - Interpolation coefficient.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The linear interpolated result.\n */\nfunction lerp$2(a, b, t, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] + t * (b[0] - a[0]);\n    dst[1] = a[1] + t * (b[1] - a[1]);\n    dst[2] = a[2] + t * (b[2] - a[2]);\n    return dst;\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient vector t, returns\n * a + t * (b - a).\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param t - Interpolation coefficients vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns the linear interpolated result.\n */\nfunction lerpV$1(a, b, t, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] + t[0] * (b[0] - a[0]);\n    dst[1] = a[1] + t[1] * (b[1] - a[1]);\n    dst[2] = a[2] + t[2] * (b[2] - a[2]);\n    return dst;\n}\n/**\n * Return max values of two vectors.\n * Given vectors a and b returns\n * [max(a[0], b[0]), max(a[1], b[1]), max(a[2], b[2])].\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The max components vector.\n */\nfunction max$1(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = Math.max(a[0], b[0]);\n    dst[1] = Math.max(a[1], b[1]);\n    dst[2] = Math.max(a[2], b[2]);\n    return dst;\n}\n/**\n * Return min values of two vectors.\n * Given vectors a and b returns\n * [min(a[0], b[0]), min(a[1], b[1]), min(a[2], b[2])].\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The min components vector.\n */\nfunction min$1(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = Math.min(a[0], b[0]);\n    dst[1] = Math.min(a[1], b[1]);\n    dst[2] = Math.min(a[2], b[2]);\n    return dst;\n}\n/**\n * Multiplies a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nfunction mulScalar$2(v, k, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = v[0] * k;\n    dst[1] = v[1] * k;\n    dst[2] = v[2] * k;\n    return dst;\n}\n/**\n * Multiplies a vector by a scalar. (same as mulScalar)\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nconst scale$3 = mulScalar$2;\n/**\n * Divides a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nfunction divScalar$2(v, k, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = v[0] / k;\n    dst[1] = v[1] / k;\n    dst[2] = v[2] / k;\n    return dst;\n}\n/**\n * Inverse a vector.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The inverted vector.\n */\nfunction inverse$3(v, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = 1 / v[0];\n    dst[1] = 1 / v[1];\n    dst[2] = 1 / v[2];\n    return dst;\n}\n/**\n * Invert a vector. (same as inverse)\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The inverted vector.\n */\nconst invert$2 = inverse$3;\n/**\n * Computes the cross product of two vectors; assumes both vectors have\n * three entries.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of a cross b.\n */\nfunction cross(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    const t1 = a[2] * b[0] - a[0] * b[2];\n    const t2 = a[0] * b[1] - a[1] * b[0];\n    dst[0] = a[1] * b[2] - a[2] * b[1];\n    dst[1] = t1;\n    dst[2] = t2;\n    return dst;\n}\n/**\n * Computes the dot product of two vectors; assumes both vectors have\n * three entries.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns dot product\n */\nfunction dot$2(a, b) {\n    return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]);\n}\n/**\n * Computes the length of vector\n * @param v - vector.\n * @returns length of vector.\n */\nfunction length$2(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    return Math.sqrt(v0 * v0 + v1 * v1 + v2 * v2);\n}\n/**\n * Computes the length of vector (same as length)\n * @param v - vector.\n * @returns length of vector.\n */\nconst len$2 = length$2;\n/**\n * Computes the square of the length of vector\n * @param v - vector.\n * @returns square of the length of vector.\n */\nfunction lengthSq$2(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    return v0 * v0 + v1 * v1 + v2 * v2;\n}\n/**\n * Computes the square of the length of vector (same as lengthSq)\n * @param v - vector.\n * @returns square of the length of vector.\n */\nconst lenSq$2 = lengthSq$2;\n/**\n * Computes the distance between 2 points\n * @param a - vector.\n * @param b - vector.\n * @returns distance between a and b\n */\nfunction distance$1(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    const dz = a[2] - b[2];\n    return Math.sqrt(dx * dx + dy * dy + dz * dz);\n}\n/**\n * Computes the distance between 2 points (same as distance)\n * @param a - vector.\n * @param b - vector.\n * @returns distance between a and b\n */\nconst dist$1 = distance$1;\n/**\n * Computes the square of the distance between 2 points\n * @param a - vector.\n * @param b - vector.\n * @returns square of the distance between a and b\n */\nfunction distanceSq$1(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    const dz = a[2] - b[2];\n    return dx * dx + dy * dy + dz * dz;\n}\n/**\n * Computes the square of the distance between 2 points (same as distanceSq)\n * @param a - vector.\n * @param b - vector.\n * @returns square of the distance between a and b\n */\nconst distSq$1 = distanceSq$1;\n/**\n * Divides a vector by its Euclidean length and returns the quotient.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The normalized vector.\n */\nfunction normalize$2(v, dst) {\n    dst = dst || new VecType$1(3);\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const len = Math.sqrt(v0 * v0 + v1 * v1 + v2 * v2);\n    if (len > 0.00001) {\n        dst[0] = v0 / len;\n        dst[1] = v1 / len;\n        dst[2] = v2 / len;\n    }\n    else {\n        dst[0] = 0;\n        dst[1] = 0;\n        dst[2] = 0;\n    }\n    return dst;\n}\n/**\n * Negates a vector.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns -v.\n */\nfunction negate$2(v, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = -v[0];\n    dst[1] = -v[1];\n    dst[2] = -v[2];\n    return dst;\n}\n/**\n * Copies a vector. (same as {@link vec3.clone})\n * Also see {@link vec3.create} and {@link vec3.set}\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A copy of v.\n */\nfunction copy$3(v, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = v[0];\n    dst[1] = v[1];\n    dst[2] = v[2];\n    return dst;\n}\n/**\n * Clones a vector. (same as {@link vec3.copy})\n * Also see {@link vec3.create} and {@link vec3.set}\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A copy of v.\n */\nconst clone$3 = copy$3;\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of products of entries of a and b.\n */\nfunction multiply$3(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] * b[0];\n    dst[1] = a[1] * b[1];\n    dst[2] = a[2] * b[2];\n    return dst;\n}\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length. (same as mul)\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of products of entries of a and b.\n */\nconst mul$3 = multiply$3;\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of quotients of entries of a and b.\n */\nfunction divide$1(a, b, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = a[0] / b[0];\n    dst[1] = a[1] / b[1];\n    dst[2] = a[2] / b[2];\n    return dst;\n}\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length. (same as divide)\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of quotients of entries of a and b.\n */\nconst div$1 = divide$1;\n/**\n * Creates a random vector\n * @param scale - Default 1\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The random vector.\n */\nfunction random(scale = 1, dst) {\n    dst = dst || new VecType$1(3);\n    const angle = Math.random() * 2 * Math.PI;\n    const z = Math.random() * 2 - 1;\n    const zScale = Math.sqrt(1 - z * z) * scale;\n    dst[0] = Math.cos(angle) * zScale;\n    dst[1] = Math.sin(angle) * zScale;\n    dst[2] = z * scale;\n    return dst;\n}\n/**\n * Zero's a vector\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The zeroed vector.\n */\nfunction zero$1(dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = 0;\n    return dst;\n}\n/**\n * transform vec3 by 4x4 matrix\n * @param v - the vector\n * @param m - The matrix.\n * @param dst - optional vec3 to store result. If not passed a new one is created.\n * @returns the transformed vector\n */\nfunction transformMat4$1(v, m, dst) {\n    dst = dst || new VecType$1(3);\n    const x = v[0];\n    const y = v[1];\n    const z = v[2];\n    const w = (m[3] * x + m[7] * y + m[11] * z + m[15]) || 1;\n    dst[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n    dst[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n    dst[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n    return dst;\n}\n/**\n * Transform vec4 by upper 3x3 matrix inside 4x4 matrix.\n * @param v - The direction.\n * @param m - The matrix.\n * @param dst - optional Vec3 to store result. If not passed a new one is created.\n * @returns The transformed vector.\n */\nfunction transformMat4Upper3x3(v, m, dst) {\n    dst = dst || new VecType$1(3);\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    dst[0] = v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0];\n    dst[1] = v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1];\n    dst[2] = v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2];\n    return dst;\n}\n/**\n * Transforms vec3 by 3x3 matrix\n *\n * @param v - the vector\n * @param m - The matrix.\n * @param dst - optional vec3 to store result. If not passed a new one is created.\n * @returns the transformed vector\n */\nfunction transformMat3(v, m, dst) {\n    dst = dst || new VecType$1(3);\n    const x = v[0];\n    const y = v[1];\n    const z = v[2];\n    dst[0] = x * m[0] + y * m[4] + z * m[8];\n    dst[1] = x * m[1] + y * m[5] + z * m[9];\n    dst[2] = x * m[2] + y * m[6] + z * m[10];\n    return dst;\n}\n/**\n * Transforms vec3 by Quaternion\n * @param v - the vector to transform\n * @param q - the quaternion to transform by\n * @param dst - optional vec3 to store result. If not passed a new one is created.\n * @returns the transformed\n */\nfunction transformQuat(v, q, dst) {\n    dst = dst || new VecType$1(3);\n    const qx = q[0];\n    const qy = q[1];\n    const qz = q[2];\n    const w2 = q[3] * 2;\n    const x = v[0];\n    const y = v[1];\n    const z = v[2];\n    const uvX = qy * z - qz * y;\n    const uvY = qz * x - qx * z;\n    const uvZ = qx * y - qy * x;\n    dst[0] = x + uvX * w2 + (qy * uvZ - qz * uvY) * 2;\n    dst[1] = y + uvY * w2 + (qz * uvX - qx * uvZ) * 2;\n    dst[2] = z + uvZ * w2 + (qx * uvY - qy * uvX) * 2;\n    return dst;\n}\n/**\n * Returns the translation component of a 4-by-4 matrix as a vector with 3\n * entries.\n * @param m - The matrix.\n * @param dst - vector to hold result. If not passed a new one is created.\n * @returns The translation component of m.\n */\nfunction getTranslation$1(m, dst) {\n    dst = dst || new VecType$1(3);\n    dst[0] = m[12];\n    dst[1] = m[13];\n    dst[2] = m[14];\n    return dst;\n}\n/**\n * Returns an axis of a 4x4 matrix as a vector with 3 entries\n * @param m - The matrix.\n * @param axis - The axis 0 = x, 1 = y, 2 = z;\n * @returns The axis component of m.\n */\nfunction getAxis$1(m, axis, dst) {\n    dst = dst || new VecType$1(3);\n    const off = axis * 4;\n    dst[0] = m[off + 0];\n    dst[1] = m[off + 1];\n    dst[2] = m[off + 2];\n    return dst;\n}\n/**\n * Returns the scaling component of the matrix\n * @param m - The Matrix\n * @param dst - The vector to set. If not passed a new one is created.\n */\nfunction getScaling$1(m, dst) {\n    dst = dst || new VecType$1(3);\n    const xx = m[0];\n    const xy = m[1];\n    const xz = m[2];\n    const yx = m[4];\n    const yy = m[5];\n    const yz = m[6];\n    const zx = m[8];\n    const zy = m[9];\n    const zz = m[10];\n    dst[0] = Math.sqrt(xx * xx + xy * xy + xz * xz);\n    dst[1] = Math.sqrt(yx * yx + yy * yy + yz * yz);\n    dst[2] = Math.sqrt(zx * zx + zy * zy + zz * zz);\n    return dst;\n}\n\nvar vec3Impl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    create: create$3,\n    setDefaultType: setDefaultType$4,\n    fromValues: fromValues$2,\n    set: set$3,\n    ceil: ceil$1,\n    floor: floor$1,\n    round: round$1,\n    clamp: clamp$1,\n    add: add$2,\n    addScaled: addScaled$1,\n    angle: angle$1,\n    subtract: subtract$2,\n    sub: sub$2,\n    equalsApproximately: equalsApproximately$3,\n    equals: equals$3,\n    lerp: lerp$2,\n    lerpV: lerpV$1,\n    max: max$1,\n    min: min$1,\n    mulScalar: mulScalar$2,\n    scale: scale$3,\n    divScalar: divScalar$2,\n    inverse: inverse$3,\n    invert: invert$2,\n    cross: cross,\n    dot: dot$2,\n    length: length$2,\n    len: len$2,\n    lengthSq: lengthSq$2,\n    lenSq: lenSq$2,\n    distance: distance$1,\n    dist: dist$1,\n    distanceSq: distanceSq$1,\n    distSq: distSq$1,\n    normalize: normalize$2,\n    negate: negate$2,\n    copy: copy$3,\n    clone: clone$3,\n    multiply: multiply$3,\n    mul: mul$3,\n    divide: divide$1,\n    div: div$1,\n    random: random,\n    zero: zero$1,\n    transformMat4: transformMat4$1,\n    transformMat4Upper3x3: transformMat4Upper3x3,\n    transformMat3: transformMat3,\n    transformQuat: transformQuat,\n    getTranslation: getTranslation$1,\n    getAxis: getAxis$1,\n    getScaling: getScaling$1\n});\n\n/**\n * 4x4 Matrix math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new matrix. In other words you can do this\n *\n *     const mat = mat4.translation([1, 2, 3]);  // Creates a new translation matrix\n *\n * or\n *\n *     const mat = mat4.create();\n *     mat4.translation([1, 2, 3], mat);  // Puts translation matrix in mat.\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any matrix as the destination. So for example\n *\n *     const mat = mat4.identity();\n *     const trans = mat4.translation([1, 2, 3]);\n *     mat4.multiply(mat, trans, mat);  // Multiplies mat * trans and puts result in mat.\n *\n */\nlet MatType = Float32Array;\n/**\n * Sets the type this library creates for a Mat4\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n * @returns previous constructor for Mat4\n */\nfunction setDefaultType$3(ctor) {\n    const oldType = MatType;\n    MatType = ctor;\n    return oldType;\n}\n/**\n * Create a Mat4 from values\n *\n * Note: Since passing in a raw JavaScript array\n * is valid in all circumstances, if you want to\n * force a JavaScript array into a Mat4's specified type\n * it would be faster to use\n *\n * ```\n * const m = mat4.clone(someJSArray);\n * ```\n *\n * Note: a consequence of the implementation is if your Mat4Type = `Array`\n * instead of `Float32Array` or `Float64Array` then any values you\n * don't pass in will be undefined. Usually this is not an issue since\n * (a) using `Array` is rare and (b) using `mat4.create` is usually used\n * to create a Mat4 to be filled out as in\n *\n * ```\n * const m = mat4.create();\n * mat4.perspective(fov, aspect, near, far, m);\n * ```\n *\n * @param v0 - value for element 0\n * @param v1 - value for element 1\n * @param v2 - value for element 2\n * @param v3 - value for element 3\n * @param v4 - value for element 4\n * @param v5 - value for element 5\n * @param v6 - value for element 6\n * @param v7 - value for element 7\n * @param v8 - value for element 8\n * @param v9 - value for element 9\n * @param v10 - value for element 10\n * @param v11 - value for element 11\n * @param v12 - value for element 12\n * @param v13 - value for element 13\n * @param v14 - value for element 14\n * @param v15 - value for element 15\n * @returns created from values.\n */\nfunction create$2(v0, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15) {\n    const dst = new MatType(16);\n    if (v0 !== undefined) {\n        dst[0] = v0;\n        if (v1 !== undefined) {\n            dst[1] = v1;\n            if (v2 !== undefined) {\n                dst[2] = v2;\n                if (v3 !== undefined) {\n                    dst[3] = v3;\n                    if (v4 !== undefined) {\n                        dst[4] = v4;\n                        if (v5 !== undefined) {\n                            dst[5] = v5;\n                            if (v6 !== undefined) {\n                                dst[6] = v6;\n                                if (v7 !== undefined) {\n                                    dst[7] = v7;\n                                    if (v8 !== undefined) {\n                                        dst[8] = v8;\n                                        if (v9 !== undefined) {\n                                            dst[9] = v9;\n                                            if (v10 !== undefined) {\n                                                dst[10] = v10;\n                                                if (v11 !== undefined) {\n                                                    dst[11] = v11;\n                                                    if (v12 !== undefined) {\n                                                        dst[12] = v12;\n                                                        if (v13 !== undefined) {\n                                                            dst[13] = v13;\n                                                            if (v14 !== undefined) {\n                                                                dst[14] = v14;\n                                                                if (v15 !== undefined) {\n                                                                    dst[15] = v15;\n                                                                }\n                                                            }\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return dst;\n}\n/**\n * Sets the values of a Mat4\n * Also see {@link mat4.create} and {@link mat4.copy}\n *\n * @param v0 - value for element 0\n * @param v1 - value for element 1\n * @param v2 - value for element 2\n * @param v3 - value for element 3\n * @param v4 - value for element 4\n * @param v5 - value for element 5\n * @param v6 - value for element 6\n * @param v7 - value for element 7\n * @param v8 - value for element 8\n * @param v9 - value for element 9\n * @param v10 - value for element 10\n * @param v11 - value for element 11\n * @param v12 - value for element 12\n * @param v13 - value for element 13\n * @param v14 - value for element 14\n * @param v15 - value for element 15\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns Mat4 created from values.\n */\nfunction set$2(v0, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = v0;\n    dst[1] = v1;\n    dst[2] = v2;\n    dst[3] = v3;\n    dst[4] = v4;\n    dst[5] = v5;\n    dst[6] = v6;\n    dst[7] = v7;\n    dst[8] = v8;\n    dst[9] = v9;\n    dst[10] = v10;\n    dst[11] = v11;\n    dst[12] = v12;\n    dst[13] = v13;\n    dst[14] = v14;\n    dst[15] = v15;\n    return dst;\n}\n/**\n * Creates a Mat4 from a Mat3\n * @param m3 - source matrix\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns Mat4 made from m3\n */\nfunction fromMat3(m3, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = m3[0];\n    dst[1] = m3[1];\n    dst[2] = m3[2];\n    dst[3] = 0;\n    dst[4] = m3[4];\n    dst[5] = m3[5];\n    dst[6] = m3[6];\n    dst[7] = 0;\n    dst[8] = m3[8];\n    dst[9] = m3[9];\n    dst[10] = m3[10];\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Creates a Mat4 rotation matrix from a quaternion\n * @param q - quaternion to create matrix from\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns Mat4 made from q\n */\nfunction fromQuat(q, dst) {\n    dst = dst || new MatType(16);\n    const x = q[0];\n    const y = q[1];\n    const z = q[2];\n    const w = q[3];\n    const x2 = x + x;\n    const y2 = y + y;\n    const z2 = z + z;\n    const xx = x * x2;\n    const yx = y * x2;\n    const yy = y * y2;\n    const zx = z * x2;\n    const zy = z * y2;\n    const zz = z * z2;\n    const wx = w * x2;\n    const wy = w * y2;\n    const wz = w * z2;\n    dst[0] = 1 - yy - zz;\n    dst[1] = yx + wz;\n    dst[2] = zx - wy;\n    dst[3] = 0;\n    dst[4] = yx - wz;\n    dst[5] = 1 - xx - zz;\n    dst[6] = zy + wx;\n    dst[7] = 0;\n    dst[8] = zx + wy;\n    dst[9] = zy - wx;\n    dst[10] = 1 - xx - yy;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Negates a matrix.\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns -m.\n */\nfunction negate$1(m, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = -m[0];\n    dst[1] = -m[1];\n    dst[2] = -m[2];\n    dst[3] = -m[3];\n    dst[4] = -m[4];\n    dst[5] = -m[5];\n    dst[6] = -m[6];\n    dst[7] = -m[7];\n    dst[8] = -m[8];\n    dst[9] = -m[9];\n    dst[10] = -m[10];\n    dst[11] = -m[11];\n    dst[12] = -m[12];\n    dst[13] = -m[13];\n    dst[14] = -m[14];\n    dst[15] = -m[15];\n    return dst;\n}\n/**\n * Copies a matrix. (same as {@link mat4.clone})\n * Also see {@link mat4.create} and {@link mat4.set}\n * @param m - The matrix.\n * @param dst - The matrix. If not passed a new one is created.\n * @returns A copy of m.\n */\nfunction copy$2(m, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = m[0];\n    dst[1] = m[1];\n    dst[2] = m[2];\n    dst[3] = m[3];\n    dst[4] = m[4];\n    dst[5] = m[5];\n    dst[6] = m[6];\n    dst[7] = m[7];\n    dst[8] = m[8];\n    dst[9] = m[9];\n    dst[10] = m[10];\n    dst[11] = m[11];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n    return dst;\n}\n/**\n * Copies a matrix (same as {@link mat4.copy})\n * Also see {@link mat4.create} and {@link mat4.set}\n * @param m - The matrix.\n * @param dst - The matrix. If not passed a new one is created.\n * @returns A copy of m.\n */\nconst clone$2 = copy$2;\n/**\n * Check if 2 matrices are approximately equal\n * @param a - Operand matrix.\n * @param b - Operand matrix.\n * @returns true if matrices are approximately equal\n */\nfunction equalsApproximately$2(a, b) {\n    return Math.abs(a[0] - b[0]) < EPSILON &&\n        Math.abs(a[1] - b[1]) < EPSILON &&\n        Math.abs(a[2] - b[2]) < EPSILON &&\n        Math.abs(a[3] - b[3]) < EPSILON &&\n        Math.abs(a[4] - b[4]) < EPSILON &&\n        Math.abs(a[5] - b[5]) < EPSILON &&\n        Math.abs(a[6] - b[6]) < EPSILON &&\n        Math.abs(a[7] - b[7]) < EPSILON &&\n        Math.abs(a[8] - b[8]) < EPSILON &&\n        Math.abs(a[9] - b[9]) < EPSILON &&\n        Math.abs(a[10] - b[10]) < EPSILON &&\n        Math.abs(a[11] - b[11]) < EPSILON &&\n        Math.abs(a[12] - b[12]) < EPSILON &&\n        Math.abs(a[13] - b[13]) < EPSILON &&\n        Math.abs(a[14] - b[14]) < EPSILON &&\n        Math.abs(a[15] - b[15]) < EPSILON;\n}\n/**\n * Check if 2 matrices are exactly equal\n * @param a - Operand matrix.\n * @param b - Operand matrix.\n * @returns true if matrices are exactly equal\n */\nfunction equals$2(a, b) {\n    return a[0] === b[0] &&\n        a[1] === b[1] &&\n        a[2] === b[2] &&\n        a[3] === b[3] &&\n        a[4] === b[4] &&\n        a[5] === b[5] &&\n        a[6] === b[6] &&\n        a[7] === b[7] &&\n        a[8] === b[8] &&\n        a[9] === b[9] &&\n        a[10] === b[10] &&\n        a[11] === b[11] &&\n        a[12] === b[12] &&\n        a[13] === b[13] &&\n        a[14] === b[14] &&\n        a[15] === b[15];\n}\n/**\n * Creates a 4-by-4 identity matrix.\n *\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns A 4-by-4 identity matrix.\n */\nfunction identity$1(dst) {\n    dst = dst || new MatType(16);\n    dst[0] = 1;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = 1;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Takes the transpose of a matrix.\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The transpose of m.\n */\nfunction transpose(m, dst) {\n    dst = dst || new MatType(16);\n    if (dst === m) {\n        let t;\n        t = m[1];\n        m[1] = m[4];\n        m[4] = t;\n        t = m[2];\n        m[2] = m[8];\n        m[8] = t;\n        t = m[3];\n        m[3] = m[12];\n        m[12] = t;\n        t = m[6];\n        m[6] = m[9];\n        m[9] = t;\n        t = m[7];\n        m[7] = m[13];\n        m[13] = t;\n        t = m[11];\n        m[11] = m[14];\n        m[14] = t;\n        return dst;\n    }\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m03 = m[0 * 4 + 3];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m13 = m[1 * 4 + 3];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    const m23 = m[2 * 4 + 3];\n    const m30 = m[3 * 4 + 0];\n    const m31 = m[3 * 4 + 1];\n    const m32 = m[3 * 4 + 2];\n    const m33 = m[3 * 4 + 3];\n    dst[0] = m00;\n    dst[1] = m10;\n    dst[2] = m20;\n    dst[3] = m30;\n    dst[4] = m01;\n    dst[5] = m11;\n    dst[6] = m21;\n    dst[7] = m31;\n    dst[8] = m02;\n    dst[9] = m12;\n    dst[10] = m22;\n    dst[11] = m32;\n    dst[12] = m03;\n    dst[13] = m13;\n    dst[14] = m23;\n    dst[15] = m33;\n    return dst;\n}\n/**\n * Computes the inverse of a 4-by-4 matrix.\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The inverse of m.\n */\nfunction inverse$2(m, dst) {\n    dst = dst || new MatType(16);\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m03 = m[0 * 4 + 3];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m13 = m[1 * 4 + 3];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    const m23 = m[2 * 4 + 3];\n    const m30 = m[3 * 4 + 0];\n    const m31 = m[3 * 4 + 1];\n    const m32 = m[3 * 4 + 2];\n    const m33 = m[3 * 4 + 3];\n    const tmp0 = m22 * m33;\n    const tmp1 = m32 * m23;\n    const tmp2 = m12 * m33;\n    const tmp3 = m32 * m13;\n    const tmp4 = m12 * m23;\n    const tmp5 = m22 * m13;\n    const tmp6 = m02 * m33;\n    const tmp7 = m32 * m03;\n    const tmp8 = m02 * m23;\n    const tmp9 = m22 * m03;\n    const tmp10 = m02 * m13;\n    const tmp11 = m12 * m03;\n    const tmp12 = m20 * m31;\n    const tmp13 = m30 * m21;\n    const tmp14 = m10 * m31;\n    const tmp15 = m30 * m11;\n    const tmp16 = m10 * m21;\n    const tmp17 = m20 * m11;\n    const tmp18 = m00 * m31;\n    const tmp19 = m30 * m01;\n    const tmp20 = m00 * m21;\n    const tmp21 = m20 * m01;\n    const tmp22 = m00 * m11;\n    const tmp23 = m10 * m01;\n    const t0 = (tmp0 * m11 + tmp3 * m21 + tmp4 * m31) -\n        (tmp1 * m11 + tmp2 * m21 + tmp5 * m31);\n    const t1 = (tmp1 * m01 + tmp6 * m21 + tmp9 * m31) -\n        (tmp0 * m01 + tmp7 * m21 + tmp8 * m31);\n    const t2 = (tmp2 * m01 + tmp7 * m11 + tmp10 * m31) -\n        (tmp3 * m01 + tmp6 * m11 + tmp11 * m31);\n    const t3 = (tmp5 * m01 + tmp8 * m11 + tmp11 * m21) -\n        (tmp4 * m01 + tmp9 * m11 + tmp10 * m21);\n    const d = 1 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\n    dst[0] = d * t0;\n    dst[1] = d * t1;\n    dst[2] = d * t2;\n    dst[3] = d * t3;\n    dst[4] = d * ((tmp1 * m10 + tmp2 * m20 + tmp5 * m30) -\n        (tmp0 * m10 + tmp3 * m20 + tmp4 * m30));\n    dst[5] = d * ((tmp0 * m00 + tmp7 * m20 + tmp8 * m30) -\n        (tmp1 * m00 + tmp6 * m20 + tmp9 * m30));\n    dst[6] = d * ((tmp3 * m00 + tmp6 * m10 + tmp11 * m30) -\n        (tmp2 * m00 + tmp7 * m10 + tmp10 * m30));\n    dst[7] = d * ((tmp4 * m00 + tmp9 * m10 + tmp10 * m20) -\n        (tmp5 * m00 + tmp8 * m10 + tmp11 * m20));\n    dst[8] = d * ((tmp12 * m13 + tmp15 * m23 + tmp16 * m33) -\n        (tmp13 * m13 + tmp14 * m23 + tmp17 * m33));\n    dst[9] = d * ((tmp13 * m03 + tmp18 * m23 + tmp21 * m33) -\n        (tmp12 * m03 + tmp19 * m23 + tmp20 * m33));\n    dst[10] = d * ((tmp14 * m03 + tmp19 * m13 + tmp22 * m33) -\n        (tmp15 * m03 + tmp18 * m13 + tmp23 * m33));\n    dst[11] = d * ((tmp17 * m03 + tmp20 * m13 + tmp23 * m23) -\n        (tmp16 * m03 + tmp21 * m13 + tmp22 * m23));\n    dst[12] = d * ((tmp14 * m22 + tmp17 * m32 + tmp13 * m12) -\n        (tmp16 * m32 + tmp12 * m12 + tmp15 * m22));\n    dst[13] = d * ((tmp20 * m32 + tmp12 * m02 + tmp19 * m22) -\n        (tmp18 * m22 + tmp21 * m32 + tmp13 * m02));\n    dst[14] = d * ((tmp18 * m12 + tmp23 * m32 + tmp15 * m02) -\n        (tmp22 * m32 + tmp14 * m02 + tmp19 * m12));\n    dst[15] = d * ((tmp22 * m22 + tmp16 * m02 + tmp21 * m12) -\n        (tmp20 * m12 + tmp23 * m22 + tmp17 * m02));\n    return dst;\n}\n/**\n * Compute the determinant of a matrix\n * @param m - the matrix\n * @returns the determinant\n */\nfunction determinant(m) {\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m03 = m[0 * 4 + 3];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m13 = m[1 * 4 + 3];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    const m23 = m[2 * 4 + 3];\n    const m30 = m[3 * 4 + 0];\n    const m31 = m[3 * 4 + 1];\n    const m32 = m[3 * 4 + 2];\n    const m33 = m[3 * 4 + 3];\n    const tmp0 = m22 * m33;\n    const tmp1 = m32 * m23;\n    const tmp2 = m12 * m33;\n    const tmp3 = m32 * m13;\n    const tmp4 = m12 * m23;\n    const tmp5 = m22 * m13;\n    const tmp6 = m02 * m33;\n    const tmp7 = m32 * m03;\n    const tmp8 = m02 * m23;\n    const tmp9 = m22 * m03;\n    const tmp10 = m02 * m13;\n    const tmp11 = m12 * m03;\n    const t0 = (tmp0 * m11 + tmp3 * m21 + tmp4 * m31) -\n        (tmp1 * m11 + tmp2 * m21 + tmp5 * m31);\n    const t1 = (tmp1 * m01 + tmp6 * m21 + tmp9 * m31) -\n        (tmp0 * m01 + tmp7 * m21 + tmp8 * m31);\n    const t2 = (tmp2 * m01 + tmp7 * m11 + tmp10 * m31) -\n        (tmp3 * m01 + tmp6 * m11 + tmp11 * m31);\n    const t3 = (tmp5 * m01 + tmp8 * m11 + tmp11 * m21) -\n        (tmp4 * m01 + tmp9 * m11 + tmp10 * m21);\n    return m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3;\n}\n/**\n * Computes the inverse of a 4-by-4 matrix. (same as inverse)\n * @param m - The matrix.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The inverse of m.\n */\nconst invert$1 = inverse$2;\n/**\n * Multiplies two 4-by-4 matrices with a on the left and b on the right\n * @param a - The matrix on the left.\n * @param b - The matrix on the right.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The matrix product of a and b.\n */\nfunction multiply$2(a, b, dst) {\n    dst = dst || new MatType(16);\n    const a00 = a[0];\n    const a01 = a[1];\n    const a02 = a[2];\n    const a03 = a[3];\n    const a10 = a[4 + 0];\n    const a11 = a[4 + 1];\n    const a12 = a[4 + 2];\n    const a13 = a[4 + 3];\n    const a20 = a[8 + 0];\n    const a21 = a[8 + 1];\n    const a22 = a[8 + 2];\n    const a23 = a[8 + 3];\n    const a30 = a[12 + 0];\n    const a31 = a[12 + 1];\n    const a32 = a[12 + 2];\n    const a33 = a[12 + 3];\n    const b00 = b[0];\n    const b01 = b[1];\n    const b02 = b[2];\n    const b03 = b[3];\n    const b10 = b[4 + 0];\n    const b11 = b[4 + 1];\n    const b12 = b[4 + 2];\n    const b13 = b[4 + 3];\n    const b20 = b[8 + 0];\n    const b21 = b[8 + 1];\n    const b22 = b[8 + 2];\n    const b23 = b[8 + 3];\n    const b30 = b[12 + 0];\n    const b31 = b[12 + 1];\n    const b32 = b[12 + 2];\n    const b33 = b[12 + 3];\n    dst[0] = a00 * b00 + a10 * b01 + a20 * b02 + a30 * b03;\n    dst[1] = a01 * b00 + a11 * b01 + a21 * b02 + a31 * b03;\n    dst[2] = a02 * b00 + a12 * b01 + a22 * b02 + a32 * b03;\n    dst[3] = a03 * b00 + a13 * b01 + a23 * b02 + a33 * b03;\n    dst[4] = a00 * b10 + a10 * b11 + a20 * b12 + a30 * b13;\n    dst[5] = a01 * b10 + a11 * b11 + a21 * b12 + a31 * b13;\n    dst[6] = a02 * b10 + a12 * b11 + a22 * b12 + a32 * b13;\n    dst[7] = a03 * b10 + a13 * b11 + a23 * b12 + a33 * b13;\n    dst[8] = a00 * b20 + a10 * b21 + a20 * b22 + a30 * b23;\n    dst[9] = a01 * b20 + a11 * b21 + a21 * b22 + a31 * b23;\n    dst[10] = a02 * b20 + a12 * b21 + a22 * b22 + a32 * b23;\n    dst[11] = a03 * b20 + a13 * b21 + a23 * b22 + a33 * b23;\n    dst[12] = a00 * b30 + a10 * b31 + a20 * b32 + a30 * b33;\n    dst[13] = a01 * b30 + a11 * b31 + a21 * b32 + a31 * b33;\n    dst[14] = a02 * b30 + a12 * b31 + a22 * b32 + a32 * b33;\n    dst[15] = a03 * b30 + a13 * b31 + a23 * b32 + a33 * b33;\n    return dst;\n}\n/**\n * Multiplies two 4-by-4 matrices with a on the left and b on the right (same as multiply)\n * @param a - The matrix on the left.\n * @param b - The matrix on the right.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The matrix product of a and b.\n */\nconst mul$2 = multiply$2;\n/**\n * Sets the translation component of a 4-by-4 matrix to the given\n * vector.\n * @param a - The matrix.\n * @param v - The vector.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The matrix with translation set.\n */\nfunction setTranslation(a, v, dst) {\n    dst = dst || identity$1();\n    if (a !== dst) {\n        dst[0] = a[0];\n        dst[1] = a[1];\n        dst[2] = a[2];\n        dst[3] = a[3];\n        dst[4] = a[4];\n        dst[5] = a[5];\n        dst[6] = a[6];\n        dst[7] = a[7];\n        dst[8] = a[8];\n        dst[9] = a[9];\n        dst[10] = a[10];\n        dst[11] = a[11];\n    }\n    dst[12] = v[0];\n    dst[13] = v[1];\n    dst[14] = v[2];\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Returns the translation component of a 4-by-4 matrix as a vector with 3\n * entries.\n * @param m - The matrix.\n * @param dst - vector to hold result. If not passed a new one is created.\n * @returns The translation component of m.\n */\nfunction getTranslation(m, dst) {\n    dst = dst || create$3();\n    dst[0] = m[12];\n    dst[1] = m[13];\n    dst[2] = m[14];\n    return dst;\n}\n/**\n * Returns an axis of a 4x4 matrix as a vector with 3 entries\n * @param m - The matrix.\n * @param axis - The axis 0 = x, 1 = y, 2 = z;\n * @returns The axis component of m.\n */\nfunction getAxis(m, axis, dst) {\n    dst = dst || create$3();\n    const off = axis * 4;\n    dst[0] = m[off + 0];\n    dst[1] = m[off + 1];\n    dst[2] = m[off + 2];\n    return dst;\n}\n/**\n * Sets an axis of a 4x4 matrix as a vector with 3 entries\n * @param m - The matrix.\n * @param v - the axis vector\n * @param axis - The axis  0 = x, 1 = y, 2 = z;\n * @param dst - The matrix to set. If not passed a new one is created.\n * @returns The matrix with axis set.\n */\nfunction setAxis(a, v, axis, dst) {\n    if (dst !== a) {\n        dst = copy$2(a, dst);\n    }\n    const off = axis * 4;\n    dst[off + 0] = v[0];\n    dst[off + 1] = v[1];\n    dst[off + 2] = v[2];\n    return dst;\n}\n/**\n * Returns the scaling component of the matrix\n * @param m - The Matrix\n * @param dst - The vector to set. If not passed a new one is created.\n */\nfunction getScaling(m, dst) {\n    dst = dst || create$3();\n    const xx = m[0];\n    const xy = m[1];\n    const xz = m[2];\n    const yx = m[4];\n    const yy = m[5];\n    const yz = m[6];\n    const zx = m[8];\n    const zy = m[9];\n    const zz = m[10];\n    dst[0] = Math.sqrt(xx * xx + xy * xy + xz * xz);\n    dst[1] = Math.sqrt(yx * yx + yy * yy + yz * yz);\n    dst[2] = Math.sqrt(zx * zx + zy * zy + zz * zz);\n    return dst;\n}\n/**\n * Computes a 4-by-4 perspective transformation matrix given the angular height\n * of the frustum, the aspect ratio, and the near and far clipping planes.  The\n * arguments define a frustum extending in the negative z direction.  The given\n * angle is the vertical angle of the frustum, and the horizontal angle is\n * determined to produce the given aspect ratio.  The arguments near and far are\n * the distances to the near and far clipping planes.  Note that near and far\n * are not z coordinates, but rather they are distances along the negative\n * z-axis.  The matrix generated sends the viewing frustum to the unit box.\n * We assume a unit box extending from -1 to 1 in the x and y dimensions and\n * from 0 to 1 in the z dimension.\n *\n * Note: If you pass `Infinity` for zFar then it will produce a projection matrix\n * returns -Infinity for Z when transforming coordinates with Z <= 0 and +Infinity for Z\n * otherwise.\n *\n * @param fieldOfViewYInRadians - The camera angle from top to bottom (in radians).\n * @param aspect - The aspect ratio width / height.\n * @param zNear - The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param zFar - The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The perspective matrix.\n */\nfunction perspective(fieldOfViewYInRadians, aspect, zNear, zFar, dst) {\n    dst = dst || new MatType(16);\n    const f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewYInRadians);\n    dst[0] = f / aspect;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = f;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[11] = -1;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[15] = 0;\n    if (zFar === Infinity) {\n        dst[10] = -1;\n        dst[14] = -zNear;\n    }\n    else {\n        const rangeInv = 1 / (zNear - zFar);\n        dst[10] = zFar * rangeInv;\n        dst[14] = zFar * zNear * rangeInv;\n    }\n    return dst;\n}\n/**\n * Computes a 4-by-4 orthogonal transformation matrix that transforms from\n * the given the left, right, bottom, and top dimensions to -1 +1 in x, and y\n * and 0 to +1 in z.\n * @param left - Left side of the near clipping plane viewport.\n * @param right - Right side of the near clipping plane viewport.\n * @param bottom - Bottom of the near clipping plane viewport.\n * @param top - Top of the near clipping plane viewport.\n * @param near - The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param far - The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param dst - Output matrix. If not passed a new one is created.\n * @returns The orthographic projection matrix.\n */\nfunction ortho(left, right, bottom, top, near, far, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = 2 / (right - left);\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = 2 / (top - bottom);\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1 / (near - far);\n    dst[11] = 0;\n    dst[12] = (right + left) / (left - right);\n    dst[13] = (top + bottom) / (bottom - top);\n    dst[14] = near / (near - far);\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Computes a 4-by-4 perspective transformation matrix given the left, right,\n * top, bottom, near and far clipping planes. The arguments define a frustum\n * extending in the negative z direction. The arguments near and far are the\n * distances to the near and far clipping planes. Note that near and far are not\n * z coordinates, but rather they are distances along the negative z-axis. The\n * matrix generated sends the viewing frustum to the unit box. We assume a unit\n * box extending from -1 to 1 in the x and y dimensions and from 0 to 1 in the z\n * dimension.\n * @param left - The x coordinate of the left plane of the box.\n * @param right - The x coordinate of the right plane of the box.\n * @param bottom - The y coordinate of the bottom plane of the box.\n * @param top - The y coordinate of the right plane of the box.\n * @param near - The negative z coordinate of the near plane of the box.\n * @param far - The negative z coordinate of the far plane of the box.\n * @param dst - Output matrix. If not passed a new one is created.\n * @returns The perspective projection matrix.\n */\nfunction frustum(left, right, bottom, top, near, far, dst) {\n    dst = dst || new MatType(16);\n    const dx = (right - left);\n    const dy = (top - bottom);\n    const dz = (near - far);\n    dst[0] = 2 * near / dx;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = 2 * near / dy;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = (left + right) / dx;\n    dst[9] = (top + bottom) / dy;\n    dst[10] = far / dz;\n    dst[11] = -1;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = near * far / dz;\n    dst[15] = 0;\n    return dst;\n}\nlet xAxis;\nlet yAxis;\nlet zAxis;\n/**\n * Computes a 4-by-4 aim transformation.\n *\n * This is a matrix which positions an object aiming down positive Z.\n * toward the target.\n *\n * Note: this is **NOT** the inverse of lookAt as lookAt looks at negative Z.\n *\n * @param position - The position of the object.\n * @param target - The position meant to be aimed at.\n * @param up - A vector pointing up.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The aim matrix.\n */\nfunction aim(position, target, up, dst) {\n    dst = dst || new MatType(16);\n    xAxis = xAxis || create$3();\n    yAxis = yAxis || create$3();\n    zAxis = zAxis || create$3();\n    normalize$2(subtract$2(target, position, zAxis), zAxis);\n    normalize$2(cross(up, zAxis, xAxis), xAxis);\n    normalize$2(cross(zAxis, xAxis, yAxis), yAxis);\n    dst[0] = xAxis[0];\n    dst[1] = xAxis[1];\n    dst[2] = xAxis[2];\n    dst[3] = 0;\n    dst[4] = yAxis[0];\n    dst[5] = yAxis[1];\n    dst[6] = yAxis[2];\n    dst[7] = 0;\n    dst[8] = zAxis[0];\n    dst[9] = zAxis[1];\n    dst[10] = zAxis[2];\n    dst[11] = 0;\n    dst[12] = position[0];\n    dst[13] = position[1];\n    dst[14] = position[2];\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Computes a 4-by-4 camera aim transformation.\n *\n * This is a matrix which positions an object aiming down negative Z.\n * toward the target.\n *\n * Note: this is the inverse of `lookAt`\n *\n * @param eye - The position of the object.\n * @param target - The position meant to be aimed at.\n * @param up - A vector pointing up.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The aim matrix.\n */\nfunction cameraAim(eye, target, up, dst) {\n    dst = dst || new MatType(16);\n    xAxis = xAxis || create$3();\n    yAxis = yAxis || create$3();\n    zAxis = zAxis || create$3();\n    normalize$2(subtract$2(eye, target, zAxis), zAxis);\n    normalize$2(cross(up, zAxis, xAxis), xAxis);\n    normalize$2(cross(zAxis, xAxis, yAxis), yAxis);\n    dst[0] = xAxis[0];\n    dst[1] = xAxis[1];\n    dst[2] = xAxis[2];\n    dst[3] = 0;\n    dst[4] = yAxis[0];\n    dst[5] = yAxis[1];\n    dst[6] = yAxis[2];\n    dst[7] = 0;\n    dst[8] = zAxis[0];\n    dst[9] = zAxis[1];\n    dst[10] = zAxis[2];\n    dst[11] = 0;\n    dst[12] = eye[0];\n    dst[13] = eye[1];\n    dst[14] = eye[2];\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Computes a 4-by-4 view transformation.\n *\n * This is a view matrix which transforms all other objects\n * to be in the space of the view defined by the parameters.\n *\n * @param eye - The position of the object.\n * @param target - The position meant to be aimed at.\n * @param up - A vector pointing up.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The look-at matrix.\n */\nfunction lookAt(eye, target, up, dst) {\n    dst = dst || new MatType(16);\n    xAxis = xAxis || create$3();\n    yAxis = yAxis || create$3();\n    zAxis = zAxis || create$3();\n    normalize$2(subtract$2(eye, target, zAxis), zAxis);\n    normalize$2(cross(up, zAxis, xAxis), xAxis);\n    normalize$2(cross(zAxis, xAxis, yAxis), yAxis);\n    dst[0] = xAxis[0];\n    dst[1] = yAxis[0];\n    dst[2] = zAxis[0];\n    dst[3] = 0;\n    dst[4] = xAxis[1];\n    dst[5] = yAxis[1];\n    dst[6] = zAxis[1];\n    dst[7] = 0;\n    dst[8] = xAxis[2];\n    dst[9] = yAxis[2];\n    dst[10] = zAxis[2];\n    dst[11] = 0;\n    dst[12] = -(xAxis[0] * eye[0] + xAxis[1] * eye[1] + xAxis[2] * eye[2]);\n    dst[13] = -(yAxis[0] * eye[0] + yAxis[1] * eye[1] + yAxis[2] * eye[2]);\n    dst[14] = -(zAxis[0] * eye[0] + zAxis[1] * eye[1] + zAxis[2] * eye[2]);\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which translates by the given vector v.\n * @param v - The vector by\n *     which to translate.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The translation matrix.\n */\nfunction translation(v, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = 1;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = 1;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    dst[11] = 0;\n    dst[12] = v[0];\n    dst[13] = v[1];\n    dst[14] = v[2];\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Translates the given 4-by-4 matrix by the given vector v.\n * @param m - The matrix.\n * @param v - The vector by\n *     which to translate.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The translated matrix.\n */\nfunction translate(m, v, dst) {\n    dst = dst || new MatType(16);\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const m00 = m[0];\n    const m01 = m[1];\n    const m02 = m[2];\n    const m03 = m[3];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m13 = m[1 * 4 + 3];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    const m23 = m[2 * 4 + 3];\n    const m30 = m[3 * 4 + 0];\n    const m31 = m[3 * 4 + 1];\n    const m32 = m[3 * 4 + 2];\n    const m33 = m[3 * 4 + 3];\n    if (m !== dst) {\n        dst[0] = m00;\n        dst[1] = m01;\n        dst[2] = m02;\n        dst[3] = m03;\n        dst[4] = m10;\n        dst[5] = m11;\n        dst[6] = m12;\n        dst[7] = m13;\n        dst[8] = m20;\n        dst[9] = m21;\n        dst[10] = m22;\n        dst[11] = m23;\n    }\n    dst[12] = m00 * v0 + m10 * v1 + m20 * v2 + m30;\n    dst[13] = m01 * v0 + m11 * v1 + m21 * v2 + m31;\n    dst[14] = m02 * v0 + m12 * v1 + m22 * v2 + m32;\n    dst[15] = m03 * v0 + m13 * v1 + m23 * v2 + m33;\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the x-axis by the given angle.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotation matrix.\n */\nfunction rotationX(angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = 1;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = c;\n    dst[6] = s;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = -s;\n    dst[10] = c;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Rotates the given 4-by-4 matrix around the x-axis by the given\n * angle.\n * @param m - The matrix.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotated matrix.\n */\nfunction rotateX$1(m, angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    const m10 = m[4];\n    const m11 = m[5];\n    const m12 = m[6];\n    const m13 = m[7];\n    const m20 = m[8];\n    const m21 = m[9];\n    const m22 = m[10];\n    const m23 = m[11];\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[4] = c * m10 + s * m20;\n    dst[5] = c * m11 + s * m21;\n    dst[6] = c * m12 + s * m22;\n    dst[7] = c * m13 + s * m23;\n    dst[8] = c * m20 - s * m10;\n    dst[9] = c * m21 - s * m11;\n    dst[10] = c * m22 - s * m12;\n    dst[11] = c * m23 - s * m13;\n    if (m !== dst) {\n        dst[0] = m[0];\n        dst[1] = m[1];\n        dst[2] = m[2];\n        dst[3] = m[3];\n        dst[12] = m[12];\n        dst[13] = m[13];\n        dst[14] = m[14];\n        dst[15] = m[15];\n    }\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the y-axis by the given angle.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotation matrix.\n */\nfunction rotationY(angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = c;\n    dst[1] = 0;\n    dst[2] = -s;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = 1;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = s;\n    dst[9] = 0;\n    dst[10] = c;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Rotates the given 4-by-4 matrix around the y-axis by the given\n * angle.\n * @param m - The matrix.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotated matrix.\n */\nfunction rotateY$1(m, angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m03 = m[0 * 4 + 3];\n    const m20 = m[2 * 4 + 0];\n    const m21 = m[2 * 4 + 1];\n    const m22 = m[2 * 4 + 2];\n    const m23 = m[2 * 4 + 3];\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = c * m00 - s * m20;\n    dst[1] = c * m01 - s * m21;\n    dst[2] = c * m02 - s * m22;\n    dst[3] = c * m03 - s * m23;\n    dst[8] = c * m20 + s * m00;\n    dst[9] = c * m21 + s * m01;\n    dst[10] = c * m22 + s * m02;\n    dst[11] = c * m23 + s * m03;\n    if (m !== dst) {\n        dst[4] = m[4];\n        dst[5] = m[5];\n        dst[6] = m[6];\n        dst[7] = m[7];\n        dst[12] = m[12];\n        dst[13] = m[13];\n        dst[14] = m[14];\n        dst[15] = m[15];\n    }\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the z-axis by the given angle.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotation matrix.\n */\nfunction rotationZ(angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = c;\n    dst[1] = s;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = -s;\n    dst[5] = c;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = 1;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Rotates the given 4-by-4 matrix around the z-axis by the given\n * angle.\n * @param m - The matrix.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotated matrix.\n */\nfunction rotateZ$1(m, angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    const m00 = m[0 * 4 + 0];\n    const m01 = m[0 * 4 + 1];\n    const m02 = m[0 * 4 + 2];\n    const m03 = m[0 * 4 + 3];\n    const m10 = m[1 * 4 + 0];\n    const m11 = m[1 * 4 + 1];\n    const m12 = m[1 * 4 + 2];\n    const m13 = m[1 * 4 + 3];\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    dst[0] = c * m00 + s * m10;\n    dst[1] = c * m01 + s * m11;\n    dst[2] = c * m02 + s * m12;\n    dst[3] = c * m03 + s * m13;\n    dst[4] = c * m10 - s * m00;\n    dst[5] = c * m11 - s * m01;\n    dst[6] = c * m12 - s * m02;\n    dst[7] = c * m13 - s * m03;\n    if (m !== dst) {\n        dst[8] = m[8];\n        dst[9] = m[9];\n        dst[10] = m[10];\n        dst[11] = m[11];\n        dst[12] = m[12];\n        dst[13] = m[13];\n        dst[14] = m[14];\n        dst[15] = m[15];\n    }\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the given axis by the given\n * angle.\n * @param axis - The axis\n *     about which to rotate.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns A matrix which rotates angle radians\n *     around the axis.\n */\nfunction axisRotation(axis, angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    let x = axis[0];\n    let y = axis[1];\n    let z = axis[2];\n    const n = Math.sqrt(x * x + y * y + z * z);\n    x /= n;\n    y /= n;\n    z /= n;\n    const xx = x * x;\n    const yy = y * y;\n    const zz = z * z;\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    const oneMinusCosine = 1 - c;\n    dst[0] = xx + (1 - xx) * c;\n    dst[1] = x * y * oneMinusCosine + z * s;\n    dst[2] = x * z * oneMinusCosine - y * s;\n    dst[3] = 0;\n    dst[4] = x * y * oneMinusCosine - z * s;\n    dst[5] = yy + (1 - yy) * c;\n    dst[6] = y * z * oneMinusCosine + x * s;\n    dst[7] = 0;\n    dst[8] = x * z * oneMinusCosine + y * s;\n    dst[9] = y * z * oneMinusCosine - x * s;\n    dst[10] = zz + (1 - zz) * c;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which rotates around the given axis by the given\n * angle. (same as axisRotation)\n * @param axis - The axis\n *     about which to rotate.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns A matrix which rotates angle radians\n *     around the axis.\n */\nconst rotation = axisRotation;\n/**\n * Rotates the given 4-by-4 matrix around the given axis by the\n * given angle.\n * @param m - The matrix.\n * @param axis - The axis\n *     about which to rotate.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotated matrix.\n */\nfunction axisRotate(m, axis, angleInRadians, dst) {\n    dst = dst || new MatType(16);\n    let x = axis[0];\n    let y = axis[1];\n    let z = axis[2];\n    const n = Math.sqrt(x * x + y * y + z * z);\n    x /= n;\n    y /= n;\n    z /= n;\n    const xx = x * x;\n    const yy = y * y;\n    const zz = z * z;\n    const c = Math.cos(angleInRadians);\n    const s = Math.sin(angleInRadians);\n    const oneMinusCosine = 1 - c;\n    const r00 = xx + (1 - xx) * c;\n    const r01 = x * y * oneMinusCosine + z * s;\n    const r02 = x * z * oneMinusCosine - y * s;\n    const r10 = x * y * oneMinusCosine - z * s;\n    const r11 = yy + (1 - yy) * c;\n    const r12 = y * z * oneMinusCosine + x * s;\n    const r20 = x * z * oneMinusCosine + y * s;\n    const r21 = y * z * oneMinusCosine - x * s;\n    const r22 = zz + (1 - zz) * c;\n    const m00 = m[0];\n    const m01 = m[1];\n    const m02 = m[2];\n    const m03 = m[3];\n    const m10 = m[4];\n    const m11 = m[5];\n    const m12 = m[6];\n    const m13 = m[7];\n    const m20 = m[8];\n    const m21 = m[9];\n    const m22 = m[10];\n    const m23 = m[11];\n    dst[0] = r00 * m00 + r01 * m10 + r02 * m20;\n    dst[1] = r00 * m01 + r01 * m11 + r02 * m21;\n    dst[2] = r00 * m02 + r01 * m12 + r02 * m22;\n    dst[3] = r00 * m03 + r01 * m13 + r02 * m23;\n    dst[4] = r10 * m00 + r11 * m10 + r12 * m20;\n    dst[5] = r10 * m01 + r11 * m11 + r12 * m21;\n    dst[6] = r10 * m02 + r11 * m12 + r12 * m22;\n    dst[7] = r10 * m03 + r11 * m13 + r12 * m23;\n    dst[8] = r20 * m00 + r21 * m10 + r22 * m20;\n    dst[9] = r20 * m01 + r21 * m11 + r22 * m21;\n    dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\n    dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\n    if (m !== dst) {\n        dst[12] = m[12];\n        dst[13] = m[13];\n        dst[14] = m[14];\n        dst[15] = m[15];\n    }\n    return dst;\n}\n/**\n * Rotates the given 4-by-4 matrix around the given axis by the\n * given angle. (same as rotate)\n * @param m - The matrix.\n * @param axis - The axis\n *     about which to rotate.\n * @param angleInRadians - The angle by which to rotate (in radians).\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The rotated matrix.\n */\nconst rotate = axisRotate;\n/**\n * Creates a 4-by-4 matrix which scales in each dimension by an amount given by\n * the corresponding entry in the given vector; assumes the vector has three\n * entries.\n * @param v - A vector of\n *     three entries specifying the factor by which to scale in each dimension.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaling matrix.\n */\nfunction scaling(v, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = v[0];\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = v[1];\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = v[2];\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Scales the given 4-by-4 matrix in each dimension by an amount\n * given by the corresponding entry in the given vector; assumes the vector has\n * three entries.\n * @param m - The matrix to be modified.\n * @param v - A vector of three entries specifying the\n *     factor by which to scale in each dimension.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaled matrix.\n */\nfunction scale$2(m, v, dst) {\n    dst = dst || new MatType(16);\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    dst[0] = v0 * m[0 * 4 + 0];\n    dst[1] = v0 * m[0 * 4 + 1];\n    dst[2] = v0 * m[0 * 4 + 2];\n    dst[3] = v0 * m[0 * 4 + 3];\n    dst[4] = v1 * m[1 * 4 + 0];\n    dst[5] = v1 * m[1 * 4 + 1];\n    dst[6] = v1 * m[1 * 4 + 2];\n    dst[7] = v1 * m[1 * 4 + 3];\n    dst[8] = v2 * m[2 * 4 + 0];\n    dst[9] = v2 * m[2 * 4 + 1];\n    dst[10] = v2 * m[2 * 4 + 2];\n    dst[11] = v2 * m[2 * 4 + 3];\n    if (m !== dst) {\n        dst[12] = m[12];\n        dst[13] = m[13];\n        dst[14] = m[14];\n        dst[15] = m[15];\n    }\n    return dst;\n}\n/**\n * Creates a 4-by-4 matrix which scales a uniform amount in each dimension.\n * @param s - the amount to scale\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaling matrix.\n */\nfunction uniformScaling(s, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = s;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    dst[4] = 0;\n    dst[5] = s;\n    dst[6] = 0;\n    dst[7] = 0;\n    dst[8] = 0;\n    dst[9] = 0;\n    dst[10] = s;\n    dst[11] = 0;\n    dst[12] = 0;\n    dst[13] = 0;\n    dst[14] = 0;\n    dst[15] = 1;\n    return dst;\n}\n/**\n * Scales the given 4-by-4 matrix in each dimension by a uniform scale.\n * @param m - The matrix to be modified.\n * @param s - The amount to scale.\n * @param dst - matrix to hold result. If not passed a new one is created.\n * @returns The scaled matrix.\n */\nfunction uniformScale(m, s, dst) {\n    dst = dst || new MatType(16);\n    dst[0] = s * m[0 * 4 + 0];\n    dst[1] = s * m[0 * 4 + 1];\n    dst[2] = s * m[0 * 4 + 2];\n    dst[3] = s * m[0 * 4 + 3];\n    dst[4] = s * m[1 * 4 + 0];\n    dst[5] = s * m[1 * 4 + 1];\n    dst[6] = s * m[1 * 4 + 2];\n    dst[7] = s * m[1 * 4 + 3];\n    dst[8] = s * m[2 * 4 + 0];\n    dst[9] = s * m[2 * 4 + 1];\n    dst[10] = s * m[2 * 4 + 2];\n    dst[11] = s * m[2 * 4 + 3];\n    if (m !== dst) {\n        dst[12] = m[12];\n        dst[13] = m[13];\n        dst[14] = m[14];\n        dst[15] = m[15];\n    }\n    return dst;\n}\n\nvar mat4Impl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setDefaultType: setDefaultType$3,\n    create: create$2,\n    set: set$2,\n    fromMat3: fromMat3,\n    fromQuat: fromQuat,\n    negate: negate$1,\n    copy: copy$2,\n    clone: clone$2,\n    equalsApproximately: equalsApproximately$2,\n    equals: equals$2,\n    identity: identity$1,\n    transpose: transpose,\n    inverse: inverse$2,\n    determinant: determinant,\n    invert: invert$1,\n    multiply: multiply$2,\n    mul: mul$2,\n    setTranslation: setTranslation,\n    getTranslation: getTranslation,\n    getAxis: getAxis,\n    setAxis: setAxis,\n    getScaling: getScaling,\n    perspective: perspective,\n    ortho: ortho,\n    frustum: frustum,\n    aim: aim,\n    cameraAim: cameraAim,\n    lookAt: lookAt,\n    translation: translation,\n    translate: translate,\n    rotationX: rotationX,\n    rotateX: rotateX$1,\n    rotationY: rotationY,\n    rotateY: rotateY$1,\n    rotationZ: rotationZ,\n    rotateZ: rotateZ$1,\n    axisRotation: axisRotation,\n    rotation: rotation,\n    axisRotate: axisRotate,\n    rotate: rotate,\n    scaling: scaling,\n    scale: scale$2,\n    uniformScaling: uniformScaling,\n    uniformScale: uniformScale\n});\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n *\n * Quat4 math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new `Quat4`. In other words you can do this\n *\n *     const v = quat4.cross(v1, v2);  // Creates a new Quat4 with the cross product of v1 x v2.\n *\n * or\n *\n *     const v = quat4.create();\n *     quat4.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always safe to pass any vector as the destination. So for example\n *\n *     quat4.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n */\nlet QuatType = Float32Array;\n/**\n * Sets the type this library creates for a Quat4\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n * @returns previous constructor for Quat4\n */\nfunction setDefaultType$2(ctor) {\n    const oldType = QuatType;\n    QuatType = ctor;\n    return oldType;\n}\n/**\n * Creates a quat4; may be called with x, y, z to set initial values.\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @param z - Initial z value.\n * @param w - Initial w value.\n * @returns the created vector\n */\nfunction create$1(x, y, z, w) {\n    const dst = new QuatType(4);\n    if (x !== undefined) {\n        dst[0] = x;\n        if (y !== undefined) {\n            dst[1] = y;\n            if (z !== undefined) {\n                dst[2] = z;\n                if (w !== undefined) {\n                    dst[3] = w;\n                }\n            }\n        }\n    }\n    return dst;\n}\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n * Creates a Quat; may be called with x, y, z to set initial values. (same as create)\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @param z - Initial z value.\n * @param z - Initial w value.\n * @returns the created vector\n */\nconst fromValues$1 = create$1;\n/**\n * Sets the values of a Quat\n * Also see {@link quat.create} and {@link quat.copy}\n *\n * @param x first value\n * @param y second value\n * @param z third value\n * @param w fourth value\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector with its elements set.\n */\nfunction set$1(x, y, z, w, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = x;\n    dst[1] = y;\n    dst[2] = z;\n    dst[3] = w;\n    return dst;\n}\n/**\n * Sets a quaternion from the given angle and  axis,\n * then returns it.\n *\n * @param axis - the axis to rotate around\n * @param angleInRadians - the angle\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The quaternion that represents the given axis and angle\n **/\nfunction fromAxisAngle(axis, angleInRadians, dst) {\n    dst = dst || new QuatType(4);\n    const halfAngle = angleInRadians * 0.5;\n    const s = Math.sin(halfAngle);\n    dst[0] = s * axis[0];\n    dst[1] = s * axis[1];\n    dst[2] = s * axis[2];\n    dst[3] = Math.cos(halfAngle);\n    return dst;\n}\n/**\n * Gets the rotation axis and angle\n * @param q - quaternion to compute from\n * @param dst - Vec3 to hold result. If not passed in a new one is created.\n * @return angle and axis\n */\nfunction toAxisAngle(q, dst) {\n    dst = dst || create$3(4);\n    const angle = Math.acos(q[3]) * 2;\n    const s = Math.sin(angle * 0.5);\n    if (s > EPSILON) {\n        dst[0] = q[0] / s;\n        dst[1] = q[1] / s;\n        dst[2] = q[2] / s;\n    }\n    else {\n        dst[0] = 1;\n        dst[1] = 0;\n        dst[2] = 0;\n    }\n    return { angle, axis: dst };\n}\n/**\n * Returns the angle in degrees between two rotations a and b.\n * @param a - quaternion a\n * @param b - quaternion b\n * @return angle in radians between the two quaternions\n */\nfunction angle(a, b) {\n    const d = dot$1(a, b);\n    return Math.acos(2 * d * d - 1);\n}\n/**\n * Multiplies two quaternions\n *\n * @param a - the first quaternion\n * @param b - the second quaternion\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the result of a * b\n */\nfunction multiply$1(a, b, dst) {\n    dst = dst || new QuatType(4);\n    const ax = a[0];\n    const ay = a[1];\n    const az = a[2];\n    const aw = a[3];\n    const bx = b[0];\n    const by = b[1];\n    const bz = b[2];\n    const bw = b[3];\n    dst[0] = ax * bw + aw * bx + ay * bz - az * by;\n    dst[1] = ay * bw + aw * by + az * bx - ax * bz;\n    dst[2] = az * bw + aw * bz + ax * by - ay * bx;\n    dst[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return dst;\n}\n/**\n * Multiplies two quaternions\n *\n * @param a - the first quaternion\n * @param b - the second quaternion\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the result of a * b\n */\nconst mul$1 = multiply$1;\n/**\n * Rotates the given quaternion around the X axis by the given angle.\n * @param q - quaternion to rotate\n * @param angleInRadians - The angle by which to rotate\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the result of a * b\n */\nfunction rotateX(q, angleInRadians, dst) {\n    dst = dst || new QuatType(4);\n    const halfAngle = angleInRadians * 0.5;\n    const qx = q[0];\n    const qy = q[1];\n    const qz = q[2];\n    const qw = q[3];\n    const bx = Math.sin(halfAngle);\n    const bw = Math.cos(halfAngle);\n    dst[0] = qx * bw + qw * bx;\n    dst[1] = qy * bw + qz * bx;\n    dst[2] = qz * bw - qy * bx;\n    dst[3] = qw * bw - qx * bx;\n    return dst;\n}\n/**\n * Rotates the given quaternion around the Y axis by the given angle.\n * @param q - quaternion to rotate\n * @param angleInRadians - The angle by which to rotate\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the result of a * b\n */\nfunction rotateY(q, angleInRadians, dst) {\n    dst = dst || new QuatType(4);\n    const halfAngle = angleInRadians * 0.5;\n    const qx = q[0];\n    const qy = q[1];\n    const qz = q[2];\n    const qw = q[3];\n    const by = Math.sin(halfAngle);\n    const bw = Math.cos(halfAngle);\n    dst[0] = qx * bw - qz * by;\n    dst[1] = qy * bw + qw * by;\n    dst[2] = qz * bw + qx * by;\n    dst[3] = qw * bw - qy * by;\n    return dst;\n}\n/**\n * Rotates the given quaternion around the Z axis by the given angle.\n * @param q - quaternion to rotate\n * @param angleInRadians - The angle by which to rotate\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the result of a * b\n */\nfunction rotateZ(q, angleInRadians, dst) {\n    dst = dst || new QuatType(4);\n    const halfAngle = angleInRadians * 0.5;\n    const qx = q[0];\n    const qy = q[1];\n    const qz = q[2];\n    const qw = q[3];\n    const bz = Math.sin(halfAngle);\n    const bw = Math.cos(halfAngle);\n    dst[0] = qx * bw + qy * bz;\n    dst[1] = qy * bw - qx * bz;\n    dst[2] = qz * bw + qw * bz;\n    dst[3] = qw * bw - qz * bz;\n    return dst;\n}\n/**\n * Spherically linear interpolate between two quaternions\n *\n * @param a - starting value\n * @param b - ending value\n * @param t - value where 0 = a and 1 = b\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the result of a * b\n */\nfunction slerp(a, b, t, dst) {\n    dst = dst || new QuatType(4);\n    const ax = a[0];\n    const ay = a[1];\n    const az = a[2];\n    const aw = a[3];\n    let bx = b[0];\n    let by = b[1];\n    let bz = b[2];\n    let bw = b[3];\n    let cosOmega = ax * bx + ay * by + az * bz + aw * bw;\n    if (cosOmega < 0) {\n        cosOmega = -cosOmega;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n    }\n    let scale0;\n    let scale1;\n    if (1.0 - cosOmega > EPSILON) {\n        const omega = Math.acos(cosOmega);\n        const sinOmega = Math.sin(omega);\n        scale0 = Math.sin((1 - t) * omega) / sinOmega;\n        scale1 = Math.sin(t * omega) / sinOmega;\n    }\n    else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    dst[0] = scale0 * ax + scale1 * bx;\n    dst[1] = scale0 * ay + scale1 * by;\n    dst[2] = scale0 * az + scale1 * bz;\n    dst[3] = scale0 * aw + scale1 * bw;\n    return dst;\n}\n/**\n * Compute the inverse of a quaternion\n *\n * @param q - quaternion to compute the inverse of\n * @returns A quaternion that is the result of a * b\n */\nfunction inverse$1(q, dst) {\n    dst = dst || new QuatType(4);\n    const a0 = q[0];\n    const a1 = q[1];\n    const a2 = q[2];\n    const a3 = q[3];\n    const dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n    const invDot = dot ? 1 / dot : 0;\n    dst[0] = -a0 * invDot;\n    dst[1] = -a1 * invDot;\n    dst[2] = -a2 * invDot;\n    dst[3] = a3 * invDot;\n    return dst;\n}\n/**\n * Compute the conjugate of a quaternion\n * For quaternions with a magnitude of 1 (a unit quaternion)\n * this returns the same as the inverse but is faster to calculate.\n *\n * @param q - quaternion to compute the conjugate of.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The conjugate of q\n */\nfunction conjugate(q, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = -q[0];\n    dst[1] = -q[1];\n    dst[2] = -q[2];\n    dst[3] = q[3];\n    return dst;\n}\n/**\n * Creates a quaternion from the given rotation matrix.\n *\n * The created quaternion is not normalized.\n *\n * @param m - rotation matrix\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns the result\n */\nfunction fromMat(m, dst) {\n    dst = dst || new QuatType(4);\n    /*\n    0 1 2\n    3 4 5\n    6 7 8\n  \n    0 1 2\n    4 5 6\n    8 9 10\n     */\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    const trace = m[0] + m[5] + m[10];\n    if (trace > 0.0) {\n        // |w| > 1/2, may as well choose w > 1/2\n        const root = Math.sqrt(trace + 1); // 2w\n        dst[3] = 0.5 * root;\n        const invRoot = 0.5 / root; // 1/(4w)\n        dst[0] = (m[6] - m[9]) * invRoot;\n        dst[1] = (m[8] - m[2]) * invRoot;\n        dst[2] = (m[1] - m[4]) * invRoot;\n    }\n    else {\n        // |w| <= 1/2\n        let i = 0;\n        if (m[5] > m[0]) {\n            i = 1;\n        }\n        if (m[10] > m[i * 4 + i]) {\n            i = 2;\n        }\n        const j = (i + 1) % 3;\n        const k = (i + 2) % 3;\n        const root = Math.sqrt(m[i * 4 + i] - m[j * 4 + j] - m[k * 4 + k] + 1.0);\n        dst[i] = 0.5 * root;\n        const invRoot = 0.5 / root;\n        dst[3] = (m[j * 4 + k] - m[k * 4 + j]) * invRoot;\n        dst[j] = (m[j * 4 + i] + m[i * 4 + j]) * invRoot;\n        dst[k] = (m[k * 4 + i] + m[i * 4 + k]) * invRoot;\n    }\n    return dst;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z using the provided intrinsic order for the conversion.\n *\n * @param xAngleInRadians - angle to rotate around X axis in radians.\n * @param yAngleInRadians - angle to rotate around Y axis in radians.\n * @param zAngleInRadians - angle to rotate around Z axis in radians.\n * @param order - order to apply euler angles\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion representing the same rotation as the euler angles applied in the given order\n */\nfunction fromEuler(xAngleInRadians, yAngleInRadians, zAngleInRadians, order, dst) {\n    dst = dst || new QuatType(4);\n    const xHalfAngle = xAngleInRadians * 0.5;\n    const yHalfAngle = yAngleInRadians * 0.5;\n    const zHalfAngle = zAngleInRadians * 0.5;\n    const sx = Math.sin(xHalfAngle);\n    const cx = Math.cos(xHalfAngle);\n    const sy = Math.sin(yHalfAngle);\n    const cy = Math.cos(yHalfAngle);\n    const sz = Math.sin(zHalfAngle);\n    const cz = Math.cos(zHalfAngle);\n    switch (order) {\n        case 'xyz':\n            dst[0] = sx * cy * cz + cx * sy * sz;\n            dst[1] = cx * sy * cz - sx * cy * sz;\n            dst[2] = cx * cy * sz + sx * sy * cz;\n            dst[3] = cx * cy * cz - sx * sy * sz;\n            break;\n        case 'xzy':\n            dst[0] = sx * cy * cz - cx * sy * sz;\n            dst[1] = cx * sy * cz - sx * cy * sz;\n            dst[2] = cx * cy * sz + sx * sy * cz;\n            dst[3] = cx * cy * cz + sx * sy * sz;\n            break;\n        case 'yxz':\n            dst[0] = sx * cy * cz + cx * sy * sz;\n            dst[1] = cx * sy * cz - sx * cy * sz;\n            dst[2] = cx * cy * sz - sx * sy * cz;\n            dst[3] = cx * cy * cz + sx * sy * sz;\n            break;\n        case 'yzx':\n            dst[0] = sx * cy * cz + cx * sy * sz;\n            dst[1] = cx * sy * cz + sx * cy * sz;\n            dst[2] = cx * cy * sz - sx * sy * cz;\n            dst[3] = cx * cy * cz - sx * sy * sz;\n            break;\n        case 'zxy':\n            dst[0] = sx * cy * cz - cx * sy * sz;\n            dst[1] = cx * sy * cz + sx * cy * sz;\n            dst[2] = cx * cy * sz + sx * sy * cz;\n            dst[3] = cx * cy * cz - sx * sy * sz;\n            break;\n        case 'zyx':\n            dst[0] = sx * cy * cz - cx * sy * sz;\n            dst[1] = cx * sy * cz + sx * cy * sz;\n            dst[2] = cx * cy * sz - sx * sy * cz;\n            dst[3] = cx * cy * cz + sx * sy * sz;\n            break;\n        default:\n            throw new Error(`Unknown rotation order: ${order}`);\n    }\n    return dst;\n}\n/**\n * Copies a quaternion. (same as {@link quat.clone})\n * Also see {@link quat.create} and {@link quat.set}\n * @param q - The quaternion.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is a copy of q\n */\nfunction copy$1(q, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = q[0];\n    dst[1] = q[1];\n    dst[2] = q[2];\n    dst[3] = q[3];\n    return dst;\n}\n/**\n * Clones a quaternion. (same as {@link quat.copy})\n * Also see {@link quat.create} and {@link quat.set}\n * @param q - The quaternion.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A copy of q.\n */\nconst clone$1 = copy$1;\n/**\n * Adds two quaternions; assumes a and b have the same dimension.\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the sum of a and b.\n */\nfunction add$1(a, b, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = a[0] + b[0];\n    dst[1] = a[1] + b[1];\n    dst[2] = a[2] + b[2];\n    dst[3] = a[3] + b[3];\n    return dst;\n}\n/**\n * Subtracts two quaternions.\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the difference of a and b.\n */\nfunction subtract$1(a, b, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = a[0] - b[0];\n    dst[1] = a[1] - b[1];\n    dst[2] = a[2] - b[2];\n    dst[3] = a[3] - b[3];\n    return dst;\n}\n/**\n * Subtracts two quaternions.\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns A quaternion that is the difference of a and b.\n */\nconst sub$1 = subtract$1;\n/**\n * Multiplies a quaternion by a scalar.\n * @param v - The quaternion.\n * @param k - The scalar.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The scaled quaternion.\n */\nfunction mulScalar$1(v, k, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = v[0] * k;\n    dst[1] = v[1] * k;\n    dst[2] = v[2] * k;\n    dst[3] = v[3] * k;\n    return dst;\n}\n/**\n * Multiplies a quaternion by a scalar. (same as mulScalar)\n * @param v - The quaternion.\n * @param k - The scalar.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The scaled quaternion.\n */\nconst scale$1 = mulScalar$1;\n/**\n * Divides a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The scaled quaternion.\n */\nfunction divScalar$1(v, k, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = v[0] / k;\n    dst[1] = v[1] / k;\n    dst[2] = v[2] / k;\n    dst[3] = v[3] / k;\n    return dst;\n}\n/**\n * Computes the dot product of two quaternions\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @returns dot product\n */\nfunction dot$1(a, b) {\n    return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]) + (a[3] * b[3]);\n}\n/**\n * Performs linear interpolation on two quaternions.\n * Given quaternions a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @param t - Interpolation coefficient.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The linear interpolated result.\n */\nfunction lerp$1(a, b, t, dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = a[0] + t * (b[0] - a[0]);\n    dst[1] = a[1] + t * (b[1] - a[1]);\n    dst[2] = a[2] + t * (b[2] - a[2]);\n    dst[3] = a[3] + t * (b[3] - a[3]);\n    return dst;\n}\n/**\n * Computes the length of quaternion\n * @param v - quaternion.\n * @returns length of quaternion.\n */\nfunction length$1(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const v3 = v[3];\n    return Math.sqrt(v0 * v0 + v1 * v1 + v2 * v2 + v3 * v3);\n}\n/**\n * Computes the length of quaternion (same as length)\n * @param v - quaternion.\n * @returns length of quaternion.\n */\nconst len$1 = length$1;\n/**\n * Computes the square of the length of quaternion\n * @param v - quaternion.\n * @returns square of the length of quaternion.\n */\nfunction lengthSq$1(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const v3 = v[3];\n    return v0 * v0 + v1 * v1 + v2 * v2 + v3 * v3;\n}\n/**\n * Computes the square of the length of quaternion (same as lengthSq)\n * @param v - quaternion.\n * @returns square of the length of quaternion.\n */\nconst lenSq$1 = lengthSq$1;\n/**\n * Divides a quaternion by its Euclidean length and returns the quotient.\n * @param v - The quaternion.\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns The normalized quaternion.\n */\nfunction normalize$1(v, dst) {\n    dst = dst || new QuatType(4);\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const v3 = v[3];\n    const len = Math.sqrt(v0 * v0 + v1 * v1 + v2 * v2 + v3 * v3);\n    if (len > 0.00001) {\n        dst[0] = v0 / len;\n        dst[1] = v1 / len;\n        dst[2] = v2 / len;\n        dst[3] = v3 / len;\n    }\n    else {\n        dst[0] = 0;\n        dst[1] = 0;\n        dst[2] = 0;\n        dst[3] = 0;\n    }\n    return dst;\n}\n/**\n * Check if 2 quaternions are approximately equal\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @returns true if quaternions are approximately equal\n */\nfunction equalsApproximately$1(a, b) {\n    return Math.abs(a[0] - b[0]) < EPSILON &&\n        Math.abs(a[1] - b[1]) < EPSILON &&\n        Math.abs(a[2] - b[2]) < EPSILON &&\n        Math.abs(a[3] - b[3]) < EPSILON;\n}\n/**\n * Check if 2 quaternions are exactly equal\n * @param a - Operand quaternion.\n * @param b - Operand quaternion.\n * @returns true if quaternions are exactly equal\n */\nfunction equals$1(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Creates an identity quaternion\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns an identity quaternion\n */\nfunction identity(dst) {\n    dst = dst || new QuatType(4);\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 1;\n    return dst;\n}\nlet tempVec3;\nlet xUnitVec3;\nlet yUnitVec3;\n/**\n * Computes a quaternion to represent the shortest rotation from one vector to another.\n *\n * @param aUnit - the start vector\n * @param bUnit - the end vector\n * @param dst - quaternion to hold result. If not passed in a new one is created.\n * @returns the result\n */\nfunction rotationTo(aUnit, bUnit, dst) {\n    dst = dst || new QuatType(4);\n    tempVec3 = tempVec3 || create$3();\n    xUnitVec3 = xUnitVec3 || create$3(1, 0, 0);\n    yUnitVec3 = yUnitVec3 || create$3(0, 1, 0);\n    const dot = dot$2(aUnit, bUnit);\n    if (dot < -0.999999) {\n        cross(xUnitVec3, aUnit, tempVec3);\n        if (len$2(tempVec3) < 0.000001) {\n            cross(yUnitVec3, aUnit, tempVec3);\n        }\n        normalize$2(tempVec3, tempVec3);\n        fromAxisAngle(tempVec3, Math.PI, dst);\n        return dst;\n    }\n    else if (dot > 0.999999) {\n        dst[0] = 0;\n        dst[1] = 0;\n        dst[2] = 0;\n        dst[3] = 1;\n        return dst;\n    }\n    else {\n        cross(aUnit, bUnit, tempVec3);\n        dst[0] = tempVec3[0];\n        dst[1] = tempVec3[1];\n        dst[2] = tempVec3[2];\n        dst[3] = 1 + dot;\n        return normalize$1(dst, dst);\n    }\n}\nlet tempQuat1;\nlet tempQuat2;\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param a - the first quaternion\n * @param b - the second quaternion\n * @param c - the third quaternion\n * @param d - the fourth quaternion\n * @param t - Interpolation coefficient 0 to 1\n * @returns result\n */\nfunction sqlerp(a, b, c, d, t, dst) {\n    dst = dst || new QuatType(4);\n    tempQuat1 = tempQuat1 || new QuatType(4);\n    tempQuat2 = tempQuat2 || new QuatType(4);\n    slerp(a, d, t, tempQuat1);\n    slerp(b, c, t, tempQuat2);\n    slerp(tempQuat1, tempQuat2, 2 * t * (1 - t), dst);\n    return dst;\n}\n\nvar quatImpl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    create: create$1,\n    setDefaultType: setDefaultType$2,\n    fromValues: fromValues$1,\n    set: set$1,\n    fromAxisAngle: fromAxisAngle,\n    toAxisAngle: toAxisAngle,\n    angle: angle,\n    multiply: multiply$1,\n    mul: mul$1,\n    rotateX: rotateX,\n    rotateY: rotateY,\n    rotateZ: rotateZ,\n    slerp: slerp,\n    inverse: inverse$1,\n    conjugate: conjugate,\n    fromMat: fromMat,\n    fromEuler: fromEuler,\n    copy: copy$1,\n    clone: clone$1,\n    add: add$1,\n    subtract: subtract$1,\n    sub: sub$1,\n    mulScalar: mulScalar$1,\n    scale: scale$1,\n    divScalar: divScalar$1,\n    dot: dot$1,\n    lerp: lerp$1,\n    length: length$1,\n    len: len$1,\n    lengthSq: lengthSq$1,\n    lenSq: lenSq$1,\n    normalize: normalize$1,\n    equalsApproximately: equalsApproximately$1,\n    equals: equals$1,\n    identity: identity,\n    rotationTo: rotationTo,\n    sqlerp: sqlerp\n});\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n *\n * Vec4 math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new `Vec4`. In other words you can do this\n *\n *     const v = vec4.cross(v1, v2);  // Creates a new Vec4 with the cross product of v1 x v2.\n *\n * or\n *\n *     const v = vec4.create();\n *     vec4.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always safe to pass any vector as the destination. So for example\n *\n *     vec4.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n */\nlet VecType = Float32Array;\n/**\n * Sets the type this library creates for a Vec4\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n * @returns previous constructor for Vec4\n */\nfunction setDefaultType$1(ctor) {\n    const oldType = VecType;\n    VecType = ctor;\n    return oldType;\n}\n/**\n * Creates a vec4; may be called with x, y, z to set initial values.\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @param z - Initial z value.\n * @param w - Initial w value.\n * @returns the created vector\n */\nfunction create(x, y, z, w) {\n    const dst = new VecType(4);\n    if (x !== undefined) {\n        dst[0] = x;\n        if (y !== undefined) {\n            dst[1] = y;\n            if (z !== undefined) {\n                dst[2] = z;\n                if (w !== undefined) {\n                    dst[3] = w;\n                }\n            }\n        }\n    }\n    return dst;\n}\n\n/*\n * Copyright 2022 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n * Creates a vec4; may be called with x, y, z to set initial values. (same as create)\n * @param x - Initial x value.\n * @param y - Initial y value.\n * @param z - Initial z value.\n * @param z - Initial w value.\n * @returns the created vector\n */\nconst fromValues = create;\n/**\n * Sets the values of a Vec4\n * Also see {@link vec4.create} and {@link vec4.copy}\n *\n * @param x first value\n * @param y second value\n * @param z third value\n * @param w fourth value\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector with its elements set.\n */\nfunction set(x, y, z, w, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = x;\n    dst[1] = y;\n    dst[2] = z;\n    dst[3] = w;\n    return dst;\n}\n/**\n * Applies Math.ceil to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the ceil of each element of v.\n */\nfunction ceil(v, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = Math.ceil(v[0]);\n    dst[1] = Math.ceil(v[1]);\n    dst[2] = Math.ceil(v[2]);\n    dst[3] = Math.ceil(v[3]);\n    return dst;\n}\n/**\n * Applies Math.floor to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the floor of each element of v.\n */\nfunction floor(v, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = Math.floor(v[0]);\n    dst[1] = Math.floor(v[1]);\n    dst[2] = Math.floor(v[2]);\n    dst[3] = Math.floor(v[3]);\n    return dst;\n}\n/**\n * Applies Math.round to each element of vector\n * @param v - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the round of each element of v.\n */\nfunction round(v, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = Math.round(v[0]);\n    dst[1] = Math.round(v[1]);\n    dst[2] = Math.round(v[2]);\n    dst[3] = Math.round(v[3]);\n    return dst;\n}\n/**\n * Clamp each element of vector between min and max\n * @param v - Operand vector.\n * @param max - Min value, default 0\n * @param min - Max value, default 1\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that the clamped value of each element of v.\n */\nfunction clamp(v, min = 0, max = 1, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = Math.min(max, Math.max(min, v[0]));\n    dst[1] = Math.min(max, Math.max(min, v[1]));\n    dst[2] = Math.min(max, Math.max(min, v[2]));\n    dst[3] = Math.min(max, Math.max(min, v[3]));\n    return dst;\n}\n/**\n * Adds two vectors; assumes a and b have the same dimension.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the sum of a and b.\n */\nfunction add(a, b, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] + b[0];\n    dst[1] = a[1] + b[1];\n    dst[2] = a[2] + b[2];\n    dst[3] = a[3] + b[3];\n    return dst;\n}\n/**\n * Adds two vectors, scaling the 2nd; assumes a and b have the same dimension.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param scale - Amount to scale b\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the sum of a + b * scale.\n */\nfunction addScaled(a, b, scale, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] + b[0] * scale;\n    dst[1] = a[1] + b[1] * scale;\n    dst[2] = a[2] + b[2] * scale;\n    dst[3] = a[3] + b[3] * scale;\n    return dst;\n}\n/**\n * Subtracts two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the difference of a and b.\n */\nfunction subtract(a, b, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] - b[0];\n    dst[1] = a[1] - b[1];\n    dst[2] = a[2] - b[2];\n    dst[3] = a[3] - b[3];\n    return dst;\n}\n/**\n * Subtracts two vectors.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A vector that is the difference of a and b.\n */\nconst sub = subtract;\n/**\n * Check if 2 vectors are approximately equal\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns true if vectors are approximately equal\n */\nfunction equalsApproximately(a, b) {\n    return Math.abs(a[0] - b[0]) < EPSILON &&\n        Math.abs(a[1] - b[1]) < EPSILON &&\n        Math.abs(a[2] - b[2]) < EPSILON &&\n        Math.abs(a[3] - b[3]) < EPSILON;\n}\n/**\n * Check if 2 vectors are exactly equal\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns true if vectors are exactly equal\n */\nfunction equals(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param t - Interpolation coefficient.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The linear interpolated result.\n */\nfunction lerp(a, b, t, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] + t * (b[0] - a[0]);\n    dst[1] = a[1] + t * (b[1] - a[1]);\n    dst[2] = a[2] + t * (b[2] - a[2]);\n    dst[3] = a[3] + t * (b[3] - a[3]);\n    return dst;\n}\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient vector t, returns\n * a + t * (b - a).\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param t - Interpolation coefficients vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns the linear interpolated result.\n */\nfunction lerpV(a, b, t, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] + t[0] * (b[0] - a[0]);\n    dst[1] = a[1] + t[1] * (b[1] - a[1]);\n    dst[2] = a[2] + t[2] * (b[2] - a[2]);\n    dst[3] = a[3] + t[3] * (b[3] - a[3]);\n    return dst;\n}\n/**\n * Return max values of two vectors.\n * Given vectors a and b returns\n * [max(a[0], b[0]), max(a[1], b[1]), max(a[2], b[2])].\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The max components vector.\n */\nfunction max(a, b, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = Math.max(a[0], b[0]);\n    dst[1] = Math.max(a[1], b[1]);\n    dst[2] = Math.max(a[2], b[2]);\n    dst[3] = Math.max(a[3], b[3]);\n    return dst;\n}\n/**\n * Return min values of two vectors.\n * Given vectors a and b returns\n * [min(a[0], b[0]), min(a[1], b[1]), min(a[2], b[2])].\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The min components vector.\n */\nfunction min(a, b, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = Math.min(a[0], b[0]);\n    dst[1] = Math.min(a[1], b[1]);\n    dst[2] = Math.min(a[2], b[2]);\n    dst[3] = Math.min(a[3], b[3]);\n    return dst;\n}\n/**\n * Multiplies a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nfunction mulScalar(v, k, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = v[0] * k;\n    dst[1] = v[1] * k;\n    dst[2] = v[2] * k;\n    dst[3] = v[3] * k;\n    return dst;\n}\n/**\n * Multiplies a vector by a scalar. (same as mulScalar)\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nconst scale = mulScalar;\n/**\n * Divides a vector by a scalar.\n * @param v - The vector.\n * @param k - The scalar.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The scaled vector.\n */\nfunction divScalar(v, k, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = v[0] / k;\n    dst[1] = v[1] / k;\n    dst[2] = v[2] / k;\n    dst[3] = v[3] / k;\n    return dst;\n}\n/**\n * Inverse a vector.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The inverted vector.\n */\nfunction inverse(v, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = 1 / v[0];\n    dst[1] = 1 / v[1];\n    dst[2] = 1 / v[2];\n    dst[3] = 1 / v[3];\n    return dst;\n}\n/**\n * Invert a vector. (same as inverse)\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The inverted vector.\n */\nconst invert = inverse;\n/**\n * Computes the dot product of two vectors\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @returns dot product\n */\nfunction dot(a, b) {\n    return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]) + (a[3] * b[3]);\n}\n/**\n * Computes the length of vector\n * @param v - vector.\n * @returns length of vector.\n */\nfunction length(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const v3 = v[3];\n    return Math.sqrt(v0 * v0 + v1 * v1 + v2 * v2 + v3 * v3);\n}\n/**\n * Computes the length of vector (same as length)\n * @param v - vector.\n * @returns length of vector.\n */\nconst len = length;\n/**\n * Computes the square of the length of vector\n * @param v - vector.\n * @returns square of the length of vector.\n */\nfunction lengthSq(v) {\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const v3 = v[3];\n    return v0 * v0 + v1 * v1 + v2 * v2 + v3 * v3;\n}\n/**\n * Computes the square of the length of vector (same as lengthSq)\n * @param v - vector.\n * @returns square of the length of vector.\n */\nconst lenSq = lengthSq;\n/**\n * Computes the distance between 2 points\n * @param a - vector.\n * @param b - vector.\n * @returns distance between a and b\n */\nfunction distance(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    const dz = a[2] - b[2];\n    const dw = a[3] - b[3];\n    return Math.sqrt(dx * dx + dy * dy + dz * dz + dw * dw);\n}\n/**\n * Computes the distance between 2 points (same as distance)\n * @param a - vector.\n * @param b - vector.\n * @returns distance between a and b\n */\nconst dist = distance;\n/**\n * Computes the square of the distance between 2 points\n * @param a - vector.\n * @param b - vector.\n * @returns square of the distance between a and b\n */\nfunction distanceSq(a, b) {\n    const dx = a[0] - b[0];\n    const dy = a[1] - b[1];\n    const dz = a[2] - b[2];\n    const dw = a[3] - b[3];\n    return dx * dx + dy * dy + dz * dz + dw * dw;\n}\n/**\n * Computes the square of the distance between 2 points (same as distanceSq)\n * @param a - vector.\n * @param b - vector.\n * @returns square of the distance between a and b\n */\nconst distSq = distanceSq;\n/**\n * Divides a vector by its Euclidean length and returns the quotient.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The normalized vector.\n */\nfunction normalize(v, dst) {\n    dst = dst || new VecType(4);\n    const v0 = v[0];\n    const v1 = v[1];\n    const v2 = v[2];\n    const v3 = v[3];\n    const len = Math.sqrt(v0 * v0 + v1 * v1 + v2 * v2 + v3 * v3);\n    if (len > 0.00001) {\n        dst[0] = v0 / len;\n        dst[1] = v1 / len;\n        dst[2] = v2 / len;\n        dst[3] = v3 / len;\n    }\n    else {\n        dst[0] = 0;\n        dst[1] = 0;\n        dst[2] = 0;\n        dst[3] = 0;\n    }\n    return dst;\n}\n/**\n * Negates a vector.\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns -v.\n */\nfunction negate(v, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = -v[0];\n    dst[1] = -v[1];\n    dst[2] = -v[2];\n    dst[3] = -v[3];\n    return dst;\n}\n/**\n * Copies a vector. (same as {@link vec4.clone})\n * Also see {@link vec4.create} and {@link vec4.set}\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A copy of v.\n */\nfunction copy(v, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = v[0];\n    dst[1] = v[1];\n    dst[2] = v[2];\n    dst[3] = v[3];\n    return dst;\n}\n/**\n * Clones a vector. (same as {@link vec4.copy})\n * Also see {@link vec4.create} and {@link vec4.set}\n * @param v - The vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns A copy of v.\n */\nconst clone = copy;\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of products of entries of a and b.\n */\nfunction multiply(a, b, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] * b[0];\n    dst[1] = a[1] * b[1];\n    dst[2] = a[2] * b[2];\n    dst[3] = a[3] * b[3];\n    return dst;\n}\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length. (same as mul)\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of products of entries of a and b.\n */\nconst mul = multiply;\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of quotients of entries of a and b.\n */\nfunction divide(a, b, dst) {\n    dst = dst || new VecType(4);\n    dst[0] = a[0] / b[0];\n    dst[1] = a[1] / b[1];\n    dst[2] = a[2] / b[2];\n    dst[3] = a[3] / b[3];\n    return dst;\n}\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length. (same as divide)\n * @param a - Operand vector.\n * @param b - Operand vector.\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The vector of quotients of entries of a and b.\n */\nconst div = divide;\n/**\n * Zero's a vector\n * @param dst - vector to hold result. If not passed in a new one is created.\n * @returns The zeroed vector.\n */\nfunction zero(dst) {\n    dst = dst || new VecType(4);\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = 0;\n    dst[3] = 0;\n    return dst;\n}\n/**\n * transform vec4 by 4x4 matrix\n * @param v - the vector\n * @param m - The matrix.\n * @param dst - optional vec4 to store result. If not passed a new one is created.\n * @returns the transformed vector\n */\nfunction transformMat4(v, m, dst) {\n    dst = dst || new VecType(4);\n    const x = v[0];\n    const y = v[1];\n    const z = v[2];\n    const w = v[3];\n    dst[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n    dst[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n    dst[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n    dst[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n    return dst;\n}\n\nvar vec4Impl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    create: create,\n    setDefaultType: setDefaultType$1,\n    fromValues: fromValues,\n    set: set,\n    ceil: ceil,\n    floor: floor,\n    round: round,\n    clamp: clamp,\n    add: add,\n    addScaled: addScaled,\n    subtract: subtract,\n    sub: sub,\n    equalsApproximately: equalsApproximately,\n    equals: equals,\n    lerp: lerp,\n    lerpV: lerpV,\n    max: max,\n    min: min,\n    mulScalar: mulScalar,\n    scale: scale,\n    divScalar: divScalar,\n    inverse: inverse,\n    invert: invert,\n    dot: dot,\n    length: length,\n    len: len,\n    lengthSq: lengthSq,\n    lenSq: lenSq,\n    distance: distance,\n    dist: dist,\n    distanceSq: distanceSq,\n    distSq: distSq,\n    normalize: normalize,\n    negate: negate,\n    copy: copy,\n    clone: clone,\n    multiply: multiply,\n    mul: mul,\n    divide: divide,\n    div: div,\n    zero: zero,\n    transformMat4: transformMat4\n});\n\n/**\n * Sets the type this library creates for all types\n *\n * example:\n *\n * ```\n * setDefaultType(Float64Array);\n * ```\n *\n * @param ctor - the constructor for the type. Either `Float32Array`, `Float64Array`, or `Array`\n */\nfunction setDefaultType(ctor) {\n    setDefaultType$5(ctor);\n    setDefaultType$3(ctor);\n    setDefaultType$2(ctor);\n    setDefaultType$6(ctor);\n    setDefaultType$4(ctor);\n    setDefaultType$1(ctor);\n}\n\n\n//# sourceMappingURL=wgpu-matrix.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2dwdS1tYXRyaXgvZGlzdC8yLngvd2dwdS1tYXRyaXgubW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1CQUFtQixLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0MsYUFBYSxtQkFBbUIsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdCQUFnQjtBQUM5QyxhQUFhLG1CQUFtQixLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUJBQWlCO0FBQy9DLGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QyxhQUFhLG1CQUFtQixLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUJBQWlCO0FBQy9DLGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdCQUFnQjtBQUM5QyxhQUFhLG1CQUFtQixLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlCQUFpQjtBQUMvQyxhQUFhLG1CQUFtQixLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QyxhQUFhLG1CQUFtQixLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtQkFBbUIsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELE1BQU07QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsaUJBQWlCO0FBQ25ELGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0JBQWdCO0FBQ2xELGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUJBQW1CLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0MsYUFBYSxtQkFBbUIsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixnQkFBZ0I7QUFDOUMsYUFBYSxtQkFBbUIsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNkk7QUFDN0kiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucG0tdGVzdC8uL25vZGVfbW9kdWxlcy93Z3B1LW1hdHJpeC9kaXN0LzIueC93Z3B1LW1hdHJpeC5tb2R1bGUuanM/N2Q2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB3Z3B1LW1hdHJpeEAyLjUuMCwgbGljZW5zZSBNSVQgKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbmxldCBFUFNJTE9OID0gMC4wMDAwMDE7XG4vKipcbiAqIFNldCB0aGUgdmFsdWUgZm9yIEVQU0lMT04gZm9yIHZhcmlvdXMgY2hlY2tzXG4gKiBAcGFyYW0gdiAtIFZhbHVlIHRvIHVzZSBmb3IgRVBTSUxPTi5cbiAqIEByZXR1cm5zIHByZXZpb3VzIHZhbHVlIG9mIEVQU0lMT047XG4gKi9cbmZ1bmN0aW9uIHNldEVwc2lsb24odikge1xuICAgIGNvbnN0IG9sZCA9IEVQU0lMT047XG4gICAgRVBTSUxPTiA9IHY7XG4gICAgcmV0dXJuIG9sZDtcbn1cbi8qKlxuICogQ29udmVydCBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqIEBwYXJhbSBkZWdyZWVzIC0gQW5nbGUgaW4gZGVncmVlc1xuICogQHJldHVybnMgYW5nbGUgY29udmVydGVkIHRvIHJhZGlhbnNcbiAqL1xuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcykge1xuICAgIHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDtcbn1cbi8qKlxuICogQ29udmVydCByYWRpYW5zIHRvIGRlZ3JlZXNcbiAqIEBwYXJhbSByYWRpYW5zIC0gQW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMgYW5nbGUgY29udmVydGVkIHRvIGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gcmFkVG9EZWcocmFkaWFucykge1xuICAgIHJldHVybiByYWRpYW5zICogMTgwIC8gTWF0aC5QSTtcbn1cbi8qKlxuICogTGVycHMgYmV0d2VlbiBhIGFuZCBiIHZpYSB0XG4gKiBAcGFyYW0gYSAtIHN0YXJ0aW5nIHZhbHVlXG4gKiBAcGFyYW0gYiAtIGVuZGluZyB2YWx1ZVxuICogQHBhcmFtIHQgLSB2YWx1ZSB3aGVyZSAwID0gYSBhbmQgMSA9IGJcbiAqIEByZXR1cm5zIGEgKyAoYiAtIGEpICogdFxuICovXG5mdW5jdGlvbiBsZXJwJDQoYSwgYiwgdCkge1xuICAgIHJldHVybiBhICsgKGIgLSBhKSAqIHQ7XG59XG4vKipcbiAqIENvbXB1dGUgdGhlIG9wcG9zaXRlIG9mIGxlcnAuIEdpdmVuIGEgYW5kIGIgYW5kIGEgdmFsdWUgYmV0d2VlblxuICogYSBhbmQgYiByZXR1cm5zIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLiAwIGlmIGEsIDEgaWYgYi5cbiAqIE5vdGU6IG5vIGNsYW1waW5nIGlzIGRvbmUuXG4gKiBAcGFyYW0gYSAtIHN0YXJ0IHZhbHVlXG4gKiBAcGFyYW0gYiAtIGVuZCB2YWx1ZVxuICogQHBhcmFtIHYgLSB2YWx1ZSBiZXR3ZWVuIGEgYW5kIGJcbiAqIEByZXR1cm5zICh2IC0gYSkgLyAoYiAtIGEpXG4gKi9cbmZ1bmN0aW9uIGludmVyc2VMZXJwKGEsIGIsIHYpIHtcbiAgICBjb25zdCBkID0gYiAtIGE7XG4gICAgcmV0dXJuIChNYXRoLmFicyhiIC0gYSkgPCBFUFNJTE9OKVxuICAgICAgICA/IGFcbiAgICAgICAgOiAodiAtIGEpIC8gZDtcbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgZXVjbGlkZWFuIG1vZHVsb1xuICpcbiAqIGBgYFxuICogLy8gdGFibGUgZm9yIG4gLyAzXG4gKiAtNSwgLTQsIC0zLCAtMiwgLTEsICAwLCAgMSwgIDIsICAzLCAgNCwgIDUgICA8LSBuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIC0yICAtMSAgLTAgIC0yICAtMSAgIDAsICAxLCAgMiwgIDAsICAxLCAgMiAgIDwtIG4gJSAzXG4gKiAgMSAgIDIgICAwICAgMSAgIDIgICAwLCAgMSwgIDIsICAwLCAgMSwgIDIgICA8LSBldWNsaWRlYW5Nb2R1bGUobiwgMylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBuIC0gZGl2aWRlbmRcbiAqIEBwYXJhbSBtIC0gZGl2aXNvclxuICogQHJldHVybnMgdGhlIGV1Y2xpZGVhbiBtb2R1bG8gb2YgbiAvIG1cbiAqL1xuZnVuY3Rpb24gZXVjbGlkZWFuTW9kdWxvKG4sIG0pIHtcbiAgICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XG59XG5cbnZhciB1dGlscyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgZ2V0IEVQU0lMT04gKCkgeyByZXR1cm4gRVBTSUxPTjsgfSxcbiAgICBzZXRFcHNpbG9uOiBzZXRFcHNpbG9uLFxuICAgIGRlZ1RvUmFkOiBkZWdUb1JhZCxcbiAgICByYWRUb0RlZzogcmFkVG9EZWcsXG4gICAgbGVycDogbGVycCQ0LFxuICAgIGludmVyc2VMZXJwOiBpbnZlcnNlTGVycCxcbiAgICBldWNsaWRlYW5Nb2R1bG86IGV1Y2xpZGVhbk1vZHVsb1xufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbi8qKlxuICpcbiAqIFZlYzIgbWF0aCBmdW5jdGlvbnMuXG4gKlxuICogQWxtb3N0IGFsbCBmdW5jdGlvbnMgdGFrZSBhbiBvcHRpb25hbCBgZHN0YCBhcmd1bWVudC4gSWYgaXQgaXMgbm90IHBhc3NlZCBpbiB0aGVcbiAqIGZ1bmN0aW9ucyB3aWxsIGNyZWF0ZSBhIG5ldyBWZWMyLiBJbiBvdGhlciB3b3JkcyB5b3UgY2FuIGRvIHRoaXNcbiAqXG4gKiAgICAgY29uc3QgdiA9IHZlYzIuY3Jvc3ModjEsIHYyKTsgIC8vIENyZWF0ZXMgYSBuZXcgVmVjMiB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHYxIHggdjIuXG4gKlxuICogb3JcbiAqXG4gKiAgICAgY29uc3QgdiA9IHZlYzIuY3JlYXRlKCk7XG4gKiAgICAgdmVjMi5jcm9zcyh2MSwgdjIsIHYpOyAgLy8gUHV0cyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB2MSB4IHYyIGluIHZcbiAqXG4gKiBUaGUgZmlyc3Qgc3R5bGUgaXMgb2Z0ZW4gZWFzaWVyIGJ1dCBkZXBlbmRpbmcgb24gd2hlcmUgaXQncyB1c2VkIGl0IGdlbmVyYXRlcyBnYXJiYWdlIHdoZXJlXG4gKiBhcyB0aGVyZSBpcyBhbG1vc3QgbmV2ZXIgYWxsb2NhdGlvbiB3aXRoIHRoZSBzZWNvbmQgc3R5bGUuXG4gKlxuICogSXQgaXMgYWx3YXlzIHNhZmUgdG8gcGFzcyBhbnkgdmVjdG9yIGFzIHRoZSBkZXN0aW5hdGlvbi4gU28gZm9yIGV4YW1wbGVcbiAqXG4gKiAgICAgdmVjMi5jcm9zcyh2MSwgdjIsIHYxKTsgIC8vIFB1dHMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdjEgeCB2MiBpbiB2MVxuICpcbiAqL1xubGV0IFZlY1R5cGUkMiA9IEZsb2F0MzJBcnJheTtcbi8qKlxuICogU2V0cyB0aGUgdHlwZSB0aGlzIGxpYnJhcnkgY3JlYXRlcyBmb3IgYSBWZWMyXG4gKiBAcGFyYW0gY3RvciAtIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUuIEVpdGhlciBgRmxvYXQzMkFycmF5YCwgYEZsb2F0NjRBcnJheWAsIG9yIGBBcnJheWBcbiAqIEByZXR1cm5zIHByZXZpb3VzIGNvbnN0cnVjdG9yIGZvciBWZWMyXG4gKi9cbmZ1bmN0aW9uIHNldERlZmF1bHRUeXBlJDYoY3Rvcikge1xuICAgIGNvbnN0IG9sZFR5cGUgPSBWZWNUeXBlJDI7XG4gICAgVmVjVHlwZSQyID0gY3RvcjtcbiAgICByZXR1cm4gb2xkVHlwZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFZlYzI7IG1heSBiZSBjYWxsZWQgd2l0aCB4LCB5LCB6IHRvIHNldCBpbml0aWFsIHZhbHVlcy5cbiAqXG4gKiBOb3RlOiBTaW5jZSBwYXNzaW5nIGluIGEgcmF3IEphdmFTY3JpcHQgYXJyYXlcbiAqIGlzIHZhbGlkIGluIGFsbCBjaXJjdW1zdGFuY2VzLCBpZiB5b3Ugd2FudCB0b1xuICogZm9yY2UgYSBKYXZhU2NyaXB0IGFycmF5IGludG8gYSBWZWMyJ3Mgc3BlY2lmaWVkIHR5cGVcbiAqIGl0IHdvdWxkIGJlIGZhc3RlciB0byB1c2VcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHYgPSB2ZWMyLmNsb25lKHNvbWVKU0FycmF5KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IGEgY29uc2VxdWVuY2Ugb2YgdGhlIGltcGxlbWVudGF0aW9uIGlzIGlmIHlvdXIgVmVjMlR5cGUgPSBgQXJyYXlgXG4gKiBpbnN0ZWFkIG9mIGBGbG9hdDMyQXJyYXlgIG9yIGBGbG9hdDY0QXJyYXlgIHRoZW4gYW55IHZhbHVlcyB5b3VcbiAqIGRvbid0IHBhc3MgaW4gd2lsbCBiZSB1bmRlZmluZWQuIFVzdWFsbHkgdGhpcyBpcyBub3QgYW4gaXNzdWUgc2luY2VcbiAqIChhKSB1c2luZyBgQXJyYXlgIGlzIHJhcmUgYW5kIChiKSB1c2luZyBgdmVjMi5jcmVhdGVgIGlzIHVzdWFsbHkgdXNlZFxuICogdG8gY3JlYXRlIGEgVmVjMiB0byBiZSBmaWxsZWQgb3V0IGFzIGluXG4gKlxuICogYGBgXG4gKiBjb25zdCBzdW0gPSB2ZWMyLmNyZWF0ZSgpO1xuICogdmVjMi5hZGQodjEsIHYyLCBzdW0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggLSBJbml0aWFsIHggdmFsdWUuXG4gKiBAcGFyYW0geSAtIEluaXRpYWwgeSB2YWx1ZS5cbiAqIEByZXR1cm5zIHRoZSBjcmVhdGVkIHZlY3RvclxuICovXG5mdW5jdGlvbiBjcmVhdGUkNSh4ID0gMCwgeSA9IDApIHtcbiAgICBjb25zdCBkc3QgPSBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZHN0WzBdID0geDtcbiAgICAgICAgaWYgKHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHN0WzFdID0geTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuXG4vKlxuICogQ29weXJpZ2h0IDIwMjIgR3JlZ2cgVGF2YXJlc1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4gKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksXG4gKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXG4gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSxcbiAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTExcbiAqIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG4vKipcbiAqIENyZWF0ZXMgYSBWZWMyOyBtYXkgYmUgY2FsbGVkIHdpdGggeCwgeSwgeiB0byBzZXQgaW5pdGlhbCB2YWx1ZXMuIChzYW1lIGFzIGNyZWF0ZSlcbiAqIEBwYXJhbSB4IC0gSW5pdGlhbCB4IHZhbHVlLlxuICogQHBhcmFtIHkgLSBJbml0aWFsIHkgdmFsdWUuXG4gKiBAcmV0dXJucyB0aGUgY3JlYXRlZCB2ZWN0b3JcbiAqL1xuY29uc3QgZnJvbVZhbHVlcyQzID0gY3JlYXRlJDU7XG4vKipcbiAqIFNldHMgdGhlIHZhbHVlcyBvZiBhIFZlYzJcbiAqIEFsc28gc2VlIHtAbGluayB2ZWMyLmNyZWF0ZX0gYW5kIHtAbGluayB2ZWMyLmNvcHl9XG4gKlxuICogQHBhcmFtIHggZmlyc3QgdmFsdWVcbiAqIEBwYXJhbSB5IHNlY29uZCB2YWx1ZVxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHdpdGggaXRzIGVsZW1lbnRzIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0JDUoeCwgeSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0geDtcbiAgICBkc3RbMV0gPSB5O1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGxpZXMgTWF0aC5jZWlsIHRvIGVhY2ggZWxlbWVudCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgY2VpbCBvZiBlYWNoIGVsZW1lbnQgb2Ygdi5cbiAqL1xuZnVuY3Rpb24gY2VpbCQyKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IE1hdGguY2VpbCh2WzBdKTtcbiAgICBkc3RbMV0gPSBNYXRoLmNlaWwodlsxXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQXBwbGllcyBNYXRoLmZsb29yIHRvIGVhY2ggZWxlbWVudCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgZmxvb3Igb2YgZWFjaCBlbGVtZW50IG9mIHYuXG4gKi9cbmZ1bmN0aW9uIGZsb29yJDIodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0gTWF0aC5mbG9vcih2WzBdKTtcbiAgICBkc3RbMV0gPSBNYXRoLmZsb29yKHZbMV0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGxpZXMgTWF0aC5yb3VuZCB0byBlYWNoIGVsZW1lbnQgb2YgdmVjdG9yXG4gKiBAcGFyYW0gdiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgaXMgdGhlIHJvdW5kIG9mIGVhY2ggZWxlbWVudCBvZiB2LlxuICovXG5mdW5jdGlvbiByb3VuZCQyKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IE1hdGgucm91bmQodlswXSk7XG4gICAgZHN0WzFdID0gTWF0aC5yb3VuZCh2WzFdKTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDbGFtcCBlYWNoIGVsZW1lbnQgb2YgdmVjdG9yIGJldHdlZW4gbWluIGFuZCBtYXhcbiAqIEBwYXJhbSB2IC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gbWF4IC0gTWluIHZhbHVlLCBkZWZhdWx0IDBcbiAqIEBwYXJhbSBtaW4gLSBNYXggdmFsdWUsIGRlZmF1bHQgMVxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgdGhlIGNsYW1wZWQgdmFsdWUgb2YgZWFjaCBlbGVtZW50IG9mIHYuXG4gKi9cbmZ1bmN0aW9uIGNsYW1wJDIodiwgbWluID0gMCwgbWF4ID0gMSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZbMF0pKTtcbiAgICBkc3RbMV0gPSBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgdlsxXSkpO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlY3RvcnM7IGFzc3VtZXMgYSBhbmQgYiBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgaXMgdGhlIHN1bSBvZiBhIGFuZCBiLlxuICovXG5mdW5jdGlvbiBhZGQkMyhhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMigyKTtcbiAgICBkc3RbMF0gPSBhWzBdICsgYlswXTtcbiAgICBkc3RbMV0gPSBhWzFdICsgYlsxXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWN0b3JzLCBzY2FsaW5nIHRoZSAybmQ7IGFzc3VtZXMgYSBhbmQgYiBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHNjYWxlIC0gQW1vdW50IHRvIHNjYWxlIGJcbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB0aGF0IGlzIHRoZSBzdW0gb2YgYSArIGIgKiBzY2FsZS5cbiAqL1xuZnVuY3Rpb24gYWRkU2NhbGVkJDIoYSwgYiwgc2NhbGUsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gICAgZHN0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhbmdsZSBpbiByYWRpYW5zIGJldHdlZW4gdHdvIHZlY3RvcnMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIFRoZSBhbmdsZSBpbiByYWRpYW5zIGJldHdlZW4gdGhlIDIgdmVjdG9ycy5cbiAqL1xuZnVuY3Rpb24gYW5nbGUkMihhLCBiKSB7XG4gICAgY29uc3QgYXggPSBhWzBdO1xuICAgIGNvbnN0IGF5ID0gYVsxXTtcbiAgICBjb25zdCBieCA9IGFbMF07XG4gICAgY29uc3QgYnkgPSBhWzFdO1xuICAgIGNvbnN0IG1hZzEgPSBNYXRoLnNxcnQoYXggKiBheCArIGF5ICogYXkpO1xuICAgIGNvbnN0IG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkpO1xuICAgIGNvbnN0IG1hZyA9IG1hZzEgKiBtYWcyO1xuICAgIGNvbnN0IGNvc2luZSA9IG1hZyAmJiBkb3QkMyhhLCBiKSAvIG1hZztcbiAgICByZXR1cm4gTWF0aC5hY29zKGNvc2luZSk7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB0d28gdmVjdG9ycy5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgaXMgdGhlIGRpZmZlcmVuY2Ugb2YgYSBhbmQgYi5cbiAqL1xuZnVuY3Rpb24gc3VidHJhY3QkMyhhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMigyKTtcbiAgICBkc3RbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBkc3RbMV0gPSBhWzFdIC0gYlsxXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdHdvIHZlY3RvcnMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB0aGF0IGlzIHRoZSBkaWZmZXJlbmNlIG9mIGEgYW5kIGIuXG4gKi9cbmNvbnN0IHN1YiQzID0gc3VidHJhY3QkMztcbi8qKlxuICogQ2hlY2sgaWYgMiB2ZWN0b3JzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHRydWUgaWYgdmVjdG9ycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHNBcHByb3hpbWF0ZWx5JDUoYSwgYikge1xuICAgIHJldHVybiBNYXRoLmFicyhhWzBdIC0gYlswXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMV0gLSBiWzFdKSA8IEVQU0lMT047XG59XG4vKipcbiAqIENoZWNrIGlmIDIgdmVjdG9ycyBhcmUgZXhhY3RseSBlcXVhbFxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHZlY3RvcnMgYXJlIGV4YWN0bHkgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzJDUoYSwgYikge1xuICAgIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV07XG59XG4vKipcbiAqIFBlcmZvcm1zIGxpbmVhciBpbnRlcnBvbGF0aW9uIG9uIHR3byB2ZWN0b3JzLlxuICogR2l2ZW4gdmVjdG9ycyBhIGFuZCBiIGFuZCBpbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50IHQsIHJldHVybnNcbiAqIGEgKyB0ICogKGIgLSBhKS5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHQgLSBJbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50LlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBsaW5lYXIgaW50ZXJwb2xhdGVkIHJlc3VsdC5cbiAqL1xuZnVuY3Rpb24gbGVycCQzKGEsIGIsIHQsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IGFbMF0gKyB0ICogKGJbMF0gLSBhWzBdKTtcbiAgICBkc3RbMV0gPSBhWzFdICsgdCAqIChiWzFdIC0gYVsxXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUGVyZm9ybXMgbGluZWFyIGludGVycG9sYXRpb24gb24gdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgYW5kIGludGVycG9sYXRpb24gY29lZmZpY2llbnQgdmVjdG9yIHQsIHJldHVybnNcbiAqIGEgKyB0ICogKGIgLSBhKS5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHQgLSBJbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50cyB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgdGhlIGxpbmVhciBpbnRlcnBvbGF0ZWQgcmVzdWx0LlxuICovXG5mdW5jdGlvbiBsZXJwViQyKGEsIGIsIHQsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IGFbMF0gKyB0WzBdICogKGJbMF0gLSBhWzBdKTtcbiAgICBkc3RbMV0gPSBhWzFdICsgdFsxXSAqIChiWzFdIC0gYVsxXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUmV0dXJuIG1heCB2YWx1ZXMgb2YgdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgcmV0dXJuc1xuICogW21heChhWzBdLCBiWzBdKSwgbWF4KGFbMV0sIGJbMV0pLCBtYXgoYVsyXSwgYlsyXSldLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1heCBjb21wb25lbnRzIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbWF4JDIoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gICAgZHN0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUmV0dXJuIG1pbiB2YWx1ZXMgb2YgdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgcmV0dXJuc1xuICogW21pbihhWzBdLCBiWzBdKSwgbWluKGFbMV0sIGJbMV0pLCBtaW4oYVsyXSwgYlsyXSldLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1pbiBjb21wb25lbnRzIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbWluJDIoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gICAgZHN0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhIHNjYWxhci5cbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSBrIC0gVGhlIHNjYWxhci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgc2NhbGVkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbXVsU2NhbGFyJDModiwgaywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0gdlswXSAqIGs7XG4gICAgZHN0WzFdID0gdlsxXSAqIGs7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhIHNjYWxhci4gKHNhbWUgYXMgbXVsU2NhbGFyKVxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGsgLSBUaGUgc2NhbGFyLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsZWQgdmVjdG9yLlxuICovXG5jb25zdCBzY2FsZSQ1ID0gbXVsU2NhbGFyJDM7XG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gayAtIFRoZSBzY2FsYXIuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGRpdlNjYWxhciQzKHYsIGssIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IHZbMF0gLyBrO1xuICAgIGRzdFsxXSA9IHZbMV0gLyBrO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEludmVyc2UgYSB2ZWN0b3IuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIGludmVydGVkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gaW52ZXJzZSQ1KHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IDEgLyB2WzBdO1xuICAgIGRzdFsxXSA9IDEgLyB2WzFdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEludmVydCBhIHZlY3Rvci4gKHNhbWUgYXMgaW52ZXJzZSlcbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgaW52ZXJ0ZWQgdmVjdG9yLlxuICovXG5jb25zdCBpbnZlcnQkNCA9IGludmVyc2UkNTtcbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnM7IGFzc3VtZXMgYm90aCB2ZWN0b3JzIGhhdmVcbiAqIHRocmVlIGVudHJpZXMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdmVjdG9yIG9mIGEgY3Jvc3MgYi5cbiAqL1xuZnVuY3Rpb24gY3Jvc3MkMShhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMigzKTtcbiAgICBjb25zdCB6ID0gYVswXSAqIGJbMV0gLSBhWzFdICogYlswXTtcbiAgICBkc3RbMF0gPSAwO1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gejtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnM7IGFzc3VtZXMgYm90aCB2ZWN0b3JzIGhhdmVcbiAqIHRocmVlIGVudHJpZXMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRvdCBwcm9kdWN0XG4gKi9cbmZ1bmN0aW9uIGRvdCQzKGEsIGIpIHtcbiAgICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxlbmd0aCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gdmVjdG9yLlxuICogQHJldHVybnMgbGVuZ3RoIG9mIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbGVuZ3RoJDModikge1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgcmV0dXJuIE1hdGguc3FydCh2MCAqIHYwICsgdjEgKiB2MSk7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBsZW5ndGggb2YgdmVjdG9yIChzYW1lIGFzIGxlbmd0aClcbiAqIEBwYXJhbSB2IC0gdmVjdG9yLlxuICogQHJldHVybnMgbGVuZ3RoIG9mIHZlY3Rvci5cbiAqL1xuY29uc3QgbGVuJDMgPSBsZW5ndGgkMztcbi8qKlxuICogQ29tcHV0ZXMgdGhlIHNxdWFyZSBvZiB0aGUgbGVuZ3RoIG9mIHZlY3RvclxuICogQHBhcmFtIHYgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGxlbmd0aFNxJDModikge1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgcmV0dXJuIHYwICogdjAgKyB2MSAqIHYxO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgdmVjdG9yIChzYW1lIGFzIGxlbmd0aFNxKVxuICogQHBhcmFtIHYgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB2ZWN0b3IuXG4gKi9cbmNvbnN0IGxlblNxJDMgPSBsZW5ndGhTcSQzO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAyIHBvaW50c1xuICogQHBhcmFtIGEgLSB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5mdW5jdGlvbiBkaXN0YW5jZSQyKGEsIGIpIHtcbiAgICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIChzYW1lIGFzIGRpc3RhbmNlKVxuICogQHBhcmFtIGEgLSB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5jb25zdCBkaXN0JDIgPSBkaXN0YW5jZSQyO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzXG4gKiBAcGFyYW0gYSAtIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuZnVuY3Rpb24gZGlzdGFuY2VTcSQyKGEsIGIpIHtcbiAgICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIChzYW1lIGFzIGRpc3RhbmNlU3EpXG4gKiBAcGFyYW0gYSAtIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuY29uc3QgZGlzdFNxJDIgPSBkaXN0YW5jZVNxJDI7XG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgaXRzIEV1Y2xpZGVhbiBsZW5ndGggYW5kIHJldHVybnMgdGhlIHF1b3RpZW50LlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplJDModiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgY29uc3QgdjAgPSB2WzBdO1xuICAgIGNvbnN0IHYxID0gdlsxXTtcbiAgICBjb25zdCBsZW4gPSBNYXRoLnNxcnQodjAgKiB2MCArIHYxICogdjEpO1xuICAgIGlmIChsZW4gPiAwLjAwMDAxKSB7XG4gICAgICAgIGRzdFswXSA9IHYwIC8gbGVuO1xuICAgICAgICBkc3RbMV0gPSB2MSAvIGxlbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRzdFswXSA9IDA7XG4gICAgICAgIGRzdFsxXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE5lZ2F0ZXMgYSB2ZWN0b3IuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgLXYuXG4gKi9cbmZ1bmN0aW9uIG5lZ2F0ZSQ0KHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IC12WzBdO1xuICAgIGRzdFsxXSA9IC12WzFdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvcGllcyBhIHZlY3Rvci4gKHNhbWUgYXMge0BsaW5rIHZlYzIuY2xvbmV9KVxuICogQWxzbyBzZWUge0BsaW5rIHZlYzIuY3JlYXRlfSBhbmQge0BsaW5rIHZlYzIuc2V0fVxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgY29weSBvZiB2LlxuICovXG5mdW5jdGlvbiBjb3B5JDUodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDIoMik7XG4gICAgZHN0WzBdID0gdlswXTtcbiAgICBkc3RbMV0gPSB2WzFdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENsb25lcyBhIHZlY3Rvci4gKHNhbWUgYXMge0BsaW5rIHZlYzIuY29weX0pXG4gKiBBbHNvIHNlZSB7QGxpbmsgdmVjMi5jcmVhdGV9IGFuZCB7QGxpbmsgdmVjMi5zZXR9XG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBjb3B5IG9mIHYuXG4gKi9cbmNvbnN0IGNsb25lJDUgPSBjb3B5JDU7XG4vKipcbiAqIE11bHRpcGxpZXMgYSB2ZWN0b3IgYnkgYW5vdGhlciB2ZWN0b3IgKGNvbXBvbmVudC13aXNlKTsgYXNzdW1lcyBhIGFuZFxuICogYiBoYXZlIHRoZSBzYW1lIGxlbmd0aC5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB2ZWN0b3Igb2YgcHJvZHVjdHMgb2YgZW50cmllcyBvZiBhIGFuZCBiLlxuICovXG5mdW5jdGlvbiBtdWx0aXBseSQ1KGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IGFbMF0gKiBiWzBdO1xuICAgIGRzdFsxXSA9IGFbMV0gKiBiWzFdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgYSB2ZWN0b3IgYnkgYW5vdGhlciB2ZWN0b3IgKGNvbXBvbmVudC13aXNlKTsgYXNzdW1lcyBhIGFuZFxuICogYiBoYXZlIHRoZSBzYW1lIGxlbmd0aC4gKHNhbWUgYXMgbXVsKVxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBwcm9kdWN0cyBvZiBlbnRyaWVzIG9mIGEgYW5kIGIuXG4gKi9cbmNvbnN0IG11bCQ1ID0gbXVsdGlwbHkkNTtcbi8qKlxuICogRGl2aWRlcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciAoY29tcG9uZW50LXdpc2UpOyBhc3N1bWVzIGEgYW5kXG4gKiBiIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBxdW90aWVudHMgb2YgZW50cmllcyBvZiBhIGFuZCBiLlxuICovXG5mdW5jdGlvbiBkaXZpZGUkMihhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMigyKTtcbiAgICBkc3RbMF0gPSBhWzBdIC8gYlswXTtcbiAgICBkc3RbMV0gPSBhWzFdIC8gYlsxXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBEaXZpZGVzIGEgdmVjdG9yIGJ5IGFub3RoZXIgdmVjdG9yIChjb21wb25lbnQtd2lzZSk7IGFzc3VtZXMgYSBhbmRcbiAqIGIgaGF2ZSB0aGUgc2FtZSBsZW5ndGguIChzYW1lIGFzIGRpdmlkZSlcbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB2ZWN0b3Igb2YgcXVvdGllbnRzIG9mIGVudHJpZXMgb2YgYSBhbmQgYi5cbiAqL1xuY29uc3QgZGl2JDIgPSBkaXZpZGUkMjtcbi8qKlxuICogQ3JlYXRlcyBhIHJhbmRvbSB1bml0IHZlY3RvciAqIHNjYWxlXG4gKiBAcGFyYW0gc2NhbGUgLSBEZWZhdWx0IDFcbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgcmFuZG9tIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gcmFuZG9tJDEoc2NhbGUgPSAxLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMigyKTtcbiAgICBjb25zdCBhbmdsZSA9IE1hdGgucmFuZG9tKCkgKiAyICogTWF0aC5QSTtcbiAgICBkc3RbMF0gPSBNYXRoLmNvcyhhbmdsZSkgKiBzY2FsZTtcbiAgICBkc3RbMV0gPSBNYXRoLnNpbihhbmdsZSkgKiBzY2FsZTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBaZXJvJ3MgYSB2ZWN0b3JcbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgemVyb2VkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gemVybyQyKGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGRzdFswXSA9IDA7XG4gICAgZHN0WzFdID0gMDtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiB0cmFuc2Zvcm0gVmVjMiBieSA0eDQgbWF0cml4XG4gKiBAcGFyYW0gdiAtIHRoZSB2ZWN0b3JcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBvcHRpb25hbCBWZWMyIHRvIHN0b3JlIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCB2ZWN0b3JcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtTWF0NCQyKHYsIG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGNvbnN0IHggPSB2WzBdO1xuICAgIGNvbnN0IHkgPSB2WzFdO1xuICAgIGRzdFswXSA9IHggKiBtWzBdICsgeSAqIG1bNF0gKyBtWzEyXTtcbiAgICBkc3RbMV0gPSB4ICogbVsxXSArIHkgKiBtWzVdICsgbVsxM107XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB2ZWM0IGJ5IDN4MyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0gdiAtIHRoZSB2ZWN0b3JcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBvcHRpb25hbCBWZWMyIHRvIHN0b3JlIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCB2ZWN0b3JcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyQxKHYsIG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQyKDIpO1xuICAgIGNvbnN0IHggPSB2WzBdO1xuICAgIGNvbnN0IHkgPSB2WzFdO1xuICAgIGRzdFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdO1xuICAgIGRzdFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldO1xuICAgIHJldHVybiBkc3Q7XG59XG5cbnZhciB2ZWMySW1wbCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgY3JlYXRlOiBjcmVhdGUkNSxcbiAgICBzZXREZWZhdWx0VHlwZTogc2V0RGVmYXVsdFR5cGUkNixcbiAgICBmcm9tVmFsdWVzOiBmcm9tVmFsdWVzJDMsXG4gICAgc2V0OiBzZXQkNSxcbiAgICBjZWlsOiBjZWlsJDIsXG4gICAgZmxvb3I6IGZsb29yJDIsXG4gICAgcm91bmQ6IHJvdW5kJDIsXG4gICAgY2xhbXA6IGNsYW1wJDIsXG4gICAgYWRkOiBhZGQkMyxcbiAgICBhZGRTY2FsZWQ6IGFkZFNjYWxlZCQyLFxuICAgIGFuZ2xlOiBhbmdsZSQyLFxuICAgIHN1YnRyYWN0OiBzdWJ0cmFjdCQzLFxuICAgIHN1Yjogc3ViJDMsXG4gICAgZXF1YWxzQXBwcm94aW1hdGVseTogZXF1YWxzQXBwcm94aW1hdGVseSQ1LFxuICAgIGVxdWFsczogZXF1YWxzJDUsXG4gICAgbGVycDogbGVycCQzLFxuICAgIGxlcnBWOiBsZXJwViQyLFxuICAgIG1heDogbWF4JDIsXG4gICAgbWluOiBtaW4kMixcbiAgICBtdWxTY2FsYXI6IG11bFNjYWxhciQzLFxuICAgIHNjYWxlOiBzY2FsZSQ1LFxuICAgIGRpdlNjYWxhcjogZGl2U2NhbGFyJDMsXG4gICAgaW52ZXJzZTogaW52ZXJzZSQ1LFxuICAgIGludmVydDogaW52ZXJ0JDQsXG4gICAgY3Jvc3M6IGNyb3NzJDEsXG4gICAgZG90OiBkb3QkMyxcbiAgICBsZW5ndGg6IGxlbmd0aCQzLFxuICAgIGxlbjogbGVuJDMsXG4gICAgbGVuZ3RoU3E6IGxlbmd0aFNxJDMsXG4gICAgbGVuU3E6IGxlblNxJDMsXG4gICAgZGlzdGFuY2U6IGRpc3RhbmNlJDIsXG4gICAgZGlzdDogZGlzdCQyLFxuICAgIGRpc3RhbmNlU3E6IGRpc3RhbmNlU3EkMixcbiAgICBkaXN0U3E6IGRpc3RTcSQyLFxuICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplJDMsXG4gICAgbmVnYXRlOiBuZWdhdGUkNCxcbiAgICBjb3B5OiBjb3B5JDUsXG4gICAgY2xvbmU6IGNsb25lJDUsXG4gICAgbXVsdGlwbHk6IG11bHRpcGx5JDUsXG4gICAgbXVsOiBtdWwkNSxcbiAgICBkaXZpZGU6IGRpdmlkZSQyLFxuICAgIGRpdjogZGl2JDIsXG4gICAgcmFuZG9tOiByYW5kb20kMSxcbiAgICB6ZXJvOiB6ZXJvJDIsXG4gICAgdHJhbnNmb3JtTWF0NDogdHJhbnNmb3JtTWF0NCQyLFxuICAgIHRyYW5zZm9ybU1hdDM6IHRyYW5zZm9ybU1hdDMkMVxufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbi8qKlxuICogM3gzIE1hdHJpeCBtYXRoIG1hdGggZnVuY3Rpb25zLlxuICpcbiAqIEFsbW9zdCBhbGwgZnVuY3Rpb25zIHRha2UgYW4gb3B0aW9uYWwgYGRzdGAgYXJndW1lbnQuIElmIGl0IGlzIG5vdCBwYXNzZWQgaW4gdGhlXG4gKiBmdW5jdGlvbnMgd2lsbCBjcmVhdGUgYSBuZXcgbWF0cml4LiBJbiBvdGhlciB3b3JkcyB5b3UgY2FuIGRvIHRoaXNcbiAqXG4gKiAgICAgY29uc3QgbWF0ID0gbWF0My50cmFuc2xhdGlvbihbMSwgMiwgM10pOyAgLy8gQ3JlYXRlcyBhIG5ldyB0cmFuc2xhdGlvbiBtYXRyaXhcbiAqXG4gKiBvclxuICpcbiAqICAgICBjb25zdCBtYXQgPSBtYXQzLmNyZWF0ZSgpO1xuICogICAgIG1hdDMudHJhbnNsYXRpb24oWzEsIDIsIDNdLCBtYXQpOyAgLy8gUHV0cyB0cmFuc2xhdGlvbiBtYXRyaXggaW4gbWF0LlxuICpcbiAqIFRoZSBmaXJzdCBzdHlsZSBpcyBvZnRlbiBlYXNpZXIgYnV0IGRlcGVuZGluZyBvbiB3aGVyZSBpdCdzIHVzZWQgaXQgZ2VuZXJhdGVzIGdhcmJhZ2Ugd2hlcmVcbiAqIGFzIHRoZXJlIGlzIGFsbW9zdCBuZXZlciBhbGxvY2F0aW9uIHdpdGggdGhlIHNlY29uZCBzdHlsZS5cbiAqXG4gKiBJdCBpcyBhbHdheXMgc2F2ZSB0byBwYXNzIGFueSBtYXRyaXggYXMgdGhlIGRlc3RpbmF0aW9uLiBTbyBmb3IgZXhhbXBsZVxuICpcbiAqICAgICBjb25zdCBtYXQgPSBtYXQzLmlkZW50aXR5KCk7XG4gKiAgICAgY29uc3QgdHJhbnMgPSBtYXQzLnRyYW5zbGF0aW9uKFsxLCAyLCAzXSk7XG4gKiAgICAgbWF0My5tdWx0aXBseShtYXQsIHRyYW5zLCBtYXQpOyAgLy8gTXVsdGlwbGllcyBtYXQgKiB0cmFucyBhbmQgcHV0cyByZXN1bHQgaW4gbWF0LlxuICpcbiAqL1xubGV0IE1hdFR5cGUkMSA9IEZsb2F0MzJBcnJheTtcbi8vIFRoaXMgbWVzcyBpcyBiZWNhdXNlIHdpdGggTWF0MyB3ZSBoYXZlIDMgdW51c2VkIGVsZW1lbnRzLlxuLy8gRm9yIEZsb2F0MzJBcnJheSBhbmQgRmxvYXQ2NEFycmF5IHRoYXQncyBub3QgYW4gaXNzdWVcbi8vIGJ1dCBmb3IgQXJyYXkgaXQncyB0cm91Ymxlc29tZVxuY29uc3QgY3Rvck1hcCA9IG5ldyBNYXAoW1xuICAgIFtGbG9hdDMyQXJyYXksICgpID0+IG5ldyBGbG9hdDMyQXJyYXkoMTIpXSxcbiAgICBbRmxvYXQ2NEFycmF5LCAoKSA9PiBuZXcgRmxvYXQ2NEFycmF5KDEyKV0sXG4gICAgW0FycmF5LCAoKSA9PiBuZXcgQXJyYXkoMTIpLmZpbGwoMCldLFxuXSk7XG5sZXQgbmV3TWF0MyA9IGN0b3JNYXAuZ2V0KEZsb2F0MzJBcnJheSk7XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgdGhpcyBsaWJyYXJ5IGNyZWF0ZXMgZm9yIGEgTWF0M1xuICogQHBhcmFtIGN0b3IgLSB0aGUgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlLiBFaXRoZXIgYEZsb2F0MzJBcnJheWAsIGBGbG9hdDY0QXJyYXlgLCBvciBgQXJyYXlgXG4gKiBAcmV0dXJucyBwcmV2aW91cyBjb25zdHJ1Y3RvciBmb3IgTWF0M1xuICovXG5mdW5jdGlvbiBzZXREZWZhdWx0VHlwZSQ1KGN0b3IpIHtcbiAgICBjb25zdCBvbGRUeXBlID0gTWF0VHlwZSQxO1xuICAgIE1hdFR5cGUkMSA9IGN0b3I7XG4gICAgbmV3TWF0MyA9IGN0b3JNYXAuZ2V0KGN0b3IpO1xuICAgIHJldHVybiBvbGRUeXBlO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBNYXQzIGZyb20gdmFsdWVzXG4gKlxuICogTm90ZTogU2luY2UgcGFzc2luZyBpbiBhIHJhdyBKYXZhU2NyaXB0IGFycmF5XG4gKiBpcyB2YWxpZCBpbiBhbGwgY2lyY3Vtc3RhbmNlcywgaWYgeW91IHdhbnQgdG9cbiAqIGZvcmNlIGEgSmF2YVNjcmlwdCBhcnJheSBpbnRvIGEgTWF0MydzIHNwZWNpZmllZCB0eXBlXG4gKiBpdCB3b3VsZCBiZSBmYXN0ZXIgdG8gdXNlXG4gKlxuICogYGBgXG4gKiBjb25zdCBtID0gbWF0My5jbG9uZShzb21lSlNBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBOb3RlOiBhIGNvbnNlcXVlbmNlIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBpcyBpZiB5b3VyIE1hdDNUeXBlID0gYEFycmF5YFxuICogaW5zdGVhZCBvZiBgRmxvYXQzMkFycmF5YCBvciBgRmxvYXQ2NEFycmF5YCB0aGVuIGFueSB2YWx1ZXMgeW91XG4gKiBkb24ndCBwYXNzIGluIHdpbGwgYmUgdW5kZWZpbmVkLiBVc3VhbGx5IHRoaXMgaXMgbm90IGFuIGlzc3VlIHNpbmNlXG4gKiAoYSkgdXNpbmcgYEFycmF5YCBpcyByYXJlIGFuZCAoYikgdXNpbmcgYG1hdDMuY3JlYXRlYCBpcyB1c3VhbGx5IHVzZWRcbiAqIHRvIGNyZWF0ZSBhIE1hdDMgdG8gYmUgZmlsbGVkIG91dCBhcyBpblxuICpcbiAqIGBgYFxuICogY29uc3QgbSA9IG1hdDMuY3JlYXRlKCk7XG4gKiBtYXQzLnBlcnNwZWN0aXZlKGZvdiwgYXNwZWN0LCBuZWFyLCBmYXIsIG0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHYwIC0gdmFsdWUgZm9yIGVsZW1lbnQgMFxuICogQHBhcmFtIHYxIC0gdmFsdWUgZm9yIGVsZW1lbnQgMVxuICogQHBhcmFtIHYyIC0gdmFsdWUgZm9yIGVsZW1lbnQgMlxuICogQHBhcmFtIHYzIC0gdmFsdWUgZm9yIGVsZW1lbnQgM1xuICogQHBhcmFtIHY0IC0gdmFsdWUgZm9yIGVsZW1lbnQgNFxuICogQHBhcmFtIHY1IC0gdmFsdWUgZm9yIGVsZW1lbnQgNVxuICogQHBhcmFtIHY2IC0gdmFsdWUgZm9yIGVsZW1lbnQgNlxuICogQHBhcmFtIHY3IC0gdmFsdWUgZm9yIGVsZW1lbnQgN1xuICogQHBhcmFtIHY4IC0gdmFsdWUgZm9yIGVsZW1lbnQgOFxuICogQHJldHVybnMgbWF0cml4IGNyZWF0ZWQgZnJvbSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZSQ0KHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgpIHtcbiAgICBjb25zdCBkc3QgPSBuZXdNYXQzKCk7XG4gICAgLy8gdG8gbWFrZSB0aGUgYXJyYXkgaG9tb2dlbm91c1xuICAgIGRzdFszXSA9IDA7XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbMTFdID0gMDtcbiAgICBpZiAodjAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkc3RbMF0gPSB2MDtcbiAgICAgICAgaWYgKHYxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdFsxXSA9IHYxO1xuICAgICAgICAgICAgaWYgKHYyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkc3RbMl0gPSB2MjtcbiAgICAgICAgICAgICAgICBpZiAodjMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkc3RbNF0gPSB2MztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHY0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdFs1XSA9IHY0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY1ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbNl0gPSB2NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbOF0gPSB2NjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdFs5XSA9IHY3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbMTBdID0gdjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogU2V0cyB0aGUgdmFsdWVzIG9mIGEgTWF0M1xuICogQWxzbyBzZWUge0BsaW5rIG1hdDMuY3JlYXRlfSBhbmQge0BsaW5rIG1hdDMuY29weX1cbiAqXG4gKiBAcGFyYW0gdjAgLSB2YWx1ZSBmb3IgZWxlbWVudCAwXG4gKiBAcGFyYW0gdjEgLSB2YWx1ZSBmb3IgZWxlbWVudCAxXG4gKiBAcGFyYW0gdjIgLSB2YWx1ZSBmb3IgZWxlbWVudCAyXG4gKiBAcGFyYW0gdjMgLSB2YWx1ZSBmb3IgZWxlbWVudCAzXG4gKiBAcGFyYW0gdjQgLSB2YWx1ZSBmb3IgZWxlbWVudCA0XG4gKiBAcGFyYW0gdjUgLSB2YWx1ZSBmb3IgZWxlbWVudCA1XG4gKiBAcGFyYW0gdjYgLSB2YWx1ZSBmb3IgZWxlbWVudCA2XG4gKiBAcGFyYW0gdjcgLSB2YWx1ZSBmb3IgZWxlbWVudCA3XG4gKiBAcGFyYW0gdjggLSB2YWx1ZSBmb3IgZWxlbWVudCA4XG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgTWF0MyBzZXQgZnJvbSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldCQ0KHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgZHN0WzBdID0gdjA7XG4gICAgZHN0WzFdID0gdjE7XG4gICAgZHN0WzJdID0gdjI7XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSB2MztcbiAgICBkc3RbNV0gPSB2NDtcbiAgICBkc3RbNl0gPSB2NTtcbiAgICBkc3RbN10gPSAwO1xuICAgIGRzdFs4XSA9IHY2O1xuICAgIGRzdFs5XSA9IHY3O1xuICAgIGRzdFsxMF0gPSB2ODtcbiAgICBkc3RbMTFdID0gMDtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgTWF0MyBmcm9tIHRoZSB1cHBlciBsZWZ0IDN4MyBwYXJ0IG9mIGEgTWF0NFxuICogQHBhcmFtIG00IC0gc291cmNlIG1hdHJpeFxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIE1hdDMgbWFkZSBmcm9tIG00XG4gKi9cbmZ1bmN0aW9uIGZyb21NYXQ0KG00LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3TWF0MygpO1xuICAgIGRzdFswXSA9IG00WzBdO1xuICAgIGRzdFsxXSA9IG00WzFdO1xuICAgIGRzdFsyXSA9IG00WzJdO1xuICAgIGRzdFszXSA9IDA7XG4gICAgZHN0WzRdID0gbTRbNF07XG4gICAgZHN0WzVdID0gbTRbNV07XG4gICAgZHN0WzZdID0gbTRbNl07XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbOF0gPSBtNFs4XTtcbiAgICBkc3RbOV0gPSBtNFs5XTtcbiAgICBkc3RbMTBdID0gbTRbMTBdO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBNYXQzIHJvdGF0aW9uIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvblxuICogQHBhcmFtIHEgLSBxdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIE1hdDMgbWFkZSBmcm9tIHFcbiAqL1xuZnVuY3Rpb24gZnJvbVF1YXQkMShxLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3TWF0MygpO1xuICAgIGNvbnN0IHggPSBxWzBdO1xuICAgIGNvbnN0IHkgPSBxWzFdO1xuICAgIGNvbnN0IHogPSBxWzJdO1xuICAgIGNvbnN0IHcgPSBxWzNdO1xuICAgIGNvbnN0IHgyID0geCArIHg7XG4gICAgY29uc3QgeTIgPSB5ICsgeTtcbiAgICBjb25zdCB6MiA9IHogKyB6O1xuICAgIGNvbnN0IHh4ID0geCAqIHgyO1xuICAgIGNvbnN0IHl4ID0geSAqIHgyO1xuICAgIGNvbnN0IHl5ID0geSAqIHkyO1xuICAgIGNvbnN0IHp4ID0geiAqIHgyO1xuICAgIGNvbnN0IHp5ID0geiAqIHkyO1xuICAgIGNvbnN0IHp6ID0geiAqIHoyO1xuICAgIGNvbnN0IHd4ID0gdyAqIHgyO1xuICAgIGNvbnN0IHd5ID0gdyAqIHkyO1xuICAgIGNvbnN0IHd6ID0gdyAqIHoyO1xuICAgIGRzdFswXSA9IDEgLSB5eSAtIHp6O1xuICAgIGRzdFsxXSA9IHl4ICsgd3o7XG4gICAgZHN0WzJdID0genggLSB3eTtcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IHl4IC0gd3o7XG4gICAgZHN0WzVdID0gMSAtIHh4IC0geno7XG4gICAgZHN0WzZdID0genkgKyB3eDtcbiAgICBkc3RbN10gPSAwO1xuICAgIGRzdFs4XSA9IHp4ICsgd3k7XG4gICAgZHN0WzldID0genkgLSB3eDtcbiAgICBkc3RbMTBdID0gMSAtIHh4IC0geXk7XG4gICAgZHN0WzExXSA9IDA7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTmVnYXRlcyBhIG1hdHJpeC5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyAtbS5cbiAqL1xuZnVuY3Rpb24gbmVnYXRlJDMobSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ld01hdDMoKTtcbiAgICBkc3RbMF0gPSAtbVswXTtcbiAgICBkc3RbMV0gPSAtbVsxXTtcbiAgICBkc3RbMl0gPSAtbVsyXTtcbiAgICBkc3RbNF0gPSAtbVs0XTtcbiAgICBkc3RbNV0gPSAtbVs1XTtcbiAgICBkc3RbNl0gPSAtbVs2XTtcbiAgICBkc3RbOF0gPSAtbVs4XTtcbiAgICBkc3RbOV0gPSAtbVs5XTtcbiAgICBkc3RbMTBdID0gLW1bMTBdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvcGllcyBhIG1hdHJpeC4gKHNhbWUgYXMge0BsaW5rIG1hdDMuY2xvbmV9KVxuICogQWxzbyBzZWUge0BsaW5rIG1hdDMuY3JlYXRlfSBhbmQge0BsaW5rIG1hdDMuc2V0fVxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGRzdCAtIFRoZSBtYXRyaXguIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIGNvcHkgb2YgbS5cbiAqL1xuZnVuY3Rpb24gY29weSQ0KG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgZHN0WzBdID0gbVswXTtcbiAgICBkc3RbMV0gPSBtWzFdO1xuICAgIGRzdFsyXSA9IG1bMl07XG4gICAgZHN0WzRdID0gbVs0XTtcbiAgICBkc3RbNV0gPSBtWzVdO1xuICAgIGRzdFs2XSA9IG1bNl07XG4gICAgZHN0WzhdID0gbVs4XTtcbiAgICBkc3RbOV0gPSBtWzldO1xuICAgIGRzdFsxMF0gPSBtWzEwXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb3BpZXMgYSBtYXRyaXggKHNhbWUgYXMge0BsaW5rIG1hdDMuY29weX0pXG4gKiBBbHNvIHNlZSB7QGxpbmsgbWF0My5jcmVhdGV9IGFuZCB7QGxpbmsgbWF0My5zZXR9XG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gZHN0IC0gVGhlIG1hdHJpeC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgY29weSBvZiBtLlxuICovXG5jb25zdCBjbG9uZSQ0ID0gY29weSQ0O1xuLyoqXG4gKiBDaGVjayBpZiAyIG1hdHJpY2VzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKiBAcGFyYW0gYSBPcGVyYW5kIG1hdHJpeC5cbiAqIEBwYXJhbSBiIE9wZXJhbmQgbWF0cml4LlxuICogQHJldHVybnMgdHJ1ZSBpZiBtYXRyaWNlcyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHNBcHByb3hpbWF0ZWx5JDQoYSwgYikge1xuICAgIHJldHVybiBNYXRoLmFicyhhWzBdIC0gYlswXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMV0gLSBiWzFdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVsyXSAtIGJbMl0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzRdIC0gYls0XSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbNV0gLSBiWzVdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVs2XSAtIGJbNl0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzhdIC0gYls4XSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbOV0gLSBiWzldKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVsxMF0gLSBiWzEwXSkgPCBFUFNJTE9OO1xufVxuLyoqXG4gKiBDaGVjayBpZiAyIG1hdHJpY2VzIGFyZSBleGFjdGx5IGVxdWFsXG4gKiBAcGFyYW0gYSBPcGVyYW5kIG1hdHJpeC5cbiAqIEBwYXJhbSBiIE9wZXJhbmQgbWF0cml4LlxuICogQHJldHVybnMgdHJ1ZSBpZiBtYXRyaWNlcyBhcmUgZXhhY3RseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHMkNChhLCBiKSB7XG4gICAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiZcbiAgICAgICAgYVsxXSA9PT0gYlsxXSAmJlxuICAgICAgICBhWzJdID09PSBiWzJdICYmXG4gICAgICAgIGFbNF0gPT09IGJbNF0gJiZcbiAgICAgICAgYVs1XSA9PT0gYls1XSAmJlxuICAgICAgICBhWzZdID09PSBiWzZdICYmXG4gICAgICAgIGFbOF0gPT09IGJbOF0gJiZcbiAgICAgICAgYVs5XSA9PT0gYls5XSAmJlxuICAgICAgICBhWzEwXSA9PT0gYlsxMF07XG59XG4vKipcbiAqIENyZWF0ZXMgYSAzLWJ5LTMgaWRlbnRpdHkgbWF0cml4LlxuICpcbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIDMtYnktMyBpZGVudGl0eSBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5JDIoZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ld01hdDMoKTtcbiAgICBkc3RbMF0gPSAxO1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgICBkc3RbNF0gPSAwO1xuICAgIGRzdFs1XSA9IDE7XG4gICAgZHN0WzZdID0gMDtcbiAgICBkc3RbOF0gPSAwO1xuICAgIGRzdFs5XSA9IDA7XG4gICAgZHN0WzEwXSA9IDE7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogVGFrZXMgdGhlIHRyYW5zcG9zZSBvZiBhIG1hdHJpeC5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdHJhbnNwb3NlIG9mIG0uXG4gKi9cbmZ1bmN0aW9uIHRyYW5zcG9zZSQxKG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgaWYgKGRzdCA9PT0gbSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgLy8gMCAxIDJcbiAgICAgICAgLy8gNCA1IDZcbiAgICAgICAgLy8gOCA5IDEwXG4gICAgICAgIHQgPSBtWzFdO1xuICAgICAgICBtWzFdID0gbVs0XTtcbiAgICAgICAgbVs0XSA9IHQ7XG4gICAgICAgIHQgPSBtWzJdO1xuICAgICAgICBtWzJdID0gbVs4XTtcbiAgICAgICAgbVs4XSA9IHQ7XG4gICAgICAgIHQgPSBtWzZdO1xuICAgICAgICBtWzZdID0gbVs5XTtcbiAgICAgICAgbVs5XSA9IHQ7XG4gICAgICAgIHJldHVybiBkc3Q7XG4gICAgfVxuICAgIGNvbnN0IG0wMCA9IG1bMCAqIDQgKyAwXTtcbiAgICBjb25zdCBtMDEgPSBtWzAgKiA0ICsgMV07XG4gICAgY29uc3QgbTAyID0gbVswICogNCArIDJdO1xuICAgIGNvbnN0IG0xMCA9IG1bMSAqIDQgKyAwXTtcbiAgICBjb25zdCBtMTEgPSBtWzEgKiA0ICsgMV07XG4gICAgY29uc3QgbTEyID0gbVsxICogNCArIDJdO1xuICAgIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICAgIGRzdFswXSA9IG0wMDtcbiAgICBkc3RbMV0gPSBtMTA7XG4gICAgZHN0WzJdID0gbTIwO1xuICAgIGRzdFs0XSA9IG0wMTtcbiAgICBkc3RbNV0gPSBtMTE7XG4gICAgZHN0WzZdID0gbTIxO1xuICAgIGRzdFs4XSA9IG0wMjtcbiAgICBkc3RbOV0gPSBtMTI7XG4gICAgZHN0WzEwXSA9IG0yMjtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgaW52ZXJzZSBvZiBhIDMtYnktMyBtYXRyaXguXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIGludmVyc2Ugb2YgbS5cbiAqL1xuZnVuY3Rpb24gaW52ZXJzZSQ0KG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgY29uc3QgbTAwID0gbVswICogNCArIDBdO1xuICAgIGNvbnN0IG0wMSA9IG1bMCAqIDQgKyAxXTtcbiAgICBjb25zdCBtMDIgPSBtWzAgKiA0ICsgMl07XG4gICAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICAgIGNvbnN0IG0xMSA9IG1bMSAqIDQgKyAxXTtcbiAgICBjb25zdCBtMTIgPSBtWzEgKiA0ICsgMl07XG4gICAgY29uc3QgbTIwID0gbVsyICogNCArIDBdO1xuICAgIGNvbnN0IG0yMSA9IG1bMiAqIDQgKyAxXTtcbiAgICBjb25zdCBtMjIgPSBtWzIgKiA0ICsgMl07XG4gICAgY29uc3QgYjAxID0gbTIyICogbTExIC0gbTEyICogbTIxO1xuICAgIGNvbnN0IGIxMSA9IC1tMjIgKiBtMTAgKyBtMTIgKiBtMjA7XG4gICAgY29uc3QgYjIxID0gbTIxICogbTEwIC0gbTExICogbTIwO1xuICAgIGNvbnN0IGludkRldCA9IDEgLyAobTAwICogYjAxICsgbTAxICogYjExICsgbTAyICogYjIxKTtcbiAgICBkc3RbMF0gPSBiMDEgKiBpbnZEZXQ7XG4gICAgZHN0WzFdID0gKC1tMjIgKiBtMDEgKyBtMDIgKiBtMjEpICogaW52RGV0O1xuICAgIGRzdFsyXSA9IChtMTIgKiBtMDEgLSBtMDIgKiBtMTEpICogaW52RGV0O1xuICAgIGRzdFs0XSA9IGIxMSAqIGludkRldDtcbiAgICBkc3RbNV0gPSAobTIyICogbTAwIC0gbTAyICogbTIwKSAqIGludkRldDtcbiAgICBkc3RbNl0gPSAoLW0xMiAqIG0wMCArIG0wMiAqIG0xMCkgKiBpbnZEZXQ7XG4gICAgZHN0WzhdID0gYjIxICogaW52RGV0O1xuICAgIGRzdFs5XSA9ICgtbTIxICogbTAwICsgbTAxICogbTIwKSAqIGludkRldDtcbiAgICBkc3RbMTBdID0gKG0xMSAqIG0wMCAtIG0wMSAqIG0xMCkgKiBpbnZEZXQ7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSBtIC0gdGhlIG1hdHJpeFxuICogQHJldHVybnMgdGhlIGRldGVybWluYW50XG4gKi9cbmZ1bmN0aW9uIGRldGVybWluYW50JDEobSkge1xuICAgIGNvbnN0IG0wMCA9IG1bMCAqIDQgKyAwXTtcbiAgICBjb25zdCBtMDEgPSBtWzAgKiA0ICsgMV07XG4gICAgY29uc3QgbTAyID0gbVswICogNCArIDJdO1xuICAgIGNvbnN0IG0xMCA9IG1bMSAqIDQgKyAwXTtcbiAgICBjb25zdCBtMTEgPSBtWzEgKiA0ICsgMV07XG4gICAgY29uc3QgbTEyID0gbVsxICogNCArIDJdO1xuICAgIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICAgIHJldHVybiBtMDAgKiAobTExICogbTIyIC0gbTIxICogbTEyKSAtXG4gICAgICAgIG0xMCAqIChtMDEgKiBtMjIgLSBtMjEgKiBtMDIpICtcbiAgICAgICAgbTIwICogKG0wMSAqIG0xMiAtIG0xMSAqIG0wMik7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBpbnZlcnNlIG9mIGEgMy1ieS0zIG1hdHJpeC4gKHNhbWUgYXMgaW52ZXJzZSlcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgaW52ZXJzZSBvZiBtLlxuICovXG5jb25zdCBpbnZlcnQkMyA9IGludmVyc2UkNDtcbi8qKlxuICogTXVsdGlwbGllcyB0d28gMy1ieS0zIG1hdHJpY2VzIHdpdGggYSBvbiB0aGUgbGVmdCBhbmQgYiBvbiB0aGUgcmlnaHRcbiAqIEBwYXJhbSBhIC0gVGhlIG1hdHJpeCBvbiB0aGUgbGVmdC5cbiAqIEBwYXJhbSBiIC0gVGhlIG1hdHJpeCBvbiB0aGUgcmlnaHQuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1hdHJpeCBwcm9kdWN0IG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5JDQoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ld01hdDMoKTtcbiAgICBjb25zdCBhMDAgPSBhWzBdO1xuICAgIGNvbnN0IGEwMSA9IGFbMV07XG4gICAgY29uc3QgYTAyID0gYVsyXTtcbiAgICBjb25zdCBhMTAgPSBhWzQgKyAwXTtcbiAgICBjb25zdCBhMTEgPSBhWzQgKyAxXTtcbiAgICBjb25zdCBhMTIgPSBhWzQgKyAyXTtcbiAgICBjb25zdCBhMjAgPSBhWzggKyAwXTtcbiAgICBjb25zdCBhMjEgPSBhWzggKyAxXTtcbiAgICBjb25zdCBhMjIgPSBhWzggKyAyXTtcbiAgICBjb25zdCBiMDAgPSBiWzBdO1xuICAgIGNvbnN0IGIwMSA9IGJbMV07XG4gICAgY29uc3QgYjAyID0gYlsyXTtcbiAgICBjb25zdCBiMTAgPSBiWzQgKyAwXTtcbiAgICBjb25zdCBiMTEgPSBiWzQgKyAxXTtcbiAgICBjb25zdCBiMTIgPSBiWzQgKyAyXTtcbiAgICBjb25zdCBiMjAgPSBiWzggKyAwXTtcbiAgICBjb25zdCBiMjEgPSBiWzggKyAxXTtcbiAgICBjb25zdCBiMjIgPSBiWzggKyAyXTtcbiAgICBkc3RbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gICAgZHN0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICAgIGRzdFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjtcbiAgICBkc3RbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XG4gICAgZHN0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICAgIGRzdFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgICBkc3RbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gICAgZHN0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyO1xuICAgIGRzdFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gMy1ieS0zIG1hdHJpY2VzIHdpdGggYSBvbiB0aGUgbGVmdCBhbmQgYiBvbiB0aGUgcmlnaHQgKHNhbWUgYXMgbXVsdGlwbHkpXG4gKiBAcGFyYW0gYSAtIFRoZSBtYXRyaXggb24gdGhlIGxlZnQuXG4gKiBAcGFyYW0gYiAtIFRoZSBtYXRyaXggb24gdGhlIHJpZ2h0LlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBtYXRyaXggcHJvZHVjdCBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBtdWwkNCA9IG11bHRpcGx5JDQ7XG4vKipcbiAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudCBvZiBhIDMtYnktMyBtYXRyaXggdG8gdGhlIGdpdmVuXG4gKiB2ZWN0b3IuXG4gKiBAcGFyYW0gYSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1hdHJpeCB3aXRoIHRyYW5zbGF0aW9uIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNsYXRpb24kMShhLCB2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgaWRlbnRpdHkkMigpO1xuICAgIGlmIChhICE9PSBkc3QpIHtcbiAgICAgICAgZHN0WzBdID0gYVswXTtcbiAgICAgICAgZHN0WzFdID0gYVsxXTtcbiAgICAgICAgZHN0WzJdID0gYVsyXTtcbiAgICAgICAgZHN0WzRdID0gYVs0XTtcbiAgICAgICAgZHN0WzVdID0gYVs1XTtcbiAgICAgICAgZHN0WzZdID0gYVs2XTtcbiAgICB9XG4gICAgZHN0WzhdID0gdlswXTtcbiAgICBkc3RbOV0gPSB2WzFdO1xuICAgIGRzdFsxMF0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudCBvZiBhIDMtYnktMyBtYXRyaXggYXMgYSB2ZWN0b3Igd2l0aCAzXG4gKiBlbnRyaWVzLlxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB0cmFuc2xhdGlvbiBjb21wb25lbnQgb2YgbS5cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24kMihtLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgY3JlYXRlJDUoKTtcbiAgICBkc3RbMF0gPSBtWzhdO1xuICAgIGRzdFsxXSA9IG1bOV07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBheGlzIG9mIGEgM3gzIG1hdHJpeCBhcyBhIHZlY3RvciB3aXRoIDIgZW50cmllc1xuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGF4aXMgLSBUaGUgYXhpcyAwID0geCwgMSA9IHksXG4gKiBAcmV0dXJucyBUaGUgYXhpcyBjb21wb25lbnQgb2YgbS5cbiAqL1xuZnVuY3Rpb24gZ2V0QXhpcyQyKG0sIGF4aXMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBjcmVhdGUkNSgpO1xuICAgIGNvbnN0IG9mZiA9IGF4aXMgKiA0O1xuICAgIGRzdFswXSA9IG1bb2ZmICsgMF07XG4gICAgZHN0WzFdID0gbVtvZmYgKyAxXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBTZXRzIGFuIGF4aXMgb2YgYSAzeDMgbWF0cml4IGFzIGEgdmVjdG9yIHdpdGggMiBlbnRyaWVzXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gdiAtIHRoZSBheGlzIHZlY3RvclxuICogQHBhcmFtIGF4aXMgLSBUaGUgYXhpcyAgMCA9IHgsIDEgPSB5O1xuICogQHBhcmFtIGRzdCAtIFRoZSBtYXRyaXggdG8gc2V0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1hdHJpeCB3aXRoIGF4aXMgc2V0LlxuICovXG5mdW5jdGlvbiBzZXRBeGlzJDEobSwgdiwgYXhpcywgZHN0KSB7XG4gICAgaWYgKGRzdCAhPT0gbSkge1xuICAgICAgICBkc3QgPSBjb3B5JDQobSwgZHN0KTtcbiAgICB9XG4gICAgY29uc3Qgb2ZmID0gYXhpcyAqIDQ7XG4gICAgZHN0W29mZiArIDBdID0gdlswXTtcbiAgICBkc3Rbb2ZmICsgMV0gPSB2WzFdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgY29tcG9uZW50IG9mIHRoZSBtYXRyaXhcbiAqIEBwYXJhbSBtIC0gVGhlIE1hdHJpeFxuICogQHBhcmFtIGRzdCAtIFRoZSB2ZWN0b3IgdG8gc2V0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICovXG5mdW5jdGlvbiBnZXRTY2FsaW5nJDIobSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IGNyZWF0ZSQ1KCk7XG4gICAgY29uc3QgeHggPSBtWzBdO1xuICAgIGNvbnN0IHh5ID0gbVsxXTtcbiAgICBjb25zdCB5eCA9IG1bNF07XG4gICAgY29uc3QgeXkgPSBtWzVdO1xuICAgIGRzdFswXSA9IE1hdGguc3FydCh4eCAqIHh4ICsgeHkgKiB4eSk7XG4gICAgZHN0WzFdID0gTWF0aC5zcXJ0KHl4ICogeXggKyB5eSAqIHl5KTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgMy1ieS0zIG1hdHJpeCB3aGljaCB0cmFuc2xhdGVzIGJ5IHRoZSBnaXZlbiB2ZWN0b3Igdi5cbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3RvciBieSB3aGljaCB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHRyYW5zbGF0aW9uIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gdHJhbnNsYXRpb24kMSh2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3TWF0MygpO1xuICAgIGRzdFswXSA9IDE7XG4gICAgZHN0WzFdID0gMDtcbiAgICBkc3RbMl0gPSAwO1xuICAgIGRzdFs0XSA9IDA7XG4gICAgZHN0WzVdID0gMTtcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs4XSA9IHZbMF07XG4gICAgZHN0WzldID0gdlsxXTtcbiAgICBkc3RbMTBdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIHRoZSBnaXZlbiAzLWJ5LTMgbWF0cml4IGJ5IHRoZSBnaXZlbiB2ZWN0b3Igdi5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3RvciBieSB3aGljaCB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHRyYW5zbGF0ZWQgbWF0cml4LlxuICovXG5mdW5jdGlvbiB0cmFuc2xhdGUkMShtLCB2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3TWF0MygpO1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgY29uc3QgbTAwID0gbVswXTtcbiAgICBjb25zdCBtMDEgPSBtWzFdO1xuICAgIGNvbnN0IG0wMiA9IG1bMl07XG4gICAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICAgIGNvbnN0IG0xMSA9IG1bMSAqIDQgKyAxXTtcbiAgICBjb25zdCBtMTIgPSBtWzEgKiA0ICsgMl07XG4gICAgY29uc3QgbTIwID0gbVsyICogNCArIDBdO1xuICAgIGNvbnN0IG0yMSA9IG1bMiAqIDQgKyAxXTtcbiAgICBjb25zdCBtMjIgPSBtWzIgKiA0ICsgMl07XG4gICAgaWYgKG0gIT09IGRzdCkge1xuICAgICAgICBkc3RbMF0gPSBtMDA7XG4gICAgICAgIGRzdFsxXSA9IG0wMTtcbiAgICAgICAgZHN0WzJdID0gbTAyO1xuICAgICAgICBkc3RbNF0gPSBtMTA7XG4gICAgICAgIGRzdFs1XSA9IG0xMTtcbiAgICAgICAgZHN0WzZdID0gbTEyO1xuICAgIH1cbiAgICBkc3RbOF0gPSBtMDAgKiB2MCArIG0xMCAqIHYxICsgbTIwO1xuICAgIGRzdFs5XSA9IG0wMSAqIHYwICsgbTExICogdjEgKyBtMjE7XG4gICAgZHN0WzEwXSA9IG0wMiAqIHYwICsgbTEyICogdjEgKyBtMjI7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIDMtYnktMyBtYXRyaXggd2hpY2ggcm90YXRlcyAgYnkgdGhlIGdpdmVuIGFuZ2xlLlxuICogQHBhcmFtIGFuZ2xlSW5SYWRpYW5zIC0gVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHJvdGF0aW9uIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gcm90YXRpb24kMShhbmdsZUluUmFkaWFucywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ld01hdDMoKTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG4gICAgZHN0WzBdID0gYztcbiAgICBkc3RbMV0gPSBzO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzRdID0gLXM7XG4gICAgZHN0WzVdID0gYztcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs4XSA9IDA7XG4gICAgZHN0WzldID0gMDtcbiAgICBkc3RbMTBdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBSb3RhdGVzIHRoZSBnaXZlbiAzLWJ5LTMgbWF0cml4ICBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gYW5nbGVJblJhZGlhbnMgLSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgcm90YXRlZCBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHJvdGF0ZSQxKG0sIGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3TWF0MygpO1xuICAgIGNvbnN0IG0wMCA9IG1bMCAqIDQgKyAwXTtcbiAgICBjb25zdCBtMDEgPSBtWzAgKiA0ICsgMV07XG4gICAgY29uc3QgbTAyID0gbVswICogNCArIDJdO1xuICAgIGNvbnN0IG0xMCA9IG1bMSAqIDQgKyAwXTtcbiAgICBjb25zdCBtMTEgPSBtWzEgKiA0ICsgMV07XG4gICAgY29uc3QgbTEyID0gbVsxICogNCArIDJdO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBkc3RbMF0gPSBjICogbTAwICsgcyAqIG0xMDtcbiAgICBkc3RbMV0gPSBjICogbTAxICsgcyAqIG0xMTtcbiAgICBkc3RbMl0gPSBjICogbTAyICsgcyAqIG0xMjtcbiAgICBkc3RbNF0gPSBjICogbTEwIC0gcyAqIG0wMDtcbiAgICBkc3RbNV0gPSBjICogbTExIC0gcyAqIG0wMTtcbiAgICBkc3RbNl0gPSBjICogbTEyIC0gcyAqIG0wMjtcbiAgICBpZiAobSAhPT0gZHN0KSB7XG4gICAgICAgIGRzdFs4XSA9IG1bOF07XG4gICAgICAgIGRzdFs5XSA9IG1bOV07XG4gICAgICAgIGRzdFsxMF0gPSBtWzEwXTtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIDMtYnktMyBtYXRyaXggd2hpY2ggc2NhbGVzIGluIGVhY2ggZGltZW5zaW9uIGJ5IGFuIGFtb3VudCBnaXZlbiBieVxuICogdGhlIGNvcnJlc3BvbmRpbmcgZW50cnkgaW4gdGhlIGdpdmVuIHZlY3RvcjsgYXNzdW1lcyB0aGUgdmVjdG9yIGhhcyB0aHJlZVxuICogZW50cmllcy5cbiAqIEBwYXJhbSB2IC0gQSB2ZWN0b3Igb2ZcbiAqICAgICAyIGVudHJpZXMgc3BlY2lmeWluZyB0aGUgZmFjdG9yIGJ5IHdoaWNoIHRvIHNjYWxlIGluIGVhY2ggZGltZW5zaW9uLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsaW5nIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gc2NhbGluZyQxKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgZHN0WzBdID0gdlswXTtcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzRdID0gMDtcbiAgICBkc3RbNV0gPSB2WzFdO1xuICAgIGRzdFs2XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMF0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgZ2l2ZW4gMy1ieS0zIG1hdHJpeCBpbiBlYWNoIGRpbWVuc2lvbiBieSBhbiBhbW91bnRcbiAqIGdpdmVuIGJ5IHRoZSBjb3JyZXNwb25kaW5nIGVudHJ5IGluIHRoZSBnaXZlbiB2ZWN0b3I7IGFzc3VtZXMgdGhlIHZlY3RvciBoYXNcbiAqIHRocmVlIGVudHJpZXMuXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXggdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0gdiAtIEEgdmVjdG9yIG9mIDIgZW50cmllcyBzcGVjaWZ5aW5nIHRoZVxuICogICAgIGZhY3RvciBieSB3aGljaCB0byBzY2FsZSBpbiBlYWNoIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgc2NhbGVkIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gc2NhbGUkNChtLCB2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3TWF0MygpO1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgZHN0WzBdID0gdjAgKiBtWzAgKiA0ICsgMF07XG4gICAgZHN0WzFdID0gdjAgKiBtWzAgKiA0ICsgMV07XG4gICAgZHN0WzJdID0gdjAgKiBtWzAgKiA0ICsgMl07XG4gICAgZHN0WzRdID0gdjEgKiBtWzEgKiA0ICsgMF07XG4gICAgZHN0WzVdID0gdjEgKiBtWzEgKiA0ICsgMV07XG4gICAgZHN0WzZdID0gdjEgKiBtWzEgKiA0ICsgMl07XG4gICAgaWYgKG0gIT09IGRzdCkge1xuICAgICAgICBkc3RbOF0gPSBtWzhdO1xuICAgICAgICBkc3RbOV0gPSBtWzldO1xuICAgICAgICBkc3RbMTBdID0gbVsxMF07XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENyZWF0ZXMgYSAzLWJ5LTMgbWF0cml4IHdoaWNoIHNjYWxlcyB1bmlmb3JtbHkgaW4gZWFjaCBkaW1lbnNpb25cbiAqIEBwYXJhbSBzIC0gQW1vdW50IHRvIHNjYWxlXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxpbmcgbWF0cml4LlxuICovXG5mdW5jdGlvbiB1bmlmb3JtU2NhbGluZyQxKHMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgZHN0WzBdID0gcztcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzRdID0gMDtcbiAgICBkc3RbNV0gPSBzO1xuICAgIGRzdFs2XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMF0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgZ2l2ZW4gMy1ieS0zIG1hdHJpeCBpbiBlYWNoIGRpbWVuc2lvbiBieSBhbiBhbW91bnRcbiAqIGdpdmVuLlxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4IHRvIGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIHMgLSBBbW91bnQgdG8gc2NhbGUuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHVuaWZvcm1TY2FsZSQxKG0sIHMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXdNYXQzKCk7XG4gICAgZHN0WzBdID0gcyAqIG1bMCAqIDQgKyAwXTtcbiAgICBkc3RbMV0gPSBzICogbVswICogNCArIDFdO1xuICAgIGRzdFsyXSA9IHMgKiBtWzAgKiA0ICsgMl07XG4gICAgZHN0WzRdID0gcyAqIG1bMSAqIDQgKyAwXTtcbiAgICBkc3RbNV0gPSBzICogbVsxICogNCArIDFdO1xuICAgIGRzdFs2XSA9IHMgKiBtWzEgKiA0ICsgMl07XG4gICAgaWYgKG0gIT09IGRzdCkge1xuICAgICAgICBkc3RbOF0gPSBtWzhdO1xuICAgICAgICBkc3RbOV0gPSBtWzldO1xuICAgICAgICBkc3RbMTBdID0gbVsxMF07XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG5cbnZhciBtYXQzSW1wbCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgc2V0RGVmYXVsdFR5cGU6IHNldERlZmF1bHRUeXBlJDUsXG4gICAgY3JlYXRlOiBjcmVhdGUkNCxcbiAgICBzZXQ6IHNldCQ0LFxuICAgIGZyb21NYXQ0OiBmcm9tTWF0NCxcbiAgICBmcm9tUXVhdDogZnJvbVF1YXQkMSxcbiAgICBuZWdhdGU6IG5lZ2F0ZSQzLFxuICAgIGNvcHk6IGNvcHkkNCxcbiAgICBjbG9uZTogY2xvbmUkNCxcbiAgICBlcXVhbHNBcHByb3hpbWF0ZWx5OiBlcXVhbHNBcHByb3hpbWF0ZWx5JDQsXG4gICAgZXF1YWxzOiBlcXVhbHMkNCxcbiAgICBpZGVudGl0eTogaWRlbnRpdHkkMixcbiAgICB0cmFuc3Bvc2U6IHRyYW5zcG9zZSQxLFxuICAgIGludmVyc2U6IGludmVyc2UkNCxcbiAgICBkZXRlcm1pbmFudDogZGV0ZXJtaW5hbnQkMSxcbiAgICBpbnZlcnQ6IGludmVydCQzLFxuICAgIG11bHRpcGx5OiBtdWx0aXBseSQ0LFxuICAgIG11bDogbXVsJDQsXG4gICAgc2V0VHJhbnNsYXRpb246IHNldFRyYW5zbGF0aW9uJDEsXG4gICAgZ2V0VHJhbnNsYXRpb246IGdldFRyYW5zbGF0aW9uJDIsXG4gICAgZ2V0QXhpczogZ2V0QXhpcyQyLFxuICAgIHNldEF4aXM6IHNldEF4aXMkMSxcbiAgICBnZXRTY2FsaW5nOiBnZXRTY2FsaW5nJDIsXG4gICAgdHJhbnNsYXRpb246IHRyYW5zbGF0aW9uJDEsXG4gICAgdHJhbnNsYXRlOiB0cmFuc2xhdGUkMSxcbiAgICByb3RhdGlvbjogcm90YXRpb24kMSxcbiAgICByb3RhdGU6IHJvdGF0ZSQxLFxuICAgIHNjYWxpbmc6IHNjYWxpbmckMSxcbiAgICBzY2FsZTogc2NhbGUkNCxcbiAgICB1bmlmb3JtU2NhbGluZzogdW5pZm9ybVNjYWxpbmckMSxcbiAgICB1bmlmb3JtU2NhbGU6IHVuaWZvcm1TY2FsZSQxXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDIyIEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKlxuICogVmVjMyBtYXRoIGZ1bmN0aW9ucy5cbiAqXG4gKiBBbG1vc3QgYWxsIGZ1bmN0aW9ucyB0YWtlIGFuIG9wdGlvbmFsIGBkc3RgIGFyZ3VtZW50LiBJZiBpdCBpcyBub3QgcGFzc2VkIGluIHRoZVxuICogZnVuY3Rpb25zIHdpbGwgY3JlYXRlIGEgbmV3IGBWZWMzYC4gSW4gb3RoZXIgd29yZHMgeW91IGNhbiBkbyB0aGlzXG4gKlxuICogICAgIGNvbnN0IHYgPSB2ZWMzLmNyb3NzKHYxLCB2Mik7ICAvLyBDcmVhdGVzIGEgbmV3IFZlYzMgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB2MSB4IHYyLlxuICpcbiAqIG9yXG4gKlxuICogICAgIGNvbnN0IHYgPSB2ZWMzLmNyZWF0ZSgpO1xuICogICAgIHZlYzMuY3Jvc3ModjEsIHYyLCB2KTsgIC8vIFB1dHMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdjEgeCB2MiBpbiB2XG4gKlxuICogVGhlIGZpcnN0IHN0eWxlIGlzIG9mdGVuIGVhc2llciBidXQgZGVwZW5kaW5nIG9uIHdoZXJlIGl0J3MgdXNlZCBpdCBnZW5lcmF0ZXMgZ2FyYmFnZSB3aGVyZVxuICogYXMgdGhlcmUgaXMgYWxtb3N0IG5ldmVyIGFsbG9jYXRpb24gd2l0aCB0aGUgc2Vjb25kIHN0eWxlLlxuICpcbiAqIEl0IGlzIGFsd2F5cyBzYWZlIHRvIHBhc3MgYW55IHZlY3RvciBhcyB0aGUgZGVzdGluYXRpb24uIFNvIGZvciBleGFtcGxlXG4gKlxuICogICAgIHZlYzMuY3Jvc3ModjEsIHYyLCB2MSk7ICAvLyBQdXRzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHYxIHggdjIgaW4gdjFcbiAqXG4gKi9cbmxldCBWZWNUeXBlJDEgPSBGbG9hdDMyQXJyYXk7XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgdGhpcyBsaWJyYXJ5IGNyZWF0ZXMgZm9yIGEgVmVjM1xuICogQHBhcmFtIGN0b3IgLSB0aGUgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlLiBFaXRoZXIgYEZsb2F0MzJBcnJheWAsIGBGbG9hdDY0QXJyYXlgLCBvciBgQXJyYXlgXG4gKiBAcmV0dXJucyBwcmV2aW91cyBjb25zdHJ1Y3RvciBmb3IgVmVjM1xuICovXG5mdW5jdGlvbiBzZXREZWZhdWx0VHlwZSQ0KGN0b3IpIHtcbiAgICBjb25zdCBvbGRUeXBlID0gVmVjVHlwZSQxO1xuICAgIFZlY1R5cGUkMSA9IGN0b3I7XG4gICAgcmV0dXJuIG9sZFR5cGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB2ZWMzOyBtYXkgYmUgY2FsbGVkIHdpdGggeCwgeSwgeiB0byBzZXQgaW5pdGlhbCB2YWx1ZXMuXG4gKiBAcGFyYW0geCAtIEluaXRpYWwgeCB2YWx1ZS5cbiAqIEBwYXJhbSB5IC0gSW5pdGlhbCB5IHZhbHVlLlxuICogQHBhcmFtIHogLSBJbml0aWFsIHogdmFsdWUuXG4gKiBAcmV0dXJucyB0aGUgY3JlYXRlZCB2ZWN0b3JcbiAqL1xuZnVuY3Rpb24gY3JlYXRlJDMoeCwgeSwgeikge1xuICAgIGNvbnN0IGRzdCA9IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgaWYgKHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkc3RbMF0gPSB4O1xuICAgICAgICBpZiAoeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkc3RbMV0gPSB5O1xuICAgICAgICAgICAgaWYgKHogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRzdFsyXSA9IHo7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cblxuLypcbiAqIENvcHlyaWdodCAyMDIyIEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdmVjMzsgbWF5IGJlIGNhbGxlZCB3aXRoIHgsIHksIHogdG8gc2V0IGluaXRpYWwgdmFsdWVzLiAoc2FtZSBhcyBjcmVhdGUpXG4gKiBAcGFyYW0geCAtIEluaXRpYWwgeCB2YWx1ZS5cbiAqIEBwYXJhbSB5IC0gSW5pdGlhbCB5IHZhbHVlLlxuICogQHBhcmFtIHogLSBJbml0aWFsIHogdmFsdWUuXG4gKiBAcmV0dXJucyB0aGUgY3JlYXRlZCB2ZWN0b3JcbiAqL1xuY29uc3QgZnJvbVZhbHVlcyQyID0gY3JlYXRlJDM7XG4vKipcbiAqIFNldHMgdGhlIHZhbHVlcyBvZiBhIFZlYzNcbiAqIEFsc28gc2VlIHtAbGluayB2ZWMzLmNyZWF0ZX0gYW5kIHtAbGluayB2ZWMzLmNvcHl9XG4gKlxuICogQHBhcmFtIHggZmlyc3QgdmFsdWVcbiAqIEBwYXJhbSB5IHNlY29uZCB2YWx1ZVxuICogQHBhcmFtIHogdGhpcmQgdmFsdWVcbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB3aXRoIGl0cyBlbGVtZW50cyBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldCQzKHgsIHksIHosIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IHg7XG4gICAgZHN0WzFdID0geTtcbiAgICBkc3RbMl0gPSB6O1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGxpZXMgTWF0aC5jZWlsIHRvIGVhY2ggZWxlbWVudCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgY2VpbCBvZiBlYWNoIGVsZW1lbnQgb2Ygdi5cbiAqL1xuZnVuY3Rpb24gY2VpbCQxKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IE1hdGguY2VpbCh2WzBdKTtcbiAgICBkc3RbMV0gPSBNYXRoLmNlaWwodlsxXSk7XG4gICAgZHN0WzJdID0gTWF0aC5jZWlsKHZbMl0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGxpZXMgTWF0aC5mbG9vciB0byBlYWNoIGVsZW1lbnQgb2YgdmVjdG9yXG4gKiBAcGFyYW0gdiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgaXMgdGhlIGZsb29yIG9mIGVhY2ggZWxlbWVudCBvZiB2LlxuICovXG5mdW5jdGlvbiBmbG9vciQxKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IE1hdGguZmxvb3IodlswXSk7XG4gICAgZHN0WzFdID0gTWF0aC5mbG9vcih2WzFdKTtcbiAgICBkc3RbMl0gPSBNYXRoLmZsb29yKHZbMl0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGxpZXMgTWF0aC5yb3VuZCB0byBlYWNoIGVsZW1lbnQgb2YgdmVjdG9yXG4gKiBAcGFyYW0gdiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgaXMgdGhlIHJvdW5kIG9mIGVhY2ggZWxlbWVudCBvZiB2LlxuICovXG5mdW5jdGlvbiByb3VuZCQxKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IE1hdGgucm91bmQodlswXSk7XG4gICAgZHN0WzFdID0gTWF0aC5yb3VuZCh2WzFdKTtcbiAgICBkc3RbMl0gPSBNYXRoLnJvdW5kKHZbMl0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENsYW1wIGVhY2ggZWxlbWVudCBvZiB2ZWN0b3IgYmV0d2VlbiBtaW4gYW5kIG1heFxuICogQHBhcmFtIHYgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBtYXggLSBNaW4gdmFsdWUsIGRlZmF1bHQgMFxuICogQHBhcmFtIG1pbiAtIE1heCB2YWx1ZSwgZGVmYXVsdCAxXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCB0aGUgY2xhbXBlZCB2YWx1ZSBvZiBlYWNoIGVsZW1lbnQgb2Ygdi5cbiAqL1xuZnVuY3Rpb24gY2xhbXAkMSh2LCBtaW4gPSAwLCBtYXggPSAxLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBkc3RbMF0gPSBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgdlswXSkpO1xuICAgIGRzdFsxXSA9IE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2WzFdKSk7XG4gICAgZHN0WzJdID0gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZbMl0pKTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWN0b3JzOyBhc3N1bWVzIGEgYW5kIGIgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb24uXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB0aGF0IGlzIHRoZSBzdW0gb2YgYSBhbmQgYi5cbiAqL1xuZnVuY3Rpb24gYWRkJDIoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgZHN0WzBdID0gYVswXSArIGJbMF07XG4gICAgZHN0WzFdID0gYVsxXSArIGJbMV07XG4gICAgZHN0WzJdID0gYVsyXSArIGJbMl07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjdG9ycywgc2NhbGluZyB0aGUgMm5kOyBhc3N1bWVzIGEgYW5kIGIgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb24uXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBzY2FsZSAtIEFtb3VudCB0byBzY2FsZSBiXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgc3VtIG9mIGEgKyBiICogc2NhbGUuXG4gKi9cbmZ1bmN0aW9uIGFkZFNjYWxlZCQxKGEsIGIsIHNjYWxlLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBkc3RbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICAgIGRzdFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gICAgZHN0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhbmdsZSBpbiByYWRpYW5zIGJldHdlZW4gdHdvIHZlY3RvcnMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIFRoZSBhbmdsZSBpbiByYWRpYW5zIGJldHdlZW4gdGhlIDIgdmVjdG9ycy5cbiAqL1xuZnVuY3Rpb24gYW5nbGUkMShhLCBiKSB7XG4gICAgY29uc3QgYXggPSBhWzBdO1xuICAgIGNvbnN0IGF5ID0gYVsxXTtcbiAgICBjb25zdCBheiA9IGFbMl07XG4gICAgY29uc3QgYnggPSBhWzBdO1xuICAgIGNvbnN0IGJ5ID0gYVsxXTtcbiAgICBjb25zdCBieiA9IGFbMl07XG4gICAgY29uc3QgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopO1xuICAgIGNvbnN0IG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KTtcbiAgICBjb25zdCBtYWcgPSBtYWcxICogbWFnMjtcbiAgICBjb25zdCBjb3NpbmUgPSBtYWcgJiYgZG90JDIoYSwgYikgLyBtYWc7XG4gICAgcmV0dXJuIE1hdGguYWNvcyhjb3NpbmUpO1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdHdvIHZlY3RvcnMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB0aGF0IGlzIHRoZSBkaWZmZXJlbmNlIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIHN1YnRyYWN0JDIoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgZHN0WzBdID0gYVswXSAtIGJbMF07XG4gICAgZHN0WzFdID0gYVsxXSAtIGJbMV07XG4gICAgZHN0WzJdID0gYVsyXSAtIGJbMl07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHR3byB2ZWN0b3JzLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgZGlmZmVyZW5jZSBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBzdWIkMiA9IHN1YnRyYWN0JDI7XG4vKipcbiAqIENoZWNrIGlmIDIgdmVjdG9ycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHZlY3RvcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzQXBwcm94aW1hdGVseSQzKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoYVswXSAtIGJbMF0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzFdIC0gYlsxXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMl0gLSBiWzJdKSA8IEVQU0lMT047XG59XG4vKipcbiAqIENoZWNrIGlmIDIgdmVjdG9ycyBhcmUgZXhhY3RseSBlcXVhbFxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHZlY3RvcnMgYXJlIGV4YWN0bHkgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzJDMoYSwgYikge1xuICAgIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUGVyZm9ybXMgbGluZWFyIGludGVycG9sYXRpb24gb24gdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgYW5kIGludGVycG9sYXRpb24gY29lZmZpY2llbnQgdCwgcmV0dXJuc1xuICogYSArIHQgKiAoYiAtIGEpLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gdCAtIEludGVycG9sYXRpb24gY29lZmZpY2llbnQuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIGxpbmVhciBpbnRlcnBvbGF0ZWQgcmVzdWx0LlxuICovXG5mdW5jdGlvbiBsZXJwJDIoYSwgYiwgdCwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgZHN0WzBdID0gYVswXSArIHQgKiAoYlswXSAtIGFbMF0pO1xuICAgIGRzdFsxXSA9IGFbMV0gKyB0ICogKGJbMV0gLSBhWzFdKTtcbiAgICBkc3RbMl0gPSBhWzJdICsgdCAqIChiWzJdIC0gYVsyXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUGVyZm9ybXMgbGluZWFyIGludGVycG9sYXRpb24gb24gdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgYW5kIGludGVycG9sYXRpb24gY29lZmZpY2llbnQgdmVjdG9yIHQsIHJldHVybnNcbiAqIGEgKyB0ICogKGIgLSBhKS5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHQgLSBJbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50cyB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgdGhlIGxpbmVhciBpbnRlcnBvbGF0ZWQgcmVzdWx0LlxuICovXG5mdW5jdGlvbiBsZXJwViQxKGEsIGIsIHQsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IGFbMF0gKyB0WzBdICogKGJbMF0gLSBhWzBdKTtcbiAgICBkc3RbMV0gPSBhWzFdICsgdFsxXSAqIChiWzFdIC0gYVsxXSk7XG4gICAgZHN0WzJdID0gYVsyXSArIHRbMl0gKiAoYlsyXSAtIGFbMl0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybiBtYXggdmFsdWVzIG9mIHR3byB2ZWN0b3JzLlxuICogR2l2ZW4gdmVjdG9ycyBhIGFuZCBiIHJldHVybnNcbiAqIFttYXgoYVswXSwgYlswXSksIG1heChhWzFdLCBiWzFdKSwgbWF4KGFbMl0sIGJbMl0pXS5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBtYXggY29tcG9uZW50cyB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIG1heCQxKGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICAgIGRzdFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICAgIGRzdFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybiBtaW4gdmFsdWVzIG9mIHR3byB2ZWN0b3JzLlxuICogR2l2ZW4gdmVjdG9ycyBhIGFuZCBiIHJldHVybnNcbiAqIFttaW4oYVswXSwgYlswXSksIG1pbihhWzFdLCBiWzFdKSwgbWluKGFbMl0sIGJbMl0pXS5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBtaW4gY29tcG9uZW50cyB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIG1pbiQxKGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICAgIGRzdFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICAgIGRzdFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gayAtIFRoZSBzY2FsYXIuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIG11bFNjYWxhciQyKHYsIGssIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IHZbMF0gKiBrO1xuICAgIGRzdFsxXSA9IHZbMV0gKiBrO1xuICAgIGRzdFsyXSA9IHZbMl0gKiBrO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIuIChzYW1lIGFzIG11bFNjYWxhcilcbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSBrIC0gVGhlIHNjYWxhci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgc2NhbGVkIHZlY3Rvci5cbiAqL1xuY29uc3Qgc2NhbGUkMyA9IG11bFNjYWxhciQyO1xuLyoqXG4gKiBEaXZpZGVzIGEgdmVjdG9yIGJ5IGEgc2NhbGFyLlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGsgLSBUaGUgc2NhbGFyLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsZWQgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBkaXZTY2FsYXIkMih2LCBrLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBkc3RbMF0gPSB2WzBdIC8gaztcbiAgICBkc3RbMV0gPSB2WzFdIC8gaztcbiAgICBkc3RbMl0gPSB2WzJdIC8gaztcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBJbnZlcnNlIGEgdmVjdG9yLlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBpbnZlcnRlZCB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGludmVyc2UkMyh2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBkc3RbMF0gPSAxIC8gdlswXTtcbiAgICBkc3RbMV0gPSAxIC8gdlsxXTtcbiAgICBkc3RbMl0gPSAxIC8gdlsyXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBJbnZlcnQgYSB2ZWN0b3IuIChzYW1lIGFzIGludmVyc2UpXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIGludmVydGVkIHZlY3Rvci5cbiAqL1xuY29uc3QgaW52ZXJ0JDIgPSBpbnZlcnNlJDM7XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzOyBhc3N1bWVzIGJvdGggdmVjdG9ycyBoYXZlXG4gKiB0aHJlZSBlbnRyaWVzLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBhIGNyb3NzIGIuXG4gKi9cbmZ1bmN0aW9uIGNyb3NzKGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGNvbnN0IHQxID0gYVsyXSAqIGJbMF0gLSBhWzBdICogYlsyXTtcbiAgICBjb25zdCB0MiA9IGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG4gICAgZHN0WzBdID0gYVsxXSAqIGJbMl0gLSBhWzJdICogYlsxXTtcbiAgICBkc3RbMV0gPSB0MTtcbiAgICBkc3RbMl0gPSB0MjtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnM7IGFzc3VtZXMgYm90aCB2ZWN0b3JzIGhhdmVcbiAqIHRocmVlIGVudHJpZXMuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRvdCBwcm9kdWN0XG4gKi9cbmZ1bmN0aW9uIGRvdCQyKGEsIGIpIHtcbiAgICByZXR1cm4gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYlsxXSkgKyAoYVsyXSAqIGJbMl0pO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbGVuZ3RoIG9mIHZlY3RvclxuICogQHBhcmFtIHYgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBsZW5ndGggb2YgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBsZW5ndGgkMih2KSB7XG4gICAgY29uc3QgdjAgPSB2WzBdO1xuICAgIGNvbnN0IHYxID0gdlsxXTtcbiAgICBjb25zdCB2MiA9IHZbMl07XG4gICAgcmV0dXJuIE1hdGguc3FydCh2MCAqIHYwICsgdjEgKiB2MSArIHYyICogdjIpO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbGVuZ3RoIG9mIHZlY3RvciAoc2FtZSBhcyBsZW5ndGgpXG4gKiBAcGFyYW0gdiAtIHZlY3Rvci5cbiAqIEByZXR1cm5zIGxlbmd0aCBvZiB2ZWN0b3IuXG4gKi9cbmNvbnN0IGxlbiQyID0gbGVuZ3RoJDI7XG4vKipcbiAqIENvbXB1dGVzIHRoZSBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBsZW5ndGhTcSQyKHYpIHtcbiAgICBjb25zdCB2MCA9IHZbMF07XG4gICAgY29uc3QgdjEgPSB2WzFdO1xuICAgIGNvbnN0IHYyID0gdlsyXTtcbiAgICByZXR1cm4gdjAgKiB2MCArIHYxICogdjEgKyB2MiAqIHYyO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgdmVjdG9yIChzYW1lIGFzIGxlbmd0aFNxKVxuICogQHBhcmFtIHYgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB2ZWN0b3IuXG4gKi9cbmNvbnN0IGxlblNxJDIgPSBsZW5ndGhTcSQyO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAyIHBvaW50c1xuICogQHBhcmFtIGEgLSB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5mdW5jdGlvbiBkaXN0YW5jZSQxKGEsIGIpIHtcbiAgICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgY29uc3QgZHogPSBhWzJdIC0gYlsyXTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5ICsgZHogKiBkeik7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIChzYW1lIGFzIGRpc3RhbmNlKVxuICogQHBhcmFtIGEgLSB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5jb25zdCBkaXN0JDEgPSBkaXN0YW5jZSQxO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzXG4gKiBAcGFyYW0gYSAtIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuZnVuY3Rpb24gZGlzdGFuY2VTcSQxKGEsIGIpIHtcbiAgICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgY29uc3QgZHogPSBhWzJdIC0gYlsyXTtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIChzYW1lIGFzIGRpc3RhbmNlU3EpXG4gKiBAcGFyYW0gYSAtIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuY29uc3QgZGlzdFNxJDEgPSBkaXN0YW5jZVNxJDE7XG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgaXRzIEV1Y2xpZGVhbiBsZW5ndGggYW5kIHJldHVybnMgdGhlIHF1b3RpZW50LlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplJDIodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgY29uc3QgdjAgPSB2WzBdO1xuICAgIGNvbnN0IHYxID0gdlsxXTtcbiAgICBjb25zdCB2MiA9IHZbMl07XG4gICAgY29uc3QgbGVuID0gTWF0aC5zcXJ0KHYwICogdjAgKyB2MSAqIHYxICsgdjIgKiB2Mik7XG4gICAgaWYgKGxlbiA+IDAuMDAwMDEpIHtcbiAgICAgICAgZHN0WzBdID0gdjAgLyBsZW47XG4gICAgICAgIGRzdFsxXSA9IHYxIC8gbGVuO1xuICAgICAgICBkc3RbMl0gPSB2MiAvIGxlbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRzdFswXSA9IDA7XG4gICAgICAgIGRzdFsxXSA9IDA7XG4gICAgICAgIGRzdFsyXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE5lZ2F0ZXMgYSB2ZWN0b3IuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgLXYuXG4gKi9cbmZ1bmN0aW9uIG5lZ2F0ZSQyKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IC12WzBdO1xuICAgIGRzdFsxXSA9IC12WzFdO1xuICAgIGRzdFsyXSA9IC12WzJdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvcGllcyBhIHZlY3Rvci4gKHNhbWUgYXMge0BsaW5rIHZlYzMuY2xvbmV9KVxuICogQWxzbyBzZWUge0BsaW5rIHZlYzMuY3JlYXRlfSBhbmQge0BsaW5rIHZlYzMuc2V0fVxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgY29weSBvZiB2LlxuICovXG5mdW5jdGlvbiBjb3B5JDModiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgZHN0WzBdID0gdlswXTtcbiAgICBkc3RbMV0gPSB2WzFdO1xuICAgIGRzdFsyXSA9IHZbMl07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ2xvbmVzIGEgdmVjdG9yLiAoc2FtZSBhcyB7QGxpbmsgdmVjMy5jb3B5fSlcbiAqIEFsc28gc2VlIHtAbGluayB2ZWMzLmNyZWF0ZX0gYW5kIHtAbGluayB2ZWMzLnNldH1cbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIGNvcHkgb2Ygdi5cbiAqL1xuY29uc3QgY2xvbmUkMyA9IGNvcHkkMztcbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciAoY29tcG9uZW50LXdpc2UpOyBhc3N1bWVzIGEgYW5kXG4gKiBiIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBwcm9kdWN0cyBvZiBlbnRyaWVzIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5JDMoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgZHN0WzBdID0gYVswXSAqIGJbMF07XG4gICAgZHN0WzFdID0gYVsxXSAqIGJbMV07XG4gICAgZHN0WzJdID0gYVsyXSAqIGJbMl07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciAoY29tcG9uZW50LXdpc2UpOyBhc3N1bWVzIGEgYW5kXG4gKiBiIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLiAoc2FtZSBhcyBtdWwpXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdmVjdG9yIG9mIHByb2R1Y3RzIG9mIGVudHJpZXMgb2YgYSBhbmQgYi5cbiAqL1xuY29uc3QgbXVsJDMgPSBtdWx0aXBseSQzO1xuLyoqXG4gKiBEaXZpZGVzIGEgdmVjdG9yIGJ5IGFub3RoZXIgdmVjdG9yIChjb21wb25lbnQtd2lzZSk7IGFzc3VtZXMgYSBhbmRcbiAqIGIgaGF2ZSB0aGUgc2FtZSBsZW5ndGguXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdmVjdG9yIG9mIHF1b3RpZW50cyBvZiBlbnRyaWVzIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIGRpdmlkZSQxKGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IGFbMF0gLyBiWzBdO1xuICAgIGRzdFsxXSA9IGFbMV0gLyBiWzFdO1xuICAgIGRzdFsyXSA9IGFbMl0gLyBiWzJdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYW5vdGhlciB2ZWN0b3IgKGNvbXBvbmVudC13aXNlKTsgYXNzdW1lcyBhIGFuZFxuICogYiBoYXZlIHRoZSBzYW1lIGxlbmd0aC4gKHNhbWUgYXMgZGl2aWRlKVxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBxdW90aWVudHMgb2YgZW50cmllcyBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBkaXYkMSA9IGRpdmlkZSQxO1xuLyoqXG4gKiBDcmVhdGVzIGEgcmFuZG9tIHZlY3RvclxuICogQHBhcmFtIHNjYWxlIC0gRGVmYXVsdCAxXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHJhbmRvbSB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbShzY2FsZSA9IDEsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5yYW5kb20oKSAqIDIgKiBNYXRoLlBJO1xuICAgIGNvbnN0IHogPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7XG4gICAgY29uc3QgelNjYWxlID0gTWF0aC5zcXJ0KDEgLSB6ICogeikgKiBzY2FsZTtcbiAgICBkc3RbMF0gPSBNYXRoLmNvcyhhbmdsZSkgKiB6U2NhbGU7XG4gICAgZHN0WzFdID0gTWF0aC5zaW4oYW5nbGUpICogelNjYWxlO1xuICAgIGRzdFsyXSA9IHogKiBzY2FsZTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBaZXJvJ3MgYSB2ZWN0b3JcbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgemVyb2VkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gemVybyQxKGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGRzdFswXSA9IDA7XG4gICAgZHN0WzFdID0gMDtcbiAgICBkc3RbMl0gPSAwO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIHRyYW5zZm9ybSB2ZWMzIGJ5IDR4NCBtYXRyaXhcbiAqIEBwYXJhbSB2IC0gdGhlIHZlY3RvclxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGRzdCAtIG9wdGlvbmFsIHZlYzMgdG8gc3RvcmUgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgdGhlIHRyYW5zZm9ybWVkIHZlY3RvclxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0JDEodiwgbSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgY29uc3QgeCA9IHZbMF07XG4gICAgY29uc3QgeSA9IHZbMV07XG4gICAgY29uc3QgeiA9IHZbMl07XG4gICAgY29uc3QgdyA9IChtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0pIHx8IDE7XG4gICAgZHN0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gICAgZHN0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gICAgZHN0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFRyYW5zZm9ybSB2ZWM0IGJ5IHVwcGVyIDN4MyBtYXRyaXggaW5zaWRlIDR4NCBtYXRyaXguXG4gKiBAcGFyYW0gdiAtIFRoZSBkaXJlY3Rpb24uXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gZHN0IC0gb3B0aW9uYWwgVmVjMyB0byBzdG9yZSByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdHJhbnNmb3JtZWQgdmVjdG9yLlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0VXBwZXIzeDModiwgbSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgY29uc3QgdjAgPSB2WzBdO1xuICAgIGNvbnN0IHYxID0gdlsxXTtcbiAgICBjb25zdCB2MiA9IHZbMl07XG4gICAgZHN0WzBdID0gdjAgKiBtWzAgKiA0ICsgMF0gKyB2MSAqIG1bMSAqIDQgKyAwXSArIHYyICogbVsyICogNCArIDBdO1xuICAgIGRzdFsxXSA9IHYwICogbVswICogNCArIDFdICsgdjEgKiBtWzEgKiA0ICsgMV0gKyB2MiAqIG1bMiAqIDQgKyAxXTtcbiAgICBkc3RbMl0gPSB2MCAqIG1bMCAqIDQgKyAyXSArIHYxICogbVsxICogNCArIDJdICsgdjIgKiBtWzIgKiA0ICsgMl07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB2ZWMzIGJ5IDN4MyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0gdiAtIHRoZSB2ZWN0b3JcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBvcHRpb25hbCB2ZWMzIHRvIHN0b3JlIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCB2ZWN0b3JcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtTWF0Myh2LCBtLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBjb25zdCB4ID0gdlswXTtcbiAgICBjb25zdCB5ID0gdlsxXTtcbiAgICBjb25zdCB6ID0gdlsyXTtcbiAgICBkc3RbMF0gPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF07XG4gICAgZHN0WzFdID0geCAqIG1bMV0gKyB5ICogbVs1XSArIHogKiBtWzldO1xuICAgIGRzdFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB2ZWMzIGJ5IFF1YXRlcm5pb25cbiAqIEBwYXJhbSB2IC0gdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSBxIC0gdGhlIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIGJ5XG4gKiBAcGFyYW0gZHN0IC0gb3B0aW9uYWwgdmVjMyB0byBzdG9yZSByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyB0aGUgdHJhbnNmb3JtZWRcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtUXVhdCh2LCBxLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBjb25zdCBxeCA9IHFbMF07XG4gICAgY29uc3QgcXkgPSBxWzFdO1xuICAgIGNvbnN0IHF6ID0gcVsyXTtcbiAgICBjb25zdCB3MiA9IHFbM10gKiAyO1xuICAgIGNvbnN0IHggPSB2WzBdO1xuICAgIGNvbnN0IHkgPSB2WzFdO1xuICAgIGNvbnN0IHogPSB2WzJdO1xuICAgIGNvbnN0IHV2WCA9IHF5ICogeiAtIHF6ICogeTtcbiAgICBjb25zdCB1dlkgPSBxeiAqIHggLSBxeCAqIHo7XG4gICAgY29uc3QgdXZaID0gcXggKiB5IC0gcXkgKiB4O1xuICAgIGRzdFswXSA9IHggKyB1dlggKiB3MiArIChxeSAqIHV2WiAtIHF6ICogdXZZKSAqIDI7XG4gICAgZHN0WzFdID0geSArIHV2WSAqIHcyICsgKHF6ICogdXZYIC0gcXggKiB1dlopICogMjtcbiAgICBkc3RbMl0gPSB6ICsgdXZaICogdzIgKyAocXggKiB1dlkgLSBxeSAqIHV2WCkgKiAyO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudCBvZiBhIDQtYnktNCBtYXRyaXggYXMgYSB2ZWN0b3Igd2l0aCAzXG4gKiBlbnRyaWVzLlxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB0cmFuc2xhdGlvbiBjb21wb25lbnQgb2YgbS5cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24kMShtLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUkMSgzKTtcbiAgICBkc3RbMF0gPSBtWzEyXTtcbiAgICBkc3RbMV0gPSBtWzEzXTtcbiAgICBkc3RbMl0gPSBtWzE0XTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGF4aXMgb2YgYSA0eDQgbWF0cml4IGFzIGEgdmVjdG9yIHdpdGggMyBlbnRyaWVzXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gYXhpcyAtIFRoZSBheGlzIDAgPSB4LCAxID0geSwgMiA9IHo7XG4gKiBAcmV0dXJucyBUaGUgYXhpcyBjb21wb25lbnQgb2YgbS5cbiAqL1xuZnVuY3Rpb24gZ2V0QXhpcyQxKG0sIGF4aXMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSQxKDMpO1xuICAgIGNvbnN0IG9mZiA9IGF4aXMgKiA0O1xuICAgIGRzdFswXSA9IG1bb2ZmICsgMF07XG4gICAgZHN0WzFdID0gbVtvZmYgKyAxXTtcbiAgICBkc3RbMl0gPSBtW29mZiArIDJdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgY29tcG9uZW50IG9mIHRoZSBtYXRyaXhcbiAqIEBwYXJhbSBtIC0gVGhlIE1hdHJpeFxuICogQHBhcmFtIGRzdCAtIFRoZSB2ZWN0b3IgdG8gc2V0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICovXG5mdW5jdGlvbiBnZXRTY2FsaW5nJDEobSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlJDEoMyk7XG4gICAgY29uc3QgeHggPSBtWzBdO1xuICAgIGNvbnN0IHh5ID0gbVsxXTtcbiAgICBjb25zdCB4eiA9IG1bMl07XG4gICAgY29uc3QgeXggPSBtWzRdO1xuICAgIGNvbnN0IHl5ID0gbVs1XTtcbiAgICBjb25zdCB5eiA9IG1bNl07XG4gICAgY29uc3QgenggPSBtWzhdO1xuICAgIGNvbnN0IHp5ID0gbVs5XTtcbiAgICBjb25zdCB6eiA9IG1bMTBdO1xuICAgIGRzdFswXSA9IE1hdGguc3FydCh4eCAqIHh4ICsgeHkgKiB4eSArIHh6ICogeHopO1xuICAgIGRzdFsxXSA9IE1hdGguc3FydCh5eCAqIHl4ICsgeXkgKiB5eSArIHl6ICogeXopO1xuICAgIGRzdFsyXSA9IE1hdGguc3FydCh6eCAqIHp4ICsgenkgKiB6eSArIHp6ICogenopO1xuICAgIHJldHVybiBkc3Q7XG59XG5cbnZhciB2ZWMzSW1wbCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgY3JlYXRlOiBjcmVhdGUkMyxcbiAgICBzZXREZWZhdWx0VHlwZTogc2V0RGVmYXVsdFR5cGUkNCxcbiAgICBmcm9tVmFsdWVzOiBmcm9tVmFsdWVzJDIsXG4gICAgc2V0OiBzZXQkMyxcbiAgICBjZWlsOiBjZWlsJDEsXG4gICAgZmxvb3I6IGZsb29yJDEsXG4gICAgcm91bmQ6IHJvdW5kJDEsXG4gICAgY2xhbXA6IGNsYW1wJDEsXG4gICAgYWRkOiBhZGQkMixcbiAgICBhZGRTY2FsZWQ6IGFkZFNjYWxlZCQxLFxuICAgIGFuZ2xlOiBhbmdsZSQxLFxuICAgIHN1YnRyYWN0OiBzdWJ0cmFjdCQyLFxuICAgIHN1Yjogc3ViJDIsXG4gICAgZXF1YWxzQXBwcm94aW1hdGVseTogZXF1YWxzQXBwcm94aW1hdGVseSQzLFxuICAgIGVxdWFsczogZXF1YWxzJDMsXG4gICAgbGVycDogbGVycCQyLFxuICAgIGxlcnBWOiBsZXJwViQxLFxuICAgIG1heDogbWF4JDEsXG4gICAgbWluOiBtaW4kMSxcbiAgICBtdWxTY2FsYXI6IG11bFNjYWxhciQyLFxuICAgIHNjYWxlOiBzY2FsZSQzLFxuICAgIGRpdlNjYWxhcjogZGl2U2NhbGFyJDIsXG4gICAgaW52ZXJzZTogaW52ZXJzZSQzLFxuICAgIGludmVydDogaW52ZXJ0JDIsXG4gICAgY3Jvc3M6IGNyb3NzLFxuICAgIGRvdDogZG90JDIsXG4gICAgbGVuZ3RoOiBsZW5ndGgkMixcbiAgICBsZW46IGxlbiQyLFxuICAgIGxlbmd0aFNxOiBsZW5ndGhTcSQyLFxuICAgIGxlblNxOiBsZW5TcSQyLFxuICAgIGRpc3RhbmNlOiBkaXN0YW5jZSQxLFxuICAgIGRpc3Q6IGRpc3QkMSxcbiAgICBkaXN0YW5jZVNxOiBkaXN0YW5jZVNxJDEsXG4gICAgZGlzdFNxOiBkaXN0U3EkMSxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZSQyLFxuICAgIG5lZ2F0ZTogbmVnYXRlJDIsXG4gICAgY29weTogY29weSQzLFxuICAgIGNsb25lOiBjbG9uZSQzLFxuICAgIG11bHRpcGx5OiBtdWx0aXBseSQzLFxuICAgIG11bDogbXVsJDMsXG4gICAgZGl2aWRlOiBkaXZpZGUkMSxcbiAgICBkaXY6IGRpdiQxLFxuICAgIHJhbmRvbTogcmFuZG9tLFxuICAgIHplcm86IHplcm8kMSxcbiAgICB0cmFuc2Zvcm1NYXQ0OiB0cmFuc2Zvcm1NYXQ0JDEsXG4gICAgdHJhbnNmb3JtTWF0NFVwcGVyM3gzOiB0cmFuc2Zvcm1NYXQ0VXBwZXIzeDMsXG4gICAgdHJhbnNmb3JtTWF0MzogdHJhbnNmb3JtTWF0MyxcbiAgICB0cmFuc2Zvcm1RdWF0OiB0cmFuc2Zvcm1RdWF0LFxuICAgIGdldFRyYW5zbGF0aW9uOiBnZXRUcmFuc2xhdGlvbiQxLFxuICAgIGdldEF4aXM6IGdldEF4aXMkMSxcbiAgICBnZXRTY2FsaW5nOiBnZXRTY2FsaW5nJDFcbn0pO1xuXG4vKipcbiAqIDR4NCBNYXRyaXggbWF0aCBtYXRoIGZ1bmN0aW9ucy5cbiAqXG4gKiBBbG1vc3QgYWxsIGZ1bmN0aW9ucyB0YWtlIGFuIG9wdGlvbmFsIGBkc3RgIGFyZ3VtZW50LiBJZiBpdCBpcyBub3QgcGFzc2VkIGluIHRoZVxuICogZnVuY3Rpb25zIHdpbGwgY3JlYXRlIGEgbmV3IG1hdHJpeC4gSW4gb3RoZXIgd29yZHMgeW91IGNhbiBkbyB0aGlzXG4gKlxuICogICAgIGNvbnN0IG1hdCA9IG1hdDQudHJhbnNsYXRpb24oWzEsIDIsIDNdKTsgIC8vIENyZWF0ZXMgYSBuZXcgdHJhbnNsYXRpb24gbWF0cml4XG4gKlxuICogb3JcbiAqXG4gKiAgICAgY29uc3QgbWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0aW9uKFsxLCAyLCAzXSwgbWF0KTsgIC8vIFB1dHMgdHJhbnNsYXRpb24gbWF0cml4IGluIG1hdC5cbiAqXG4gKiBUaGUgZmlyc3Qgc3R5bGUgaXMgb2Z0ZW4gZWFzaWVyIGJ1dCBkZXBlbmRpbmcgb24gd2hlcmUgaXQncyB1c2VkIGl0IGdlbmVyYXRlcyBnYXJiYWdlIHdoZXJlXG4gKiBhcyB0aGVyZSBpcyBhbG1vc3QgbmV2ZXIgYWxsb2NhdGlvbiB3aXRoIHRoZSBzZWNvbmQgc3R5bGUuXG4gKlxuICogSXQgaXMgYWx3YXlzIHNhdmUgdG8gcGFzcyBhbnkgbWF0cml4IGFzIHRoZSBkZXN0aW5hdGlvbi4gU28gZm9yIGV4YW1wbGVcbiAqXG4gKiAgICAgY29uc3QgbWF0ID0gbWF0NC5pZGVudGl0eSgpO1xuICogICAgIGNvbnN0IHRyYW5zID0gbWF0NC50cmFuc2xhdGlvbihbMSwgMiwgM10pO1xuICogICAgIG1hdDQubXVsdGlwbHkobWF0LCB0cmFucywgbWF0KTsgIC8vIE11bHRpcGxpZXMgbWF0ICogdHJhbnMgYW5kIHB1dHMgcmVzdWx0IGluIG1hdC5cbiAqXG4gKi9cbmxldCBNYXRUeXBlID0gRmxvYXQzMkFycmF5O1xuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIHRoaXMgbGlicmFyeSBjcmVhdGVzIGZvciBhIE1hdDRcbiAqIEBwYXJhbSBjdG9yIC0gdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgdHlwZS4gRWl0aGVyIGBGbG9hdDMyQXJyYXlgLCBgRmxvYXQ2NEFycmF5YCwgb3IgYEFycmF5YFxuICogQHJldHVybnMgcHJldmlvdXMgY29uc3RydWN0b3IgZm9yIE1hdDRcbiAqL1xuZnVuY3Rpb24gc2V0RGVmYXVsdFR5cGUkMyhjdG9yKSB7XG4gICAgY29uc3Qgb2xkVHlwZSA9IE1hdFR5cGU7XG4gICAgTWF0VHlwZSA9IGN0b3I7XG4gICAgcmV0dXJuIG9sZFR5cGU7XG59XG4vKipcbiAqIENyZWF0ZSBhIE1hdDQgZnJvbSB2YWx1ZXNcbiAqXG4gKiBOb3RlOiBTaW5jZSBwYXNzaW5nIGluIGEgcmF3IEphdmFTY3JpcHQgYXJyYXlcbiAqIGlzIHZhbGlkIGluIGFsbCBjaXJjdW1zdGFuY2VzLCBpZiB5b3Ugd2FudCB0b1xuICogZm9yY2UgYSBKYXZhU2NyaXB0IGFycmF5IGludG8gYSBNYXQ0J3Mgc3BlY2lmaWVkIHR5cGVcbiAqIGl0IHdvdWxkIGJlIGZhc3RlciB0byB1c2VcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IG0gPSBtYXQ0LmNsb25lKHNvbWVKU0FycmF5KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IGEgY29uc2VxdWVuY2Ugb2YgdGhlIGltcGxlbWVudGF0aW9uIGlzIGlmIHlvdXIgTWF0NFR5cGUgPSBgQXJyYXlgXG4gKiBpbnN0ZWFkIG9mIGBGbG9hdDMyQXJyYXlgIG9yIGBGbG9hdDY0QXJyYXlgIHRoZW4gYW55IHZhbHVlcyB5b3VcbiAqIGRvbid0IHBhc3MgaW4gd2lsbCBiZSB1bmRlZmluZWQuIFVzdWFsbHkgdGhpcyBpcyBub3QgYW4gaXNzdWUgc2luY2VcbiAqIChhKSB1c2luZyBgQXJyYXlgIGlzIHJhcmUgYW5kIChiKSB1c2luZyBgbWF0NC5jcmVhdGVgIGlzIHVzdWFsbHkgdXNlZFxuICogdG8gY3JlYXRlIGEgTWF0NCB0byBiZSBmaWxsZWQgb3V0IGFzIGluXG4gKlxuICogYGBgXG4gKiBjb25zdCBtID0gbWF0NC5jcmVhdGUoKTtcbiAqIG1hdDQucGVyc3BlY3RpdmUoZm92LCBhc3BlY3QsIG5lYXIsIGZhciwgbSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdjAgLSB2YWx1ZSBmb3IgZWxlbWVudCAwXG4gKiBAcGFyYW0gdjEgLSB2YWx1ZSBmb3IgZWxlbWVudCAxXG4gKiBAcGFyYW0gdjIgLSB2YWx1ZSBmb3IgZWxlbWVudCAyXG4gKiBAcGFyYW0gdjMgLSB2YWx1ZSBmb3IgZWxlbWVudCAzXG4gKiBAcGFyYW0gdjQgLSB2YWx1ZSBmb3IgZWxlbWVudCA0XG4gKiBAcGFyYW0gdjUgLSB2YWx1ZSBmb3IgZWxlbWVudCA1XG4gKiBAcGFyYW0gdjYgLSB2YWx1ZSBmb3IgZWxlbWVudCA2XG4gKiBAcGFyYW0gdjcgLSB2YWx1ZSBmb3IgZWxlbWVudCA3XG4gKiBAcGFyYW0gdjggLSB2YWx1ZSBmb3IgZWxlbWVudCA4XG4gKiBAcGFyYW0gdjkgLSB2YWx1ZSBmb3IgZWxlbWVudCA5XG4gKiBAcGFyYW0gdjEwIC0gdmFsdWUgZm9yIGVsZW1lbnQgMTBcbiAqIEBwYXJhbSB2MTEgLSB2YWx1ZSBmb3IgZWxlbWVudCAxMVxuICogQHBhcmFtIHYxMiAtIHZhbHVlIGZvciBlbGVtZW50IDEyXG4gKiBAcGFyYW0gdjEzIC0gdmFsdWUgZm9yIGVsZW1lbnQgMTNcbiAqIEBwYXJhbSB2MTQgLSB2YWx1ZSBmb3IgZWxlbWVudCAxNFxuICogQHBhcmFtIHYxNSAtIHZhbHVlIGZvciBlbGVtZW50IDE1XG4gKiBAcmV0dXJucyBjcmVhdGVkIGZyb20gdmFsdWVzLlxuICovXG5mdW5jdGlvbiBjcmVhdGUkMih2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSwgdjEwLCB2MTEsIHYxMiwgdjEzLCB2MTQsIHYxNSkge1xuICAgIGNvbnN0IGRzdCA9IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBpZiAodjAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkc3RbMF0gPSB2MDtcbiAgICAgICAgaWYgKHYxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdFsxXSA9IHYxO1xuICAgICAgICAgICAgaWYgKHYyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkc3RbMl0gPSB2MjtcbiAgICAgICAgICAgICAgICBpZiAodjMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkc3RbM10gPSB2MztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHY0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdFs0XSA9IHY0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY1ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbNV0gPSB2NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbNl0gPSB2NjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdFs3XSA9IHY3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbOF0gPSB2ODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbOV0gPSB2OTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYxMCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbMTBdID0gdjEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYxMSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0WzExXSA9IHYxMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjEyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0WzEyXSA9IHYxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYxMyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RbMTNdID0gdjEzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYxNCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0WzE0XSA9IHYxNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjE1ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0WzE1XSA9IHYxNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogU2V0cyB0aGUgdmFsdWVzIG9mIGEgTWF0NFxuICogQWxzbyBzZWUge0BsaW5rIG1hdDQuY3JlYXRlfSBhbmQge0BsaW5rIG1hdDQuY29weX1cbiAqXG4gKiBAcGFyYW0gdjAgLSB2YWx1ZSBmb3IgZWxlbWVudCAwXG4gKiBAcGFyYW0gdjEgLSB2YWx1ZSBmb3IgZWxlbWVudCAxXG4gKiBAcGFyYW0gdjIgLSB2YWx1ZSBmb3IgZWxlbWVudCAyXG4gKiBAcGFyYW0gdjMgLSB2YWx1ZSBmb3IgZWxlbWVudCAzXG4gKiBAcGFyYW0gdjQgLSB2YWx1ZSBmb3IgZWxlbWVudCA0XG4gKiBAcGFyYW0gdjUgLSB2YWx1ZSBmb3IgZWxlbWVudCA1XG4gKiBAcGFyYW0gdjYgLSB2YWx1ZSBmb3IgZWxlbWVudCA2XG4gKiBAcGFyYW0gdjcgLSB2YWx1ZSBmb3IgZWxlbWVudCA3XG4gKiBAcGFyYW0gdjggLSB2YWx1ZSBmb3IgZWxlbWVudCA4XG4gKiBAcGFyYW0gdjkgLSB2YWx1ZSBmb3IgZWxlbWVudCA5XG4gKiBAcGFyYW0gdjEwIC0gdmFsdWUgZm9yIGVsZW1lbnQgMTBcbiAqIEBwYXJhbSB2MTEgLSB2YWx1ZSBmb3IgZWxlbWVudCAxMVxuICogQHBhcmFtIHYxMiAtIHZhbHVlIGZvciBlbGVtZW50IDEyXG4gKiBAcGFyYW0gdjEzIC0gdmFsdWUgZm9yIGVsZW1lbnQgMTNcbiAqIEBwYXJhbSB2MTQgLSB2YWx1ZSBmb3IgZWxlbWVudCAxNFxuICogQHBhcmFtIHYxNSAtIHZhbHVlIGZvciBlbGVtZW50IDE1XG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgTWF0NCBjcmVhdGVkIGZyb20gdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXQkMih2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSwgdjEwLCB2MTEsIHYxMiwgdjEzLCB2MTQsIHYxNSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBkc3RbMF0gPSB2MDtcbiAgICBkc3RbMV0gPSB2MTtcbiAgICBkc3RbMl0gPSB2MjtcbiAgICBkc3RbM10gPSB2MztcbiAgICBkc3RbNF0gPSB2NDtcbiAgICBkc3RbNV0gPSB2NTtcbiAgICBkc3RbNl0gPSB2NjtcbiAgICBkc3RbN10gPSB2NztcbiAgICBkc3RbOF0gPSB2ODtcbiAgICBkc3RbOV0gPSB2OTtcbiAgICBkc3RbMTBdID0gdjEwO1xuICAgIGRzdFsxMV0gPSB2MTE7XG4gICAgZHN0WzEyXSA9IHYxMjtcbiAgICBkc3RbMTNdID0gdjEzO1xuICAgIGRzdFsxNF0gPSB2MTQ7XG4gICAgZHN0WzE1XSA9IHYxNTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgTWF0NCBmcm9tIGEgTWF0M1xuICogQHBhcmFtIG0zIC0gc291cmNlIG1hdHJpeFxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIE1hdDQgbWFkZSBmcm9tIG0zXG4gKi9cbmZ1bmN0aW9uIGZyb21NYXQzKG0zLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGRzdFswXSA9IG0zWzBdO1xuICAgIGRzdFsxXSA9IG0zWzFdO1xuICAgIGRzdFsyXSA9IG0zWzJdO1xuICAgIGRzdFszXSA9IDA7XG4gICAgZHN0WzRdID0gbTNbNF07XG4gICAgZHN0WzVdID0gbTNbNV07XG4gICAgZHN0WzZdID0gbTNbNl07XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbOF0gPSBtM1s4XTtcbiAgICBkc3RbOV0gPSBtM1s5XTtcbiAgICBkc3RbMTBdID0gbTNbMTBdO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAwO1xuICAgIGRzdFsxM10gPSAwO1xuICAgIGRzdFsxNF0gPSAwO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBNYXQ0IHJvdGF0aW9uIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvblxuICogQHBhcmFtIHEgLSBxdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIE1hdDQgbWFkZSBmcm9tIHFcbiAqL1xuZnVuY3Rpb24gZnJvbVF1YXQocSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBjb25zdCB4ID0gcVswXTtcbiAgICBjb25zdCB5ID0gcVsxXTtcbiAgICBjb25zdCB6ID0gcVsyXTtcbiAgICBjb25zdCB3ID0gcVszXTtcbiAgICBjb25zdCB4MiA9IHggKyB4O1xuICAgIGNvbnN0IHkyID0geSArIHk7XG4gICAgY29uc3QgejIgPSB6ICsgejtcbiAgICBjb25zdCB4eCA9IHggKiB4MjtcbiAgICBjb25zdCB5eCA9IHkgKiB4MjtcbiAgICBjb25zdCB5eSA9IHkgKiB5MjtcbiAgICBjb25zdCB6eCA9IHogKiB4MjtcbiAgICBjb25zdCB6eSA9IHogKiB5MjtcbiAgICBjb25zdCB6eiA9IHogKiB6MjtcbiAgICBjb25zdCB3eCA9IHcgKiB4MjtcbiAgICBjb25zdCB3eSA9IHcgKiB5MjtcbiAgICBjb25zdCB3eiA9IHcgKiB6MjtcbiAgICBkc3RbMF0gPSAxIC0geXkgLSB6ejtcbiAgICBkc3RbMV0gPSB5eCArIHd6O1xuICAgIGRzdFsyXSA9IHp4IC0gd3k7XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSB5eCAtIHd6O1xuICAgIGRzdFs1XSA9IDEgLSB4eCAtIHp6O1xuICAgIGRzdFs2XSA9IHp5ICsgd3g7XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbOF0gPSB6eCArIHd5O1xuICAgIGRzdFs5XSA9IHp5IC0gd3g7XG4gICAgZHN0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAwO1xuICAgIGRzdFsxM10gPSAwO1xuICAgIGRzdFsxNF0gPSAwO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE5lZ2F0ZXMgYSBtYXRyaXguXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgLW0uXG4gKi9cbmZ1bmN0aW9uIG5lZ2F0ZSQxKG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgZHN0WzBdID0gLW1bMF07XG4gICAgZHN0WzFdID0gLW1bMV07XG4gICAgZHN0WzJdID0gLW1bMl07XG4gICAgZHN0WzNdID0gLW1bM107XG4gICAgZHN0WzRdID0gLW1bNF07XG4gICAgZHN0WzVdID0gLW1bNV07XG4gICAgZHN0WzZdID0gLW1bNl07XG4gICAgZHN0WzddID0gLW1bN107XG4gICAgZHN0WzhdID0gLW1bOF07XG4gICAgZHN0WzldID0gLW1bOV07XG4gICAgZHN0WzEwXSA9IC1tWzEwXTtcbiAgICBkc3RbMTFdID0gLW1bMTFdO1xuICAgIGRzdFsxMl0gPSAtbVsxMl07XG4gICAgZHN0WzEzXSA9IC1tWzEzXTtcbiAgICBkc3RbMTRdID0gLW1bMTRdO1xuICAgIGRzdFsxNV0gPSAtbVsxNV07XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ29waWVzIGEgbWF0cml4LiAoc2FtZSBhcyB7QGxpbmsgbWF0NC5jbG9uZX0pXG4gKiBBbHNvIHNlZSB7QGxpbmsgbWF0NC5jcmVhdGV9IGFuZCB7QGxpbmsgbWF0NC5zZXR9XG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gZHN0IC0gVGhlIG1hdHJpeC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgY29weSBvZiBtLlxuICovXG5mdW5jdGlvbiBjb3B5JDIobSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBkc3RbMF0gPSBtWzBdO1xuICAgIGRzdFsxXSA9IG1bMV07XG4gICAgZHN0WzJdID0gbVsyXTtcbiAgICBkc3RbM10gPSBtWzNdO1xuICAgIGRzdFs0XSA9IG1bNF07XG4gICAgZHN0WzVdID0gbVs1XTtcbiAgICBkc3RbNl0gPSBtWzZdO1xuICAgIGRzdFs3XSA9IG1bN107XG4gICAgZHN0WzhdID0gbVs4XTtcbiAgICBkc3RbOV0gPSBtWzldO1xuICAgIGRzdFsxMF0gPSBtWzEwXTtcbiAgICBkc3RbMTFdID0gbVsxMV07XG4gICAgZHN0WzEyXSA9IG1bMTJdO1xuICAgIGRzdFsxM10gPSBtWzEzXTtcbiAgICBkc3RbMTRdID0gbVsxNF07XG4gICAgZHN0WzE1XSA9IG1bMTVdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvcGllcyBhIG1hdHJpeCAoc2FtZSBhcyB7QGxpbmsgbWF0NC5jb3B5fSlcbiAqIEFsc28gc2VlIHtAbGluayBtYXQ0LmNyZWF0ZX0gYW5kIHtAbGluayBtYXQ0LnNldH1cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBUaGUgbWF0cml4LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBjb3B5IG9mIG0uXG4gKi9cbmNvbnN0IGNsb25lJDIgPSBjb3B5JDI7XG4vKipcbiAqIENoZWNrIGlmIDIgbWF0cmljZXMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWxcbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCBtYXRyaXguXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgbWF0cml4LlxuICogQHJldHVybnMgdHJ1ZSBpZiBtYXRyaWNlcyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHNBcHByb3hpbWF0ZWx5JDIoYSwgYikge1xuICAgIHJldHVybiBNYXRoLmFicyhhWzBdIC0gYlswXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMV0gLSBiWzFdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVsyXSAtIGJbMl0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzNdIC0gYlszXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbNF0gLSBiWzRdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVs1XSAtIGJbNV0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzZdIC0gYls2XSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbN10gLSBiWzddKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVs4XSAtIGJbOF0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzldIC0gYls5XSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMTBdIC0gYlsxMF0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzExXSAtIGJbMTFdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVsxMl0gLSBiWzEyXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMTNdIC0gYlsxM10pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzE0XSAtIGJbMTRdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVsxNV0gLSBiWzE1XSkgPCBFUFNJTE9OO1xufVxuLyoqXG4gKiBDaGVjayBpZiAyIG1hdHJpY2VzIGFyZSBleGFjdGx5IGVxdWFsXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgbWF0cml4LlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHRydWUgaWYgbWF0cmljZXMgYXJlIGV4YWN0bHkgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzJDIoYSwgYikge1xuICAgIHJldHVybiBhWzBdID09PSBiWzBdICYmXG4gICAgICAgIGFbMV0gPT09IGJbMV0gJiZcbiAgICAgICAgYVsyXSA9PT0gYlsyXSAmJlxuICAgICAgICBhWzNdID09PSBiWzNdICYmXG4gICAgICAgIGFbNF0gPT09IGJbNF0gJiZcbiAgICAgICAgYVs1XSA9PT0gYls1XSAmJlxuICAgICAgICBhWzZdID09PSBiWzZdICYmXG4gICAgICAgIGFbN10gPT09IGJbN10gJiZcbiAgICAgICAgYVs4XSA9PT0gYls4XSAmJlxuICAgICAgICBhWzldID09PSBiWzldICYmXG4gICAgICAgIGFbMTBdID09PSBiWzEwXSAmJlxuICAgICAgICBhWzExXSA9PT0gYlsxMV0gJiZcbiAgICAgICAgYVsxMl0gPT09IGJbMTJdICYmXG4gICAgICAgIGFbMTNdID09PSBiWzEzXSAmJlxuICAgICAgICBhWzE0XSA9PT0gYlsxNF0gJiZcbiAgICAgICAgYVsxNV0gPT09IGJbMTVdO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgNC1ieS00IGlkZW50aXR5IG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSA0LWJ5LTQgaWRlbnRpdHkgbWF0cml4LlxuICovXG5mdW5jdGlvbiBpZGVudGl0eSQxKGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgZHN0WzBdID0gMTtcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSAwO1xuICAgIGRzdFs1XSA9IDE7XG4gICAgZHN0WzZdID0gMDtcbiAgICBkc3RbN10gPSAwO1xuICAgIGRzdFs4XSA9IDA7XG4gICAgZHN0WzldID0gMDtcbiAgICBkc3RbMTBdID0gMTtcbiAgICBkc3RbMTFdID0gMDtcbiAgICBkc3RbMTJdID0gMDtcbiAgICBkc3RbMTNdID0gMDtcbiAgICBkc3RbMTRdID0gMDtcbiAgICBkc3RbMTVdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBUYWtlcyB0aGUgdHJhbnNwb3NlIG9mIGEgbWF0cml4LlxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB0cmFuc3Bvc2Ugb2YgbS5cbiAqL1xuZnVuY3Rpb24gdHJhbnNwb3NlKG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgaWYgKGRzdCA9PT0gbSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgdCA9IG1bMV07XG4gICAgICAgIG1bMV0gPSBtWzRdO1xuICAgICAgICBtWzRdID0gdDtcbiAgICAgICAgdCA9IG1bMl07XG4gICAgICAgIG1bMl0gPSBtWzhdO1xuICAgICAgICBtWzhdID0gdDtcbiAgICAgICAgdCA9IG1bM107XG4gICAgICAgIG1bM10gPSBtWzEyXTtcbiAgICAgICAgbVsxMl0gPSB0O1xuICAgICAgICB0ID0gbVs2XTtcbiAgICAgICAgbVs2XSA9IG1bOV07XG4gICAgICAgIG1bOV0gPSB0O1xuICAgICAgICB0ID0gbVs3XTtcbiAgICAgICAgbVs3XSA9IG1bMTNdO1xuICAgICAgICBtWzEzXSA9IHQ7XG4gICAgICAgIHQgPSBtWzExXTtcbiAgICAgICAgbVsxMV0gPSBtWzE0XTtcbiAgICAgICAgbVsxNF0gPSB0O1xuICAgICAgICByZXR1cm4gZHN0O1xuICAgIH1cbiAgICBjb25zdCBtMDAgPSBtWzAgKiA0ICsgMF07XG4gICAgY29uc3QgbTAxID0gbVswICogNCArIDFdO1xuICAgIGNvbnN0IG0wMiA9IG1bMCAqIDQgKyAyXTtcbiAgICBjb25zdCBtMDMgPSBtWzAgKiA0ICsgM107XG4gICAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICAgIGNvbnN0IG0xMSA9IG1bMSAqIDQgKyAxXTtcbiAgICBjb25zdCBtMTIgPSBtWzEgKiA0ICsgMl07XG4gICAgY29uc3QgbTEzID0gbVsxICogNCArIDNdO1xuICAgIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICAgIGNvbnN0IG0yMyA9IG1bMiAqIDQgKyAzXTtcbiAgICBjb25zdCBtMzAgPSBtWzMgKiA0ICsgMF07XG4gICAgY29uc3QgbTMxID0gbVszICogNCArIDFdO1xuICAgIGNvbnN0IG0zMiA9IG1bMyAqIDQgKyAyXTtcbiAgICBjb25zdCBtMzMgPSBtWzMgKiA0ICsgM107XG4gICAgZHN0WzBdID0gbTAwO1xuICAgIGRzdFsxXSA9IG0xMDtcbiAgICBkc3RbMl0gPSBtMjA7XG4gICAgZHN0WzNdID0gbTMwO1xuICAgIGRzdFs0XSA9IG0wMTtcbiAgICBkc3RbNV0gPSBtMTE7XG4gICAgZHN0WzZdID0gbTIxO1xuICAgIGRzdFs3XSA9IG0zMTtcbiAgICBkc3RbOF0gPSBtMDI7XG4gICAgZHN0WzldID0gbTEyO1xuICAgIGRzdFsxMF0gPSBtMjI7XG4gICAgZHN0WzExXSA9IG0zMjtcbiAgICBkc3RbMTJdID0gbTAzO1xuICAgIGRzdFsxM10gPSBtMTM7XG4gICAgZHN0WzE0XSA9IG0yMztcbiAgICBkc3RbMTVdID0gbTMzO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBpbnZlcnNlIG9mIGEgNC1ieS00IG1hdHJpeC5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgaW52ZXJzZSBvZiBtLlxuICovXG5mdW5jdGlvbiBpbnZlcnNlJDIobSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBjb25zdCBtMDAgPSBtWzAgKiA0ICsgMF07XG4gICAgY29uc3QgbTAxID0gbVswICogNCArIDFdO1xuICAgIGNvbnN0IG0wMiA9IG1bMCAqIDQgKyAyXTtcbiAgICBjb25zdCBtMDMgPSBtWzAgKiA0ICsgM107XG4gICAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICAgIGNvbnN0IG0xMSA9IG1bMSAqIDQgKyAxXTtcbiAgICBjb25zdCBtMTIgPSBtWzEgKiA0ICsgMl07XG4gICAgY29uc3QgbTEzID0gbVsxICogNCArIDNdO1xuICAgIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICAgIGNvbnN0IG0yMyA9IG1bMiAqIDQgKyAzXTtcbiAgICBjb25zdCBtMzAgPSBtWzMgKiA0ICsgMF07XG4gICAgY29uc3QgbTMxID0gbVszICogNCArIDFdO1xuICAgIGNvbnN0IG0zMiA9IG1bMyAqIDQgKyAyXTtcbiAgICBjb25zdCBtMzMgPSBtWzMgKiA0ICsgM107XG4gICAgY29uc3QgdG1wMCA9IG0yMiAqIG0zMztcbiAgICBjb25zdCB0bXAxID0gbTMyICogbTIzO1xuICAgIGNvbnN0IHRtcDIgPSBtMTIgKiBtMzM7XG4gICAgY29uc3QgdG1wMyA9IG0zMiAqIG0xMztcbiAgICBjb25zdCB0bXA0ID0gbTEyICogbTIzO1xuICAgIGNvbnN0IHRtcDUgPSBtMjIgKiBtMTM7XG4gICAgY29uc3QgdG1wNiA9IG0wMiAqIG0zMztcbiAgICBjb25zdCB0bXA3ID0gbTMyICogbTAzO1xuICAgIGNvbnN0IHRtcDggPSBtMDIgKiBtMjM7XG4gICAgY29uc3QgdG1wOSA9IG0yMiAqIG0wMztcbiAgICBjb25zdCB0bXAxMCA9IG0wMiAqIG0xMztcbiAgICBjb25zdCB0bXAxMSA9IG0xMiAqIG0wMztcbiAgICBjb25zdCB0bXAxMiA9IG0yMCAqIG0zMTtcbiAgICBjb25zdCB0bXAxMyA9IG0zMCAqIG0yMTtcbiAgICBjb25zdCB0bXAxNCA9IG0xMCAqIG0zMTtcbiAgICBjb25zdCB0bXAxNSA9IG0zMCAqIG0xMTtcbiAgICBjb25zdCB0bXAxNiA9IG0xMCAqIG0yMTtcbiAgICBjb25zdCB0bXAxNyA9IG0yMCAqIG0xMTtcbiAgICBjb25zdCB0bXAxOCA9IG0wMCAqIG0zMTtcbiAgICBjb25zdCB0bXAxOSA9IG0zMCAqIG0wMTtcbiAgICBjb25zdCB0bXAyMCA9IG0wMCAqIG0yMTtcbiAgICBjb25zdCB0bXAyMSA9IG0yMCAqIG0wMTtcbiAgICBjb25zdCB0bXAyMiA9IG0wMCAqIG0xMTtcbiAgICBjb25zdCB0bXAyMyA9IG0xMCAqIG0wMTtcbiAgICBjb25zdCB0MCA9ICh0bXAwICogbTExICsgdG1wMyAqIG0yMSArIHRtcDQgKiBtMzEpIC1cbiAgICAgICAgKHRtcDEgKiBtMTEgKyB0bXAyICogbTIxICsgdG1wNSAqIG0zMSk7XG4gICAgY29uc3QgdDEgPSAodG1wMSAqIG0wMSArIHRtcDYgKiBtMjEgKyB0bXA5ICogbTMxKSAtXG4gICAgICAgICh0bXAwICogbTAxICsgdG1wNyAqIG0yMSArIHRtcDggKiBtMzEpO1xuICAgIGNvbnN0IHQyID0gKHRtcDIgKiBtMDEgKyB0bXA3ICogbTExICsgdG1wMTAgKiBtMzEpIC1cbiAgICAgICAgKHRtcDMgKiBtMDEgKyB0bXA2ICogbTExICsgdG1wMTEgKiBtMzEpO1xuICAgIGNvbnN0IHQzID0gKHRtcDUgKiBtMDEgKyB0bXA4ICogbTExICsgdG1wMTEgKiBtMjEpIC1cbiAgICAgICAgKHRtcDQgKiBtMDEgKyB0bXA5ICogbTExICsgdG1wMTAgKiBtMjEpO1xuICAgIGNvbnN0IGQgPSAxIC8gKG0wMCAqIHQwICsgbTEwICogdDEgKyBtMjAgKiB0MiArIG0zMCAqIHQzKTtcbiAgICBkc3RbMF0gPSBkICogdDA7XG4gICAgZHN0WzFdID0gZCAqIHQxO1xuICAgIGRzdFsyXSA9IGQgKiB0MjtcbiAgICBkc3RbM10gPSBkICogdDM7XG4gICAgZHN0WzRdID0gZCAqICgodG1wMSAqIG0xMCArIHRtcDIgKiBtMjAgKyB0bXA1ICogbTMwKSAtXG4gICAgICAgICh0bXAwICogbTEwICsgdG1wMyAqIG0yMCArIHRtcDQgKiBtMzApKTtcbiAgICBkc3RbNV0gPSBkICogKCh0bXAwICogbTAwICsgdG1wNyAqIG0yMCArIHRtcDggKiBtMzApIC1cbiAgICAgICAgKHRtcDEgKiBtMDAgKyB0bXA2ICogbTIwICsgdG1wOSAqIG0zMCkpO1xuICAgIGRzdFs2XSA9IGQgKiAoKHRtcDMgKiBtMDAgKyB0bXA2ICogbTEwICsgdG1wMTEgKiBtMzApIC1cbiAgICAgICAgKHRtcDIgKiBtMDAgKyB0bXA3ICogbTEwICsgdG1wMTAgKiBtMzApKTtcbiAgICBkc3RbN10gPSBkICogKCh0bXA0ICogbTAwICsgdG1wOSAqIG0xMCArIHRtcDEwICogbTIwKSAtXG4gICAgICAgICh0bXA1ICogbTAwICsgdG1wOCAqIG0xMCArIHRtcDExICogbTIwKSk7XG4gICAgZHN0WzhdID0gZCAqICgodG1wMTIgKiBtMTMgKyB0bXAxNSAqIG0yMyArIHRtcDE2ICogbTMzKSAtXG4gICAgICAgICh0bXAxMyAqIG0xMyArIHRtcDE0ICogbTIzICsgdG1wMTcgKiBtMzMpKTtcbiAgICBkc3RbOV0gPSBkICogKCh0bXAxMyAqIG0wMyArIHRtcDE4ICogbTIzICsgdG1wMjEgKiBtMzMpIC1cbiAgICAgICAgKHRtcDEyICogbTAzICsgdG1wMTkgKiBtMjMgKyB0bXAyMCAqIG0zMykpO1xuICAgIGRzdFsxMF0gPSBkICogKCh0bXAxNCAqIG0wMyArIHRtcDE5ICogbTEzICsgdG1wMjIgKiBtMzMpIC1cbiAgICAgICAgKHRtcDE1ICogbTAzICsgdG1wMTggKiBtMTMgKyB0bXAyMyAqIG0zMykpO1xuICAgIGRzdFsxMV0gPSBkICogKCh0bXAxNyAqIG0wMyArIHRtcDIwICogbTEzICsgdG1wMjMgKiBtMjMpIC1cbiAgICAgICAgKHRtcDE2ICogbTAzICsgdG1wMjEgKiBtMTMgKyB0bXAyMiAqIG0yMykpO1xuICAgIGRzdFsxMl0gPSBkICogKCh0bXAxNCAqIG0yMiArIHRtcDE3ICogbTMyICsgdG1wMTMgKiBtMTIpIC1cbiAgICAgICAgKHRtcDE2ICogbTMyICsgdG1wMTIgKiBtMTIgKyB0bXAxNSAqIG0yMikpO1xuICAgIGRzdFsxM10gPSBkICogKCh0bXAyMCAqIG0zMiArIHRtcDEyICogbTAyICsgdG1wMTkgKiBtMjIpIC1cbiAgICAgICAgKHRtcDE4ICogbTIyICsgdG1wMjEgKiBtMzIgKyB0bXAxMyAqIG0wMikpO1xuICAgIGRzdFsxNF0gPSBkICogKCh0bXAxOCAqIG0xMiArIHRtcDIzICogbTMyICsgdG1wMTUgKiBtMDIpIC1cbiAgICAgICAgKHRtcDIyICogbTMyICsgdG1wMTQgKiBtMDIgKyB0bXAxOSAqIG0xMikpO1xuICAgIGRzdFsxNV0gPSBkICogKCh0bXAyMiAqIG0yMiArIHRtcDE2ICogbTAyICsgdG1wMjEgKiBtMTIpIC1cbiAgICAgICAgKHRtcDIwICogbTEyICsgdG1wMjMgKiBtMjIgKyB0bXAxNyAqIG0wMikpO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvbXB1dGUgdGhlIGRldGVybWluYW50IG9mIGEgbWF0cml4XG4gKiBAcGFyYW0gbSAtIHRoZSBtYXRyaXhcbiAqIEByZXR1cm5zIHRoZSBkZXRlcm1pbmFudFxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmFudChtKSB7XG4gICAgY29uc3QgbTAwID0gbVswICogNCArIDBdO1xuICAgIGNvbnN0IG0wMSA9IG1bMCAqIDQgKyAxXTtcbiAgICBjb25zdCBtMDIgPSBtWzAgKiA0ICsgMl07XG4gICAgY29uc3QgbTAzID0gbVswICogNCArIDNdO1xuICAgIGNvbnN0IG0xMCA9IG1bMSAqIDQgKyAwXTtcbiAgICBjb25zdCBtMTEgPSBtWzEgKiA0ICsgMV07XG4gICAgY29uc3QgbTEyID0gbVsxICogNCArIDJdO1xuICAgIGNvbnN0IG0xMyA9IG1bMSAqIDQgKyAzXTtcbiAgICBjb25zdCBtMjAgPSBtWzIgKiA0ICsgMF07XG4gICAgY29uc3QgbTIxID0gbVsyICogNCArIDFdO1xuICAgIGNvbnN0IG0yMiA9IG1bMiAqIDQgKyAyXTtcbiAgICBjb25zdCBtMjMgPSBtWzIgKiA0ICsgM107XG4gICAgY29uc3QgbTMwID0gbVszICogNCArIDBdO1xuICAgIGNvbnN0IG0zMSA9IG1bMyAqIDQgKyAxXTtcbiAgICBjb25zdCBtMzIgPSBtWzMgKiA0ICsgMl07XG4gICAgY29uc3QgbTMzID0gbVszICogNCArIDNdO1xuICAgIGNvbnN0IHRtcDAgPSBtMjIgKiBtMzM7XG4gICAgY29uc3QgdG1wMSA9IG0zMiAqIG0yMztcbiAgICBjb25zdCB0bXAyID0gbTEyICogbTMzO1xuICAgIGNvbnN0IHRtcDMgPSBtMzIgKiBtMTM7XG4gICAgY29uc3QgdG1wNCA9IG0xMiAqIG0yMztcbiAgICBjb25zdCB0bXA1ID0gbTIyICogbTEzO1xuICAgIGNvbnN0IHRtcDYgPSBtMDIgKiBtMzM7XG4gICAgY29uc3QgdG1wNyA9IG0zMiAqIG0wMztcbiAgICBjb25zdCB0bXA4ID0gbTAyICogbTIzO1xuICAgIGNvbnN0IHRtcDkgPSBtMjIgKiBtMDM7XG4gICAgY29uc3QgdG1wMTAgPSBtMDIgKiBtMTM7XG4gICAgY29uc3QgdG1wMTEgPSBtMTIgKiBtMDM7XG4gICAgY29uc3QgdDAgPSAodG1wMCAqIG0xMSArIHRtcDMgKiBtMjEgKyB0bXA0ICogbTMxKSAtXG4gICAgICAgICh0bXAxICogbTExICsgdG1wMiAqIG0yMSArIHRtcDUgKiBtMzEpO1xuICAgIGNvbnN0IHQxID0gKHRtcDEgKiBtMDEgKyB0bXA2ICogbTIxICsgdG1wOSAqIG0zMSkgLVxuICAgICAgICAodG1wMCAqIG0wMSArIHRtcDcgKiBtMjEgKyB0bXA4ICogbTMxKTtcbiAgICBjb25zdCB0MiA9ICh0bXAyICogbTAxICsgdG1wNyAqIG0xMSArIHRtcDEwICogbTMxKSAtXG4gICAgICAgICh0bXAzICogbTAxICsgdG1wNiAqIG0xMSArIHRtcDExICogbTMxKTtcbiAgICBjb25zdCB0MyA9ICh0bXA1ICogbTAxICsgdG1wOCAqIG0xMSArIHRtcDExICogbTIxKSAtXG4gICAgICAgICh0bXA0ICogbTAxICsgdG1wOSAqIG0xMSArIHRtcDEwICogbTIxKTtcbiAgICByZXR1cm4gbTAwICogdDAgKyBtMTAgKiB0MSArIG0yMCAqIHQyICsgbTMwICogdDM7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBpbnZlcnNlIG9mIGEgNC1ieS00IG1hdHJpeC4gKHNhbWUgYXMgaW52ZXJzZSlcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgaW52ZXJzZSBvZiBtLlxuICovXG5jb25zdCBpbnZlcnQkMSA9IGludmVyc2UkMjtcbi8qKlxuICogTXVsdGlwbGllcyB0d28gNC1ieS00IG1hdHJpY2VzIHdpdGggYSBvbiB0aGUgbGVmdCBhbmQgYiBvbiB0aGUgcmlnaHRcbiAqIEBwYXJhbSBhIC0gVGhlIG1hdHJpeCBvbiB0aGUgbGVmdC5cbiAqIEBwYXJhbSBiIC0gVGhlIG1hdHJpeCBvbiB0aGUgcmlnaHQuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1hdHJpeCBwcm9kdWN0IG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5JDIoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBjb25zdCBhMDAgPSBhWzBdO1xuICAgIGNvbnN0IGEwMSA9IGFbMV07XG4gICAgY29uc3QgYTAyID0gYVsyXTtcbiAgICBjb25zdCBhMDMgPSBhWzNdO1xuICAgIGNvbnN0IGExMCA9IGFbNCArIDBdO1xuICAgIGNvbnN0IGExMSA9IGFbNCArIDFdO1xuICAgIGNvbnN0IGExMiA9IGFbNCArIDJdO1xuICAgIGNvbnN0IGExMyA9IGFbNCArIDNdO1xuICAgIGNvbnN0IGEyMCA9IGFbOCArIDBdO1xuICAgIGNvbnN0IGEyMSA9IGFbOCArIDFdO1xuICAgIGNvbnN0IGEyMiA9IGFbOCArIDJdO1xuICAgIGNvbnN0IGEyMyA9IGFbOCArIDNdO1xuICAgIGNvbnN0IGEzMCA9IGFbMTIgKyAwXTtcbiAgICBjb25zdCBhMzEgPSBhWzEyICsgMV07XG4gICAgY29uc3QgYTMyID0gYVsxMiArIDJdO1xuICAgIGNvbnN0IGEzMyA9IGFbMTIgKyAzXTtcbiAgICBjb25zdCBiMDAgPSBiWzBdO1xuICAgIGNvbnN0IGIwMSA9IGJbMV07XG4gICAgY29uc3QgYjAyID0gYlsyXTtcbiAgICBjb25zdCBiMDMgPSBiWzNdO1xuICAgIGNvbnN0IGIxMCA9IGJbNCArIDBdO1xuICAgIGNvbnN0IGIxMSA9IGJbNCArIDFdO1xuICAgIGNvbnN0IGIxMiA9IGJbNCArIDJdO1xuICAgIGNvbnN0IGIxMyA9IGJbNCArIDNdO1xuICAgIGNvbnN0IGIyMCA9IGJbOCArIDBdO1xuICAgIGNvbnN0IGIyMSA9IGJbOCArIDFdO1xuICAgIGNvbnN0IGIyMiA9IGJbOCArIDJdO1xuICAgIGNvbnN0IGIyMyA9IGJbOCArIDNdO1xuICAgIGNvbnN0IGIzMCA9IGJbMTIgKyAwXTtcbiAgICBjb25zdCBiMzEgPSBiWzEyICsgMV07XG4gICAgY29uc3QgYjMyID0gYlsxMiArIDJdO1xuICAgIGNvbnN0IGIzMyA9IGJbMTIgKyAzXTtcbiAgICBkc3RbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDIgKyBhMzAgKiBiMDM7XG4gICAgZHN0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyICsgYTMxICogYjAzO1xuICAgIGRzdFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMiArIGEzMiAqIGIwMztcbiAgICBkc3RbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDIgKyBhMzMgKiBiMDM7XG4gICAgZHN0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyICsgYTMwICogYjEzO1xuICAgIGRzdFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMiArIGEzMSAqIGIxMztcbiAgICBkc3RbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTIgKyBhMzIgKiBiMTM7XG4gICAgZHN0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyICsgYTMzICogYjEzO1xuICAgIGRzdFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMiArIGEzMCAqIGIyMztcbiAgICBkc3RbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjIgKyBhMzEgKiBiMjM7XG4gICAgZHN0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMiArIGEzMiAqIGIyMztcbiAgICBkc3RbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyICsgYTMzICogYjIzO1xuICAgIGRzdFsxMl0gPSBhMDAgKiBiMzAgKyBhMTAgKiBiMzEgKyBhMjAgKiBiMzIgKyBhMzAgKiBiMzM7XG4gICAgZHN0WzEzXSA9IGEwMSAqIGIzMCArIGExMSAqIGIzMSArIGEyMSAqIGIzMiArIGEzMSAqIGIzMztcbiAgICBkc3RbMTRdID0gYTAyICogYjMwICsgYTEyICogYjMxICsgYTIyICogYjMyICsgYTMyICogYjMzO1xuICAgIGRzdFsxNV0gPSBhMDMgKiBiMzAgKyBhMTMgKiBiMzEgKyBhMjMgKiBiMzIgKyBhMzMgKiBiMzM7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gNC1ieS00IG1hdHJpY2VzIHdpdGggYSBvbiB0aGUgbGVmdCBhbmQgYiBvbiB0aGUgcmlnaHQgKHNhbWUgYXMgbXVsdGlwbHkpXG4gKiBAcGFyYW0gYSAtIFRoZSBtYXRyaXggb24gdGhlIGxlZnQuXG4gKiBAcGFyYW0gYiAtIFRoZSBtYXRyaXggb24gdGhlIHJpZ2h0LlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBtYXRyaXggcHJvZHVjdCBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBtdWwkMiA9IG11bHRpcGx5JDI7XG4vKipcbiAqIFNldHMgdGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudCBvZiBhIDQtYnktNCBtYXRyaXggdG8gdGhlIGdpdmVuXG4gKiB2ZWN0b3IuXG4gKiBAcGFyYW0gYSAtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1hdHJpeCB3aXRoIHRyYW5zbGF0aW9uIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNsYXRpb24oYSwgdiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IGlkZW50aXR5JDEoKTtcbiAgICBpZiAoYSAhPT0gZHN0KSB7XG4gICAgICAgIGRzdFswXSA9IGFbMF07XG4gICAgICAgIGRzdFsxXSA9IGFbMV07XG4gICAgICAgIGRzdFsyXSA9IGFbMl07XG4gICAgICAgIGRzdFszXSA9IGFbM107XG4gICAgICAgIGRzdFs0XSA9IGFbNF07XG4gICAgICAgIGRzdFs1XSA9IGFbNV07XG4gICAgICAgIGRzdFs2XSA9IGFbNl07XG4gICAgICAgIGRzdFs3XSA9IGFbN107XG4gICAgICAgIGRzdFs4XSA9IGFbOF07XG4gICAgICAgIGRzdFs5XSA9IGFbOV07XG4gICAgICAgIGRzdFsxMF0gPSBhWzEwXTtcbiAgICAgICAgZHN0WzExXSA9IGFbMTFdO1xuICAgIH1cbiAgICBkc3RbMTJdID0gdlswXTtcbiAgICBkc3RbMTNdID0gdlsxXTtcbiAgICBkc3RbMTRdID0gdlsyXTtcbiAgICBkc3RbMTVdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiBjb21wb25lbnQgb2YgYSA0LWJ5LTQgbWF0cml4IGFzIGEgdmVjdG9yIHdpdGggM1xuICogZW50cmllcy5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdHJhbnNsYXRpb24gY29tcG9uZW50IG9mIG0uXG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBjcmVhdGUkMygpO1xuICAgIGRzdFswXSA9IG1bMTJdO1xuICAgIGRzdFsxXSA9IG1bMTNdO1xuICAgIGRzdFsyXSA9IG1bMTRdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybnMgYW4gYXhpcyBvZiBhIDR4NCBtYXRyaXggYXMgYSB2ZWN0b3Igd2l0aCAzIGVudHJpZXNcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBheGlzIC0gVGhlIGF4aXMgMCA9IHgsIDEgPSB5LCAyID0gejtcbiAqIEByZXR1cm5zIFRoZSBheGlzIGNvbXBvbmVudCBvZiBtLlxuICovXG5mdW5jdGlvbiBnZXRBeGlzKG0sIGF4aXMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBjcmVhdGUkMygpO1xuICAgIGNvbnN0IG9mZiA9IGF4aXMgKiA0O1xuICAgIGRzdFswXSA9IG1bb2ZmICsgMF07XG4gICAgZHN0WzFdID0gbVtvZmYgKyAxXTtcbiAgICBkc3RbMl0gPSBtW29mZiArIDJdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFNldHMgYW4gYXhpcyBvZiBhIDR4NCBtYXRyaXggYXMgYSB2ZWN0b3Igd2l0aCAzIGVudHJpZXNcbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB2IC0gdGhlIGF4aXMgdmVjdG9yXG4gKiBAcGFyYW0gYXhpcyAtIFRoZSBheGlzICAwID0geCwgMSA9IHksIDIgPSB6O1xuICogQHBhcmFtIGRzdCAtIFRoZSBtYXRyaXggdG8gc2V0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1hdHJpeCB3aXRoIGF4aXMgc2V0LlxuICovXG5mdW5jdGlvbiBzZXRBeGlzKGEsIHYsIGF4aXMsIGRzdCkge1xuICAgIGlmIChkc3QgIT09IGEpIHtcbiAgICAgICAgZHN0ID0gY29weSQyKGEsIGRzdCk7XG4gICAgfVxuICAgIGNvbnN0IG9mZiA9IGF4aXMgKiA0O1xuICAgIGRzdFtvZmYgKyAwXSA9IHZbMF07XG4gICAgZHN0W29mZiArIDFdID0gdlsxXTtcbiAgICBkc3Rbb2ZmICsgMl0gPSB2WzJdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgY29tcG9uZW50IG9mIHRoZSBtYXRyaXhcbiAqIEBwYXJhbSBtIC0gVGhlIE1hdHJpeFxuICogQHBhcmFtIGRzdCAtIFRoZSB2ZWN0b3IgdG8gc2V0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICovXG5mdW5jdGlvbiBnZXRTY2FsaW5nKG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBjcmVhdGUkMygpO1xuICAgIGNvbnN0IHh4ID0gbVswXTtcbiAgICBjb25zdCB4eSA9IG1bMV07XG4gICAgY29uc3QgeHogPSBtWzJdO1xuICAgIGNvbnN0IHl4ID0gbVs0XTtcbiAgICBjb25zdCB5eSA9IG1bNV07XG4gICAgY29uc3QgeXogPSBtWzZdO1xuICAgIGNvbnN0IHp4ID0gbVs4XTtcbiAgICBjb25zdCB6eSA9IG1bOV07XG4gICAgY29uc3QgenogPSBtWzEwXTtcbiAgICBkc3RbMF0gPSBNYXRoLnNxcnQoeHggKiB4eCArIHh5ICogeHkgKyB4eiAqIHh6KTtcbiAgICBkc3RbMV0gPSBNYXRoLnNxcnQoeXggKiB5eCArIHl5ICogeXkgKyB5eiAqIHl6KTtcbiAgICBkc3RbMl0gPSBNYXRoLnNxcnQoenggKiB6eCArIHp5ICogenkgKyB6eiAqIHp6KTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyBhIDQtYnktNCBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZ2l2ZW4gdGhlIGFuZ3VsYXIgaGVpZ2h0XG4gKiBvZiB0aGUgZnJ1c3R1bSwgdGhlIGFzcGVjdCByYXRpbywgYW5kIHRoZSBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiAgVGhlXG4gKiBhcmd1bWVudHMgZGVmaW5lIGEgZnJ1c3R1bSBleHRlbmRpbmcgaW4gdGhlIG5lZ2F0aXZlIHogZGlyZWN0aW9uLiAgVGhlIGdpdmVuXG4gKiBhbmdsZSBpcyB0aGUgdmVydGljYWwgYW5nbGUgb2YgdGhlIGZydXN0dW0sIGFuZCB0aGUgaG9yaXpvbnRhbCBhbmdsZSBpc1xuICogZGV0ZXJtaW5lZCB0byBwcm9kdWNlIHRoZSBnaXZlbiBhc3BlY3QgcmF0aW8uICBUaGUgYXJndW1lbnRzIG5lYXIgYW5kIGZhciBhcmVcbiAqIHRoZSBkaXN0YW5jZXMgdG8gdGhlIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZXMuICBOb3RlIHRoYXQgbmVhciBhbmQgZmFyXG4gKiBhcmUgbm90IHogY29vcmRpbmF0ZXMsIGJ1dCByYXRoZXIgdGhleSBhcmUgZGlzdGFuY2VzIGFsb25nIHRoZSBuZWdhdGl2ZVxuICogei1heGlzLiAgVGhlIG1hdHJpeCBnZW5lcmF0ZWQgc2VuZHMgdGhlIHZpZXdpbmcgZnJ1c3R1bSB0byB0aGUgdW5pdCBib3guXG4gKiBXZSBhc3N1bWUgYSB1bml0IGJveCBleHRlbmRpbmcgZnJvbSAtMSB0byAxIGluIHRoZSB4IGFuZCB5IGRpbWVuc2lvbnMgYW5kXG4gKiBmcm9tIDAgdG8gMSBpbiB0aGUgeiBkaW1lbnNpb24uXG4gKlxuICogTm90ZTogSWYgeW91IHBhc3MgYEluZmluaXR5YCBmb3IgekZhciB0aGVuIGl0IHdpbGwgcHJvZHVjZSBhIHByb2plY3Rpb24gbWF0cml4XG4gKiByZXR1cm5zIC1JbmZpbml0eSBmb3IgWiB3aGVuIHRyYW5zZm9ybWluZyBjb29yZGluYXRlcyB3aXRoIFogPD0gMCBhbmQgK0luZmluaXR5IGZvciBaXG4gKiBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIGZpZWxkT2ZWaWV3WUluUmFkaWFucyAtIFRoZSBjYW1lcmEgYW5nbGUgZnJvbSB0b3AgdG8gYm90dG9tIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSBhc3BlY3QgLSBUaGUgYXNwZWN0IHJhdGlvIHdpZHRoIC8gaGVpZ2h0LlxuICogQHBhcmFtIHpOZWFyIC0gVGhlIGRlcHRoIChuZWdhdGl2ZSB6IGNvb3JkaW5hdGUpXG4gKiAgICAgb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUuXG4gKiBAcGFyYW0gekZhciAtIFRoZSBkZXB0aCAobmVnYXRpdmUgeiBjb29yZGluYXRlKVxuICogICAgIG9mIHRoZSBmYXIgY2xpcHBpbmcgcGxhbmUuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHBlcnNwZWN0aXZlIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gcGVyc3BlY3RpdmUoZmllbGRPZlZpZXdZSW5SYWRpYW5zLCBhc3BlY3QsIHpOZWFyLCB6RmFyLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGNvbnN0IGYgPSBNYXRoLnRhbihNYXRoLlBJICogMC41IC0gMC41ICogZmllbGRPZlZpZXdZSW5SYWRpYW5zKTtcbiAgICBkc3RbMF0gPSBmIC8gYXNwZWN0O1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IDA7XG4gICAgZHN0WzVdID0gZjtcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMV0gPSAtMTtcbiAgICBkc3RbMTJdID0gMDtcbiAgICBkc3RbMTNdID0gMDtcbiAgICBkc3RbMTVdID0gMDtcbiAgICBpZiAoekZhciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgZHN0WzEwXSA9IC0xO1xuICAgICAgICBkc3RbMTRdID0gLXpOZWFyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcmFuZ2VJbnYgPSAxIC8gKHpOZWFyIC0gekZhcik7XG4gICAgICAgIGRzdFsxMF0gPSB6RmFyICogcmFuZ2VJbnY7XG4gICAgICAgIGRzdFsxNF0gPSB6RmFyICogek5lYXIgKiByYW5nZUludjtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ29tcHV0ZXMgYSA0LWJ5LTQgb3J0aG9nb25hbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdGhhdCB0cmFuc2Zvcm1zIGZyb21cbiAqIHRoZSBnaXZlbiB0aGUgbGVmdCwgcmlnaHQsIGJvdHRvbSwgYW5kIHRvcCBkaW1lbnNpb25zIHRvIC0xICsxIGluIHgsIGFuZCB5XG4gKiBhbmQgMCB0byArMSBpbiB6LlxuICogQHBhcmFtIGxlZnQgLSBMZWZ0IHNpZGUgb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUgdmlld3BvcnQuXG4gKiBAcGFyYW0gcmlnaHQgLSBSaWdodCBzaWRlIG9mIHRoZSBuZWFyIGNsaXBwaW5nIHBsYW5lIHZpZXdwb3J0LlxuICogQHBhcmFtIGJvdHRvbSAtIEJvdHRvbSBvZiB0aGUgbmVhciBjbGlwcGluZyBwbGFuZSB2aWV3cG9ydC5cbiAqIEBwYXJhbSB0b3AgLSBUb3Agb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUgdmlld3BvcnQuXG4gKiBAcGFyYW0gbmVhciAtIFRoZSBkZXB0aCAobmVnYXRpdmUgeiBjb29yZGluYXRlKVxuICogICAgIG9mIHRoZSBuZWFyIGNsaXBwaW5nIHBsYW5lLlxuICogQHBhcmFtIGZhciAtIFRoZSBkZXB0aCAobmVnYXRpdmUgeiBjb29yZGluYXRlKVxuICogICAgIG9mIHRoZSBmYXIgY2xpcHBpbmcgcGxhbmUuXG4gKiBAcGFyYW0gZHN0IC0gT3V0cHV0IG1hdHJpeC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIG9ydGhvKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGRzdFswXSA9IDIgLyAocmlnaHQgLSBsZWZ0KTtcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSAwO1xuICAgIGRzdFs1XSA9IDIgLyAodG9wIC0gYm90dG9tKTtcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMF0gPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAocmlnaHQgKyBsZWZ0KSAvIChsZWZ0IC0gcmlnaHQpO1xuICAgIGRzdFsxM10gPSAodG9wICsgYm90dG9tKSAvIChib3R0b20gLSB0b3ApO1xuICAgIGRzdFsxNF0gPSBuZWFyIC8gKG5lYXIgLSBmYXIpO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvbXB1dGVzIGEgNC1ieS00IHBlcnNwZWN0aXZlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBnaXZlbiB0aGUgbGVmdCwgcmlnaHQsXG4gKiB0b3AsIGJvdHRvbSwgbmVhciBhbmQgZmFyIGNsaXBwaW5nIHBsYW5lcy4gVGhlIGFyZ3VtZW50cyBkZWZpbmUgYSBmcnVzdHVtXG4gKiBleHRlbmRpbmcgaW4gdGhlIG5lZ2F0aXZlIHogZGlyZWN0aW9uLiBUaGUgYXJndW1lbnRzIG5lYXIgYW5kIGZhciBhcmUgdGhlXG4gKiBkaXN0YW5jZXMgdG8gdGhlIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZXMuIE5vdGUgdGhhdCBuZWFyIGFuZCBmYXIgYXJlIG5vdFxuICogeiBjb29yZGluYXRlcywgYnV0IHJhdGhlciB0aGV5IGFyZSBkaXN0YW5jZXMgYWxvbmcgdGhlIG5lZ2F0aXZlIHotYXhpcy4gVGhlXG4gKiBtYXRyaXggZ2VuZXJhdGVkIHNlbmRzIHRoZSB2aWV3aW5nIGZydXN0dW0gdG8gdGhlIHVuaXQgYm94LiBXZSBhc3N1bWUgYSB1bml0XG4gKiBib3ggZXh0ZW5kaW5nIGZyb20gLTEgdG8gMSBpbiB0aGUgeCBhbmQgeSBkaW1lbnNpb25zIGFuZCBmcm9tIDAgdG8gMSBpbiB0aGUgelxuICogZGltZW5zaW9uLlxuICogQHBhcmFtIGxlZnQgLSBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBsYW5lIG9mIHRoZSBib3guXG4gKiBAcGFyYW0gcmlnaHQgLSBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSByaWdodCBwbGFuZSBvZiB0aGUgYm94LlxuICogQHBhcmFtIGJvdHRvbSAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIGJvdHRvbSBwbGFuZSBvZiB0aGUgYm94LlxuICogQHBhcmFtIHRvcCAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IHBsYW5lIG9mIHRoZSBib3guXG4gKiBAcGFyYW0gbmVhciAtIFRoZSBuZWdhdGl2ZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG5lYXIgcGxhbmUgb2YgdGhlIGJveC5cbiAqIEBwYXJhbSBmYXIgLSBUaGUgbmVnYXRpdmUgeiBjb29yZGluYXRlIG9mIHRoZSBmYXIgcGxhbmUgb2YgdGhlIGJveC5cbiAqIEBwYXJhbSBkc3QgLSBPdXRwdXQgbWF0cml4LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4LlxuICovXG5mdW5jdGlvbiBmcnVzdHVtKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGNvbnN0IGR4ID0gKHJpZ2h0IC0gbGVmdCk7XG4gICAgY29uc3QgZHkgPSAodG9wIC0gYm90dG9tKTtcbiAgICBjb25zdCBkeiA9IChuZWFyIC0gZmFyKTtcbiAgICBkc3RbMF0gPSAyICogbmVhciAvIGR4O1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IDA7XG4gICAgZHN0WzVdID0gMiAqIG5lYXIgLyBkeTtcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0gKGxlZnQgKyByaWdodCkgLyBkeDtcbiAgICBkc3RbOV0gPSAodG9wICsgYm90dG9tKSAvIGR5O1xuICAgIGRzdFsxMF0gPSBmYXIgLyBkejtcbiAgICBkc3RbMTFdID0gLTE7XG4gICAgZHN0WzEyXSA9IDA7XG4gICAgZHN0WzEzXSA9IDA7XG4gICAgZHN0WzE0XSA9IG5lYXIgKiBmYXIgLyBkejtcbiAgICBkc3RbMTVdID0gMDtcbiAgICByZXR1cm4gZHN0O1xufVxubGV0IHhBeGlzO1xubGV0IHlBeGlzO1xubGV0IHpBeGlzO1xuLyoqXG4gKiBDb21wdXRlcyBhIDQtYnktNCBhaW0gdHJhbnNmb3JtYXRpb24uXG4gKlxuICogVGhpcyBpcyBhIG1hdHJpeCB3aGljaCBwb3NpdGlvbnMgYW4gb2JqZWN0IGFpbWluZyBkb3duIHBvc2l0aXZlIFouXG4gKiB0b3dhcmQgdGhlIHRhcmdldC5cbiAqXG4gKiBOb3RlOiB0aGlzIGlzICoqTk9UKiogdGhlIGludmVyc2Ugb2YgbG9va0F0IGFzIGxvb2tBdCBsb29rcyBhdCBuZWdhdGl2ZSBaLlxuICpcbiAqIEBwYXJhbSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0LlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBwb3NpdGlvbiBtZWFudCB0byBiZSBhaW1lZCBhdC5cbiAqIEBwYXJhbSB1cCAtIEEgdmVjdG9yIHBvaW50aW5nIHVwLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBhaW0gbWF0cml4LlxuICovXG5mdW5jdGlvbiBhaW0ocG9zaXRpb24sIHRhcmdldCwgdXAsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgeEF4aXMgPSB4QXhpcyB8fCBjcmVhdGUkMygpO1xuICAgIHlBeGlzID0geUF4aXMgfHwgY3JlYXRlJDMoKTtcbiAgICB6QXhpcyA9IHpBeGlzIHx8IGNyZWF0ZSQzKCk7XG4gICAgbm9ybWFsaXplJDIoc3VidHJhY3QkMih0YXJnZXQsIHBvc2l0aW9uLCB6QXhpcyksIHpBeGlzKTtcbiAgICBub3JtYWxpemUkMihjcm9zcyh1cCwgekF4aXMsIHhBeGlzKSwgeEF4aXMpO1xuICAgIG5vcm1hbGl6ZSQyKGNyb3NzKHpBeGlzLCB4QXhpcywgeUF4aXMpLCB5QXhpcyk7XG4gICAgZHN0WzBdID0geEF4aXNbMF07XG4gICAgZHN0WzFdID0geEF4aXNbMV07XG4gICAgZHN0WzJdID0geEF4aXNbMl07XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSB5QXhpc1swXTtcbiAgICBkc3RbNV0gPSB5QXhpc1sxXTtcbiAgICBkc3RbNl0gPSB5QXhpc1syXTtcbiAgICBkc3RbN10gPSAwO1xuICAgIGRzdFs4XSA9IHpBeGlzWzBdO1xuICAgIGRzdFs5XSA9IHpBeGlzWzFdO1xuICAgIGRzdFsxMF0gPSB6QXhpc1syXTtcbiAgICBkc3RbMTFdID0gMDtcbiAgICBkc3RbMTJdID0gcG9zaXRpb25bMF07XG4gICAgZHN0WzEzXSA9IHBvc2l0aW9uWzFdO1xuICAgIGRzdFsxNF0gPSBwb3NpdGlvblsyXTtcbiAgICBkc3RbMTVdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyBhIDQtYnktNCBjYW1lcmEgYWltIHRyYW5zZm9ybWF0aW9uLlxuICpcbiAqIFRoaXMgaXMgYSBtYXRyaXggd2hpY2ggcG9zaXRpb25zIGFuIG9iamVjdCBhaW1pbmcgZG93biBuZWdhdGl2ZSBaLlxuICogdG93YXJkIHRoZSB0YXJnZXQuXG4gKlxuICogTm90ZTogdGhpcyBpcyB0aGUgaW52ZXJzZSBvZiBgbG9va0F0YFxuICpcbiAqIEBwYXJhbSBleWUgLSBUaGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdC5cbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgcG9zaXRpb24gbWVhbnQgdG8gYmUgYWltZWQgYXQuXG4gKiBAcGFyYW0gdXAgLSBBIHZlY3RvciBwb2ludGluZyB1cC5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgYWltIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gY2FtZXJhQWltKGV5ZSwgdGFyZ2V0LCB1cCwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICB4QXhpcyA9IHhBeGlzIHx8IGNyZWF0ZSQzKCk7XG4gICAgeUF4aXMgPSB5QXhpcyB8fCBjcmVhdGUkMygpO1xuICAgIHpBeGlzID0gekF4aXMgfHwgY3JlYXRlJDMoKTtcbiAgICBub3JtYWxpemUkMihzdWJ0cmFjdCQyKGV5ZSwgdGFyZ2V0LCB6QXhpcyksIHpBeGlzKTtcbiAgICBub3JtYWxpemUkMihjcm9zcyh1cCwgekF4aXMsIHhBeGlzKSwgeEF4aXMpO1xuICAgIG5vcm1hbGl6ZSQyKGNyb3NzKHpBeGlzLCB4QXhpcywgeUF4aXMpLCB5QXhpcyk7XG4gICAgZHN0WzBdID0geEF4aXNbMF07XG4gICAgZHN0WzFdID0geEF4aXNbMV07XG4gICAgZHN0WzJdID0geEF4aXNbMl07XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSB5QXhpc1swXTtcbiAgICBkc3RbNV0gPSB5QXhpc1sxXTtcbiAgICBkc3RbNl0gPSB5QXhpc1syXTtcbiAgICBkc3RbN10gPSAwO1xuICAgIGRzdFs4XSA9IHpBeGlzWzBdO1xuICAgIGRzdFs5XSA9IHpBeGlzWzFdO1xuICAgIGRzdFsxMF0gPSB6QXhpc1syXTtcbiAgICBkc3RbMTFdID0gMDtcbiAgICBkc3RbMTJdID0gZXllWzBdO1xuICAgIGRzdFsxM10gPSBleWVbMV07XG4gICAgZHN0WzE0XSA9IGV5ZVsyXTtcbiAgICBkc3RbMTVdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyBhIDQtYnktNCB2aWV3IHRyYW5zZm9ybWF0aW9uLlxuICpcbiAqIFRoaXMgaXMgYSB2aWV3IG1hdHJpeCB3aGljaCB0cmFuc2Zvcm1zIGFsbCBvdGhlciBvYmplY3RzXG4gKiB0byBiZSBpbiB0aGUgc3BhY2Ugb2YgdGhlIHZpZXcgZGVmaW5lZCBieSB0aGUgcGFyYW1ldGVycy5cbiAqXG4gKiBAcGFyYW0gZXllIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QuXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIHBvc2l0aW9uIG1lYW50IHRvIGJlIGFpbWVkIGF0LlxuICogQHBhcmFtIHVwIC0gQSB2ZWN0b3IgcG9pbnRpbmcgdXAuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIGxvb2stYXQgbWF0cml4LlxuICovXG5mdW5jdGlvbiBsb29rQXQoZXllLCB0YXJnZXQsIHVwLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIHhBeGlzID0geEF4aXMgfHwgY3JlYXRlJDMoKTtcbiAgICB5QXhpcyA9IHlBeGlzIHx8IGNyZWF0ZSQzKCk7XG4gICAgekF4aXMgPSB6QXhpcyB8fCBjcmVhdGUkMygpO1xuICAgIG5vcm1hbGl6ZSQyKHN1YnRyYWN0JDIoZXllLCB0YXJnZXQsIHpBeGlzKSwgekF4aXMpO1xuICAgIG5vcm1hbGl6ZSQyKGNyb3NzKHVwLCB6QXhpcywgeEF4aXMpLCB4QXhpcyk7XG4gICAgbm9ybWFsaXplJDIoY3Jvc3MoekF4aXMsIHhBeGlzLCB5QXhpcyksIHlBeGlzKTtcbiAgICBkc3RbMF0gPSB4QXhpc1swXTtcbiAgICBkc3RbMV0gPSB5QXhpc1swXTtcbiAgICBkc3RbMl0gPSB6QXhpc1swXTtcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IHhBeGlzWzFdO1xuICAgIGRzdFs1XSA9IHlBeGlzWzFdO1xuICAgIGRzdFs2XSA9IHpBeGlzWzFdO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0geEF4aXNbMl07XG4gICAgZHN0WzldID0geUF4aXNbMl07XG4gICAgZHN0WzEwXSA9IHpBeGlzWzJdO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAtKHhBeGlzWzBdICogZXllWzBdICsgeEF4aXNbMV0gKiBleWVbMV0gKyB4QXhpc1syXSAqIGV5ZVsyXSk7XG4gICAgZHN0WzEzXSA9IC0oeUF4aXNbMF0gKiBleWVbMF0gKyB5QXhpc1sxXSAqIGV5ZVsxXSArIHlBeGlzWzJdICogZXllWzJdKTtcbiAgICBkc3RbMTRdID0gLSh6QXhpc1swXSAqIGV5ZVswXSArIHpBeGlzWzFdICogZXllWzFdICsgekF4aXNbMl0gKiBleWVbMl0pO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENyZWF0ZXMgYSA0LWJ5LTQgbWF0cml4IHdoaWNoIHRyYW5zbGF0ZXMgYnkgdGhlIGdpdmVuIHZlY3RvciB2LlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yIGJ5XG4gKiAgICAgd2hpY2ggdG8gdHJhbnNsYXRlLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB0cmFuc2xhdGlvbiBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHRyYW5zbGF0aW9uKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgZHN0WzBdID0gMTtcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzNdID0gMDtcbiAgICBkc3RbNF0gPSAwO1xuICAgIGRzdFs1XSA9IDE7XG4gICAgZHN0WzZdID0gMDtcbiAgICBkc3RbN10gPSAwO1xuICAgIGRzdFs4XSA9IDA7XG4gICAgZHN0WzldID0gMDtcbiAgICBkc3RbMTBdID0gMTtcbiAgICBkc3RbMTFdID0gMDtcbiAgICBkc3RbMTJdID0gdlswXTtcbiAgICBkc3RbMTNdID0gdlsxXTtcbiAgICBkc3RbMTRdID0gdlsyXTtcbiAgICBkc3RbMTVdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIHRoZSBnaXZlbiA0LWJ5LTQgbWF0cml4IGJ5IHRoZSBnaXZlbiB2ZWN0b3Igdi5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3RvciBieVxuICogICAgIHdoaWNoIHRvIHRyYW5zbGF0ZS5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgdHJhbnNsYXRlZCBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHRyYW5zbGF0ZShtLCB2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgY29uc3QgdjIgPSB2WzJdO1xuICAgIGNvbnN0IG0wMCA9IG1bMF07XG4gICAgY29uc3QgbTAxID0gbVsxXTtcbiAgICBjb25zdCBtMDIgPSBtWzJdO1xuICAgIGNvbnN0IG0wMyA9IG1bM107XG4gICAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICAgIGNvbnN0IG0xMSA9IG1bMSAqIDQgKyAxXTtcbiAgICBjb25zdCBtMTIgPSBtWzEgKiA0ICsgMl07XG4gICAgY29uc3QgbTEzID0gbVsxICogNCArIDNdO1xuICAgIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICAgIGNvbnN0IG0yMyA9IG1bMiAqIDQgKyAzXTtcbiAgICBjb25zdCBtMzAgPSBtWzMgKiA0ICsgMF07XG4gICAgY29uc3QgbTMxID0gbVszICogNCArIDFdO1xuICAgIGNvbnN0IG0zMiA9IG1bMyAqIDQgKyAyXTtcbiAgICBjb25zdCBtMzMgPSBtWzMgKiA0ICsgM107XG4gICAgaWYgKG0gIT09IGRzdCkge1xuICAgICAgICBkc3RbMF0gPSBtMDA7XG4gICAgICAgIGRzdFsxXSA9IG0wMTtcbiAgICAgICAgZHN0WzJdID0gbTAyO1xuICAgICAgICBkc3RbM10gPSBtMDM7XG4gICAgICAgIGRzdFs0XSA9IG0xMDtcbiAgICAgICAgZHN0WzVdID0gbTExO1xuICAgICAgICBkc3RbNl0gPSBtMTI7XG4gICAgICAgIGRzdFs3XSA9IG0xMztcbiAgICAgICAgZHN0WzhdID0gbTIwO1xuICAgICAgICBkc3RbOV0gPSBtMjE7XG4gICAgICAgIGRzdFsxMF0gPSBtMjI7XG4gICAgICAgIGRzdFsxMV0gPSBtMjM7XG4gICAgfVxuICAgIGRzdFsxMl0gPSBtMDAgKiB2MCArIG0xMCAqIHYxICsgbTIwICogdjIgKyBtMzA7XG4gICAgZHN0WzEzXSA9IG0wMSAqIHYwICsgbTExICogdjEgKyBtMjEgKiB2MiArIG0zMTtcbiAgICBkc3RbMTRdID0gbTAyICogdjAgKyBtMTIgKiB2MSArIG0yMiAqIHYyICsgbTMyO1xuICAgIGRzdFsxNV0gPSBtMDMgKiB2MCArIG0xMyAqIHYxICsgbTIzICogdjIgKyBtMzM7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggcm90YXRlcyBhcm91bmQgdGhlIHgtYXhpcyBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0gYW5nbGVJblJhZGlhbnMgLSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgcm90YXRpb24gbWF0cml4LlxuICovXG5mdW5jdGlvbiByb3RhdGlvblgoYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuICAgIGRzdFswXSA9IDE7XG4gICAgZHN0WzFdID0gMDtcbiAgICBkc3RbMl0gPSAwO1xuICAgIGRzdFszXSA9IDA7XG4gICAgZHN0WzRdID0gMDtcbiAgICBkc3RbNV0gPSBjO1xuICAgIGRzdFs2XSA9IHM7XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbOF0gPSAwO1xuICAgIGRzdFs5XSA9IC1zO1xuICAgIGRzdFsxMF0gPSBjO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAwO1xuICAgIGRzdFsxM10gPSAwO1xuICAgIGRzdFsxNF0gPSAwO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIDQtYnktNCBtYXRyaXggYXJvdW5kIHRoZSB4LWF4aXMgYnkgdGhlIGdpdmVuXG4gKiBhbmdsZS5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBhbmdsZUluUmFkaWFucyAtIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGUgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSByb3RhdGVkIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gcm90YXRlWCQxKG0sIGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGNvbnN0IG0xMCA9IG1bNF07XG4gICAgY29uc3QgbTExID0gbVs1XTtcbiAgICBjb25zdCBtMTIgPSBtWzZdO1xuICAgIGNvbnN0IG0xMyA9IG1bN107XG4gICAgY29uc3QgbTIwID0gbVs4XTtcbiAgICBjb25zdCBtMjEgPSBtWzldO1xuICAgIGNvbnN0IG0yMiA9IG1bMTBdO1xuICAgIGNvbnN0IG0yMyA9IG1bMTFdO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBkc3RbNF0gPSBjICogbTEwICsgcyAqIG0yMDtcbiAgICBkc3RbNV0gPSBjICogbTExICsgcyAqIG0yMTtcbiAgICBkc3RbNl0gPSBjICogbTEyICsgcyAqIG0yMjtcbiAgICBkc3RbN10gPSBjICogbTEzICsgcyAqIG0yMztcbiAgICBkc3RbOF0gPSBjICogbTIwIC0gcyAqIG0xMDtcbiAgICBkc3RbOV0gPSBjICogbTIxIC0gcyAqIG0xMTtcbiAgICBkc3RbMTBdID0gYyAqIG0yMiAtIHMgKiBtMTI7XG4gICAgZHN0WzExXSA9IGMgKiBtMjMgLSBzICogbTEzO1xuICAgIGlmIChtICE9PSBkc3QpIHtcbiAgICAgICAgZHN0WzBdID0gbVswXTtcbiAgICAgICAgZHN0WzFdID0gbVsxXTtcbiAgICAgICAgZHN0WzJdID0gbVsyXTtcbiAgICAgICAgZHN0WzNdID0gbVszXTtcbiAgICAgICAgZHN0WzEyXSA9IG1bMTJdO1xuICAgICAgICBkc3RbMTNdID0gbVsxM107XG4gICAgICAgIGRzdFsxNF0gPSBtWzE0XTtcbiAgICAgICAgZHN0WzE1XSA9IG1bMTVdO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgNC1ieS00IG1hdHJpeCB3aGljaCByb3RhdGVzIGFyb3VuZCB0aGUgeS1heGlzIGJ5IHRoZSBnaXZlbiBhbmdsZS5cbiAqIEBwYXJhbSBhbmdsZUluUmFkaWFucyAtIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGUgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSByb3RhdGlvbiBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHJvdGF0aW9uWShhbmdsZUluUmFkaWFucywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG4gICAgZHN0WzBdID0gYztcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IC1zO1xuICAgIGRzdFszXSA9IDA7XG4gICAgZHN0WzRdID0gMDtcbiAgICBkc3RbNV0gPSAxO1xuICAgIGRzdFs2XSA9IDA7XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbOF0gPSBzO1xuICAgIGRzdFs5XSA9IDA7XG4gICAgZHN0WzEwXSA9IGM7XG4gICAgZHN0WzExXSA9IDA7XG4gICAgZHN0WzEyXSA9IDA7XG4gICAgZHN0WzEzXSA9IDA7XG4gICAgZHN0WzE0XSA9IDA7XG4gICAgZHN0WzE1XSA9IDE7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUm90YXRlcyB0aGUgZ2l2ZW4gNC1ieS00IG1hdHJpeCBhcm91bmQgdGhlIHktYXhpcyBieSB0aGUgZ2l2ZW5cbiAqIGFuZ2xlLlxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGFuZ2xlSW5SYWRpYW5zIC0gVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHJvdGF0ZWQgbWF0cml4LlxuICovXG5mdW5jdGlvbiByb3RhdGVZJDEobSwgYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgY29uc3QgbTAwID0gbVswICogNCArIDBdO1xuICAgIGNvbnN0IG0wMSA9IG1bMCAqIDQgKyAxXTtcbiAgICBjb25zdCBtMDIgPSBtWzAgKiA0ICsgMl07XG4gICAgY29uc3QgbTAzID0gbVswICogNCArIDNdO1xuICAgIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICAgIGNvbnN0IG0yMyA9IG1bMiAqIDQgKyAzXTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG4gICAgZHN0WzBdID0gYyAqIG0wMCAtIHMgKiBtMjA7XG4gICAgZHN0WzFdID0gYyAqIG0wMSAtIHMgKiBtMjE7XG4gICAgZHN0WzJdID0gYyAqIG0wMiAtIHMgKiBtMjI7XG4gICAgZHN0WzNdID0gYyAqIG0wMyAtIHMgKiBtMjM7XG4gICAgZHN0WzhdID0gYyAqIG0yMCArIHMgKiBtMDA7XG4gICAgZHN0WzldID0gYyAqIG0yMSArIHMgKiBtMDE7XG4gICAgZHN0WzEwXSA9IGMgKiBtMjIgKyBzICogbTAyO1xuICAgIGRzdFsxMV0gPSBjICogbTIzICsgcyAqIG0wMztcbiAgICBpZiAobSAhPT0gZHN0KSB7XG4gICAgICAgIGRzdFs0XSA9IG1bNF07XG4gICAgICAgIGRzdFs1XSA9IG1bNV07XG4gICAgICAgIGRzdFs2XSA9IG1bNl07XG4gICAgICAgIGRzdFs3XSA9IG1bN107XG4gICAgICAgIGRzdFsxMl0gPSBtWzEyXTtcbiAgICAgICAgZHN0WzEzXSA9IG1bMTNdO1xuICAgICAgICBkc3RbMTRdID0gbVsxNF07XG4gICAgICAgIGRzdFsxNV0gPSBtWzE1XTtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggcm90YXRlcyBhcm91bmQgdGhlIHotYXhpcyBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0gYW5nbGVJblJhZGlhbnMgLSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgcm90YXRpb24gbWF0cml4LlxuICovXG5mdW5jdGlvbiByb3RhdGlvblooYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuICAgIGRzdFswXSA9IGM7XG4gICAgZHN0WzFdID0gcztcbiAgICBkc3RbMl0gPSAwO1xuICAgIGRzdFszXSA9IDA7XG4gICAgZHN0WzRdID0gLXM7XG4gICAgZHN0WzVdID0gYztcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMF0gPSAxO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAwO1xuICAgIGRzdFsxM10gPSAwO1xuICAgIGRzdFsxNF0gPSAwO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIDQtYnktNCBtYXRyaXggYXJvdW5kIHRoZSB6LWF4aXMgYnkgdGhlIGdpdmVuXG4gKiBhbmdsZS5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBhbmdsZUluUmFkaWFucyAtIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGUgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSByb3RhdGVkIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gcm90YXRlWiQxKG0sIGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGNvbnN0IG0wMCA9IG1bMCAqIDQgKyAwXTtcbiAgICBjb25zdCBtMDEgPSBtWzAgKiA0ICsgMV07XG4gICAgY29uc3QgbTAyID0gbVswICogNCArIDJdO1xuICAgIGNvbnN0IG0wMyA9IG1bMCAqIDQgKyAzXTtcbiAgICBjb25zdCBtMTAgPSBtWzEgKiA0ICsgMF07XG4gICAgY29uc3QgbTExID0gbVsxICogNCArIDFdO1xuICAgIGNvbnN0IG0xMiA9IG1bMSAqIDQgKyAyXTtcbiAgICBjb25zdCBtMTMgPSBtWzEgKiA0ICsgM107XG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuICAgIGRzdFswXSA9IGMgKiBtMDAgKyBzICogbTEwO1xuICAgIGRzdFsxXSA9IGMgKiBtMDEgKyBzICogbTExO1xuICAgIGRzdFsyXSA9IGMgKiBtMDIgKyBzICogbTEyO1xuICAgIGRzdFszXSA9IGMgKiBtMDMgKyBzICogbTEzO1xuICAgIGRzdFs0XSA9IGMgKiBtMTAgLSBzICogbTAwO1xuICAgIGRzdFs1XSA9IGMgKiBtMTEgLSBzICogbTAxO1xuICAgIGRzdFs2XSA9IGMgKiBtMTIgLSBzICogbTAyO1xuICAgIGRzdFs3XSA9IGMgKiBtMTMgLSBzICogbTAzO1xuICAgIGlmIChtICE9PSBkc3QpIHtcbiAgICAgICAgZHN0WzhdID0gbVs4XTtcbiAgICAgICAgZHN0WzldID0gbVs5XTtcbiAgICAgICAgZHN0WzEwXSA9IG1bMTBdO1xuICAgICAgICBkc3RbMTFdID0gbVsxMV07XG4gICAgICAgIGRzdFsxMl0gPSBtWzEyXTtcbiAgICAgICAgZHN0WzEzXSA9IG1bMTNdO1xuICAgICAgICBkc3RbMTRdID0gbVsxNF07XG4gICAgICAgIGRzdFsxNV0gPSBtWzE1XTtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggcm90YXRlcyBhcm91bmQgdGhlIGdpdmVuIGF4aXMgYnkgdGhlIGdpdmVuXG4gKiBhbmdsZS5cbiAqIEBwYXJhbSBheGlzIC0gVGhlIGF4aXNcbiAqICAgICBhYm91dCB3aGljaCB0byByb3RhdGUuXG4gKiBAcGFyYW0gYW5nbGVJblJhZGlhbnMgLSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIG1hdHJpeCB3aGljaCByb3RhdGVzIGFuZ2xlIHJhZGlhbnNcbiAqICAgICBhcm91bmQgdGhlIGF4aXMuXG4gKi9cbmZ1bmN0aW9uIGF4aXNSb3RhdGlvbihheGlzLCBhbmdsZUluUmFkaWFucywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBsZXQgeCA9IGF4aXNbMF07XG4gICAgbGV0IHkgPSBheGlzWzFdO1xuICAgIGxldCB6ID0gYXhpc1syXTtcbiAgICBjb25zdCBuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gICAgeCAvPSBuO1xuICAgIHkgLz0gbjtcbiAgICB6IC89IG47XG4gICAgY29uc3QgeHggPSB4ICogeDtcbiAgICBjb25zdCB5eSA9IHkgKiB5O1xuICAgIGNvbnN0IHp6ID0geiAqIHo7XG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuICAgIGNvbnN0IG9uZU1pbnVzQ29zaW5lID0gMSAtIGM7XG4gICAgZHN0WzBdID0geHggKyAoMSAtIHh4KSAqIGM7XG4gICAgZHN0WzFdID0geCAqIHkgKiBvbmVNaW51c0Nvc2luZSArIHogKiBzO1xuICAgIGRzdFsyXSA9IHggKiB6ICogb25lTWludXNDb3NpbmUgLSB5ICogcztcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IHggKiB5ICogb25lTWludXNDb3NpbmUgLSB6ICogcztcbiAgICBkc3RbNV0gPSB5eSArICgxIC0geXkpICogYztcbiAgICBkc3RbNl0gPSB5ICogeiAqIG9uZU1pbnVzQ29zaW5lICsgeCAqIHM7XG4gICAgZHN0WzddID0gMDtcbiAgICBkc3RbOF0gPSB4ICogeiAqIG9uZU1pbnVzQ29zaW5lICsgeSAqIHM7XG4gICAgZHN0WzldID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHggKiBzO1xuICAgIGRzdFsxMF0gPSB6eiArICgxIC0genopICogYztcbiAgICBkc3RbMTFdID0gMDtcbiAgICBkc3RbMTJdID0gMDtcbiAgICBkc3RbMTNdID0gMDtcbiAgICBkc3RbMTRdID0gMDtcbiAgICBkc3RbMTVdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgNC1ieS00IG1hdHJpeCB3aGljaCByb3RhdGVzIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpcyBieSB0aGUgZ2l2ZW5cbiAqIGFuZ2xlLiAoc2FtZSBhcyBheGlzUm90YXRpb24pXG4gKiBAcGFyYW0gYXhpcyAtIFRoZSBheGlzXG4gKiAgICAgYWJvdXQgd2hpY2ggdG8gcm90YXRlLlxuICogQHBhcmFtIGFuZ2xlSW5SYWRpYW5zIC0gVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBtYXRyaXggd2hpY2ggcm90YXRlcyBhbmdsZSByYWRpYW5zXG4gKiAgICAgYXJvdW5kIHRoZSBheGlzLlxuICovXG5jb25zdCByb3RhdGlvbiA9IGF4aXNSb3RhdGlvbjtcbi8qKlxuICogUm90YXRlcyB0aGUgZ2l2ZW4gNC1ieS00IG1hdHJpeCBhcm91bmQgdGhlIGdpdmVuIGF4aXMgYnkgdGhlXG4gKiBnaXZlbiBhbmdsZS5cbiAqIEBwYXJhbSBtIC0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSBheGlzIC0gVGhlIGF4aXNcbiAqICAgICBhYm91dCB3aGljaCB0byByb3RhdGUuXG4gKiBAcGFyYW0gYW5nbGVJblJhZGlhbnMgLSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgcm90YXRlZCBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIGF4aXNSb3RhdGUobSwgYXhpcywgYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG4gICAgbGV0IHggPSBheGlzWzBdO1xuICAgIGxldCB5ID0gYXhpc1sxXTtcbiAgICBsZXQgeiA9IGF4aXNbMl07XG4gICAgY29uc3QgbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICAgIHggLz0gbjtcbiAgICB5IC89IG47XG4gICAgeiAvPSBuO1xuICAgIGNvbnN0IHh4ID0geCAqIHg7XG4gICAgY29uc3QgeXkgPSB5ICogeTtcbiAgICBjb25zdCB6eiA9IHogKiB6O1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICBjb25zdCBvbmVNaW51c0Nvc2luZSA9IDEgLSBjO1xuICAgIGNvbnN0IHIwMCA9IHh4ICsgKDEgLSB4eCkgKiBjO1xuICAgIGNvbnN0IHIwMSA9IHggKiB5ICogb25lTWludXNDb3NpbmUgKyB6ICogcztcbiAgICBjb25zdCByMDIgPSB4ICogeiAqIG9uZU1pbnVzQ29zaW5lIC0geSAqIHM7XG4gICAgY29uc3QgcjEwID0geCAqIHkgKiBvbmVNaW51c0Nvc2luZSAtIHogKiBzO1xuICAgIGNvbnN0IHIxMSA9IHl5ICsgKDEgLSB5eSkgKiBjO1xuICAgIGNvbnN0IHIxMiA9IHkgKiB6ICogb25lTWludXNDb3NpbmUgKyB4ICogcztcbiAgICBjb25zdCByMjAgPSB4ICogeiAqIG9uZU1pbnVzQ29zaW5lICsgeSAqIHM7XG4gICAgY29uc3QgcjIxID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHggKiBzO1xuICAgIGNvbnN0IHIyMiA9IHp6ICsgKDEgLSB6eikgKiBjO1xuICAgIGNvbnN0IG0wMCA9IG1bMF07XG4gICAgY29uc3QgbTAxID0gbVsxXTtcbiAgICBjb25zdCBtMDIgPSBtWzJdO1xuICAgIGNvbnN0IG0wMyA9IG1bM107XG4gICAgY29uc3QgbTEwID0gbVs0XTtcbiAgICBjb25zdCBtMTEgPSBtWzVdO1xuICAgIGNvbnN0IG0xMiA9IG1bNl07XG4gICAgY29uc3QgbTEzID0gbVs3XTtcbiAgICBjb25zdCBtMjAgPSBtWzhdO1xuICAgIGNvbnN0IG0yMSA9IG1bOV07XG4gICAgY29uc3QgbTIyID0gbVsxMF07XG4gICAgY29uc3QgbTIzID0gbVsxMV07XG4gICAgZHN0WzBdID0gcjAwICogbTAwICsgcjAxICogbTEwICsgcjAyICogbTIwO1xuICAgIGRzdFsxXSA9IHIwMCAqIG0wMSArIHIwMSAqIG0xMSArIHIwMiAqIG0yMTtcbiAgICBkc3RbMl0gPSByMDAgKiBtMDIgKyByMDEgKiBtMTIgKyByMDIgKiBtMjI7XG4gICAgZHN0WzNdID0gcjAwICogbTAzICsgcjAxICogbTEzICsgcjAyICogbTIzO1xuICAgIGRzdFs0XSA9IHIxMCAqIG0wMCArIHIxMSAqIG0xMCArIHIxMiAqIG0yMDtcbiAgICBkc3RbNV0gPSByMTAgKiBtMDEgKyByMTEgKiBtMTEgKyByMTIgKiBtMjE7XG4gICAgZHN0WzZdID0gcjEwICogbTAyICsgcjExICogbTEyICsgcjEyICogbTIyO1xuICAgIGRzdFs3XSA9IHIxMCAqIG0wMyArIHIxMSAqIG0xMyArIHIxMiAqIG0yMztcbiAgICBkc3RbOF0gPSByMjAgKiBtMDAgKyByMjEgKiBtMTAgKyByMjIgKiBtMjA7XG4gICAgZHN0WzldID0gcjIwICogbTAxICsgcjIxICogbTExICsgcjIyICogbTIxO1xuICAgIGRzdFsxMF0gPSByMjAgKiBtMDIgKyByMjEgKiBtMTIgKyByMjIgKiBtMjI7XG4gICAgZHN0WzExXSA9IHIyMCAqIG0wMyArIHIyMSAqIG0xMyArIHIyMiAqIG0yMztcbiAgICBpZiAobSAhPT0gZHN0KSB7XG4gICAgICAgIGRzdFsxMl0gPSBtWzEyXTtcbiAgICAgICAgZHN0WzEzXSA9IG1bMTNdO1xuICAgICAgICBkc3RbMTRdID0gbVsxNF07XG4gICAgICAgIGRzdFsxNV0gPSBtWzE1XTtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUm90YXRlcyB0aGUgZ2l2ZW4gNC1ieS00IG1hdHJpeCBhcm91bmQgdGhlIGdpdmVuIGF4aXMgYnkgdGhlXG4gKiBnaXZlbiBhbmdsZS4gKHNhbWUgYXMgcm90YXRlKVxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGF4aXMgLSBUaGUgYXhpc1xuICogICAgIGFib3V0IHdoaWNoIHRvIHJvdGF0ZS5cbiAqIEBwYXJhbSBhbmdsZUluUmFkaWFucyAtIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGUgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSByb3RhdGVkIG1hdHJpeC5cbiAqL1xuY29uc3Qgcm90YXRlID0gYXhpc1JvdGF0ZTtcbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggc2NhbGVzIGluIGVhY2ggZGltZW5zaW9uIGJ5IGFuIGFtb3VudCBnaXZlbiBieVxuICogdGhlIGNvcnJlc3BvbmRpbmcgZW50cnkgaW4gdGhlIGdpdmVuIHZlY3RvcjsgYXNzdW1lcyB0aGUgdmVjdG9yIGhhcyB0aHJlZVxuICogZW50cmllcy5cbiAqIEBwYXJhbSB2IC0gQSB2ZWN0b3Igb2ZcbiAqICAgICB0aHJlZSBlbnRyaWVzIHNwZWNpZnlpbmcgdGhlIGZhY3RvciBieSB3aGljaCB0byBzY2FsZSBpbiBlYWNoIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBkc3QgLSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgc2NhbGluZyBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHNjYWxpbmcodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBkc3RbMF0gPSB2WzBdO1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IDA7XG4gICAgZHN0WzVdID0gdlsxXTtcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMF0gPSB2WzJdO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAwO1xuICAgIGRzdFsxM10gPSAwO1xuICAgIGRzdFsxNF0gPSAwO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgZ2l2ZW4gNC1ieS00IG1hdHJpeCBpbiBlYWNoIGRpbWVuc2lvbiBieSBhbiBhbW91bnRcbiAqIGdpdmVuIGJ5IHRoZSBjb3JyZXNwb25kaW5nIGVudHJ5IGluIHRoZSBnaXZlbiB2ZWN0b3I7IGFzc3VtZXMgdGhlIHZlY3RvciBoYXNcbiAqIHRocmVlIGVudHJpZXMuXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXggdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0gdiAtIEEgdmVjdG9yIG9mIHRocmVlIGVudHJpZXMgc3BlY2lmeWluZyB0aGVcbiAqICAgICBmYWN0b3IgYnkgd2hpY2ggdG8gc2NhbGUgaW4gZWFjaCBkaW1lbnNpb24uXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHNjYWxlJDIobSwgdiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBjb25zdCB2MCA9IHZbMF07XG4gICAgY29uc3QgdjEgPSB2WzFdO1xuICAgIGNvbnN0IHYyID0gdlsyXTtcbiAgICBkc3RbMF0gPSB2MCAqIG1bMCAqIDQgKyAwXTtcbiAgICBkc3RbMV0gPSB2MCAqIG1bMCAqIDQgKyAxXTtcbiAgICBkc3RbMl0gPSB2MCAqIG1bMCAqIDQgKyAyXTtcbiAgICBkc3RbM10gPSB2MCAqIG1bMCAqIDQgKyAzXTtcbiAgICBkc3RbNF0gPSB2MSAqIG1bMSAqIDQgKyAwXTtcbiAgICBkc3RbNV0gPSB2MSAqIG1bMSAqIDQgKyAxXTtcbiAgICBkc3RbNl0gPSB2MSAqIG1bMSAqIDQgKyAyXTtcbiAgICBkc3RbN10gPSB2MSAqIG1bMSAqIDQgKyAzXTtcbiAgICBkc3RbOF0gPSB2MiAqIG1bMiAqIDQgKyAwXTtcbiAgICBkc3RbOV0gPSB2MiAqIG1bMiAqIDQgKyAxXTtcbiAgICBkc3RbMTBdID0gdjIgKiBtWzIgKiA0ICsgMl07XG4gICAgZHN0WzExXSA9IHYyICogbVsyICogNCArIDNdO1xuICAgIGlmIChtICE9PSBkc3QpIHtcbiAgICAgICAgZHN0WzEyXSA9IG1bMTJdO1xuICAgICAgICBkc3RbMTNdID0gbVsxM107XG4gICAgICAgIGRzdFsxNF0gPSBtWzE0XTtcbiAgICAgICAgZHN0WzE1XSA9IG1bMTVdO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgNC1ieS00IG1hdHJpeCB3aGljaCBzY2FsZXMgYSB1bmlmb3JtIGFtb3VudCBpbiBlYWNoIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBzIC0gdGhlIGFtb3VudCB0byBzY2FsZVxuICogQHBhcmFtIGRzdCAtIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsaW5nIG1hdHJpeC5cbiAqL1xuZnVuY3Rpb24gdW5pZm9ybVNjYWxpbmcocywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgICBkc3RbMF0gPSBzO1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgICBkc3RbM10gPSAwO1xuICAgIGRzdFs0XSA9IDA7XG4gICAgZHN0WzVdID0gcztcbiAgICBkc3RbNl0gPSAwO1xuICAgIGRzdFs3XSA9IDA7XG4gICAgZHN0WzhdID0gMDtcbiAgICBkc3RbOV0gPSAwO1xuICAgIGRzdFsxMF0gPSBzO1xuICAgIGRzdFsxMV0gPSAwO1xuICAgIGRzdFsxMl0gPSAwO1xuICAgIGRzdFsxM10gPSAwO1xuICAgIGRzdFsxNF0gPSAwO1xuICAgIGRzdFsxNV0gPSAxO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgZ2l2ZW4gNC1ieS00IG1hdHJpeCBpbiBlYWNoIGRpbWVuc2lvbiBieSBhIHVuaWZvcm0gc2NhbGUuXG4gKiBAcGFyYW0gbSAtIFRoZSBtYXRyaXggdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0gcyAtIFRoZSBhbW91bnQgdG8gc2NhbGUuXG4gKiBAcGFyYW0gZHN0IC0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCBtYXRyaXguXG4gKi9cbmZ1bmN0aW9uIHVuaWZvcm1TY2FsZShtLCBzLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuICAgIGRzdFswXSA9IHMgKiBtWzAgKiA0ICsgMF07XG4gICAgZHN0WzFdID0gcyAqIG1bMCAqIDQgKyAxXTtcbiAgICBkc3RbMl0gPSBzICogbVswICogNCArIDJdO1xuICAgIGRzdFszXSA9IHMgKiBtWzAgKiA0ICsgM107XG4gICAgZHN0WzRdID0gcyAqIG1bMSAqIDQgKyAwXTtcbiAgICBkc3RbNV0gPSBzICogbVsxICogNCArIDFdO1xuICAgIGRzdFs2XSA9IHMgKiBtWzEgKiA0ICsgMl07XG4gICAgZHN0WzddID0gcyAqIG1bMSAqIDQgKyAzXTtcbiAgICBkc3RbOF0gPSBzICogbVsyICogNCArIDBdO1xuICAgIGRzdFs5XSA9IHMgKiBtWzIgKiA0ICsgMV07XG4gICAgZHN0WzEwXSA9IHMgKiBtWzIgKiA0ICsgMl07XG4gICAgZHN0WzExXSA9IHMgKiBtWzIgKiA0ICsgM107XG4gICAgaWYgKG0gIT09IGRzdCkge1xuICAgICAgICBkc3RbMTJdID0gbVsxMl07XG4gICAgICAgIGRzdFsxM10gPSBtWzEzXTtcbiAgICAgICAgZHN0WzE0XSA9IG1bMTRdO1xuICAgICAgICBkc3RbMTVdID0gbVsxNV07XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG5cbnZhciBtYXQ0SW1wbCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgc2V0RGVmYXVsdFR5cGU6IHNldERlZmF1bHRUeXBlJDMsXG4gICAgY3JlYXRlOiBjcmVhdGUkMixcbiAgICBzZXQ6IHNldCQyLFxuICAgIGZyb21NYXQzOiBmcm9tTWF0MyxcbiAgICBmcm9tUXVhdDogZnJvbVF1YXQsXG4gICAgbmVnYXRlOiBuZWdhdGUkMSxcbiAgICBjb3B5OiBjb3B5JDIsXG4gICAgY2xvbmU6IGNsb25lJDIsXG4gICAgZXF1YWxzQXBwcm94aW1hdGVseTogZXF1YWxzQXBwcm94aW1hdGVseSQyLFxuICAgIGVxdWFsczogZXF1YWxzJDIsXG4gICAgaWRlbnRpdHk6IGlkZW50aXR5JDEsXG4gICAgdHJhbnNwb3NlOiB0cmFuc3Bvc2UsXG4gICAgaW52ZXJzZTogaW52ZXJzZSQyLFxuICAgIGRldGVybWluYW50OiBkZXRlcm1pbmFudCxcbiAgICBpbnZlcnQ6IGludmVydCQxLFxuICAgIG11bHRpcGx5OiBtdWx0aXBseSQyLFxuICAgIG11bDogbXVsJDIsXG4gICAgc2V0VHJhbnNsYXRpb246IHNldFRyYW5zbGF0aW9uLFxuICAgIGdldFRyYW5zbGF0aW9uOiBnZXRUcmFuc2xhdGlvbixcbiAgICBnZXRBeGlzOiBnZXRBeGlzLFxuICAgIHNldEF4aXM6IHNldEF4aXMsXG4gICAgZ2V0U2NhbGluZzogZ2V0U2NhbGluZyxcbiAgICBwZXJzcGVjdGl2ZTogcGVyc3BlY3RpdmUsXG4gICAgb3J0aG86IG9ydGhvLFxuICAgIGZydXN0dW06IGZydXN0dW0sXG4gICAgYWltOiBhaW0sXG4gICAgY2FtZXJhQWltOiBjYW1lcmFBaW0sXG4gICAgbG9va0F0OiBsb29rQXQsXG4gICAgdHJhbnNsYXRpb246IHRyYW5zbGF0aW9uLFxuICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlLFxuICAgIHJvdGF0aW9uWDogcm90YXRpb25YLFxuICAgIHJvdGF0ZVg6IHJvdGF0ZVgkMSxcbiAgICByb3RhdGlvblk6IHJvdGF0aW9uWSxcbiAgICByb3RhdGVZOiByb3RhdGVZJDEsXG4gICAgcm90YXRpb25aOiByb3RhdGlvblosXG4gICAgcm90YXRlWjogcm90YXRlWiQxLFxuICAgIGF4aXNSb3RhdGlvbjogYXhpc1JvdGF0aW9uLFxuICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICBheGlzUm90YXRlOiBheGlzUm90YXRlLFxuICAgIHJvdGF0ZTogcm90YXRlLFxuICAgIHNjYWxpbmc6IHNjYWxpbmcsXG4gICAgc2NhbGU6IHNjYWxlJDIsXG4gICAgdW5pZm9ybVNjYWxpbmc6IHVuaWZvcm1TY2FsaW5nLFxuICAgIHVuaWZvcm1TY2FsZTogdW5pZm9ybVNjYWxlXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDIyIEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKlxuICogUXVhdDQgbWF0aCBmdW5jdGlvbnMuXG4gKlxuICogQWxtb3N0IGFsbCBmdW5jdGlvbnMgdGFrZSBhbiBvcHRpb25hbCBgZHN0YCBhcmd1bWVudC4gSWYgaXQgaXMgbm90IHBhc3NlZCBpbiB0aGVcbiAqIGZ1bmN0aW9ucyB3aWxsIGNyZWF0ZSBhIG5ldyBgUXVhdDRgLiBJbiBvdGhlciB3b3JkcyB5b3UgY2FuIGRvIHRoaXNcbiAqXG4gKiAgICAgY29uc3QgdiA9IHF1YXQ0LmNyb3NzKHYxLCB2Mik7ICAvLyBDcmVhdGVzIGEgbmV3IFF1YXQ0IHdpdGggdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdjEgeCB2Mi5cbiAqXG4gKiBvclxuICpcbiAqICAgICBjb25zdCB2ID0gcXVhdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQuY3Jvc3ModjEsIHYyLCB2KTsgIC8vIFB1dHMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdjEgeCB2MiBpbiB2XG4gKlxuICogVGhlIGZpcnN0IHN0eWxlIGlzIG9mdGVuIGVhc2llciBidXQgZGVwZW5kaW5nIG9uIHdoZXJlIGl0J3MgdXNlZCBpdCBnZW5lcmF0ZXMgZ2FyYmFnZSB3aGVyZVxuICogYXMgdGhlcmUgaXMgYWxtb3N0IG5ldmVyIGFsbG9jYXRpb24gd2l0aCB0aGUgc2Vjb25kIHN0eWxlLlxuICpcbiAqIEl0IGlzIGFsd2F5cyBzYWZlIHRvIHBhc3MgYW55IHZlY3RvciBhcyB0aGUgZGVzdGluYXRpb24uIFNvIGZvciBleGFtcGxlXG4gKlxuICogICAgIHF1YXQ0LmNyb3NzKHYxLCB2MiwgdjEpOyAgLy8gUHV0cyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB2MSB4IHYyIGluIHYxXG4gKlxuICovXG5sZXQgUXVhdFR5cGUgPSBGbG9hdDMyQXJyYXk7XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgdGhpcyBsaWJyYXJ5IGNyZWF0ZXMgZm9yIGEgUXVhdDRcbiAqIEBwYXJhbSBjdG9yIC0gdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgdHlwZS4gRWl0aGVyIGBGbG9hdDMyQXJyYXlgLCBgRmxvYXQ2NEFycmF5YCwgb3IgYEFycmF5YFxuICogQHJldHVybnMgcHJldmlvdXMgY29uc3RydWN0b3IgZm9yIFF1YXQ0XG4gKi9cbmZ1bmN0aW9uIHNldERlZmF1bHRUeXBlJDIoY3Rvcikge1xuICAgIGNvbnN0IG9sZFR5cGUgPSBRdWF0VHlwZTtcbiAgICBRdWF0VHlwZSA9IGN0b3I7XG4gICAgcmV0dXJuIG9sZFR5cGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0NDsgbWF5IGJlIGNhbGxlZCB3aXRoIHgsIHksIHogdG8gc2V0IGluaXRpYWwgdmFsdWVzLlxuICogQHBhcmFtIHggLSBJbml0aWFsIHggdmFsdWUuXG4gKiBAcGFyYW0geSAtIEluaXRpYWwgeSB2YWx1ZS5cbiAqIEBwYXJhbSB6IC0gSW5pdGlhbCB6IHZhbHVlLlxuICogQHBhcmFtIHcgLSBJbml0aWFsIHcgdmFsdWUuXG4gKiBAcmV0dXJucyB0aGUgY3JlYXRlZCB2ZWN0b3JcbiAqL1xuZnVuY3Rpb24gY3JlYXRlJDEoeCwgeSwgeiwgdykge1xuICAgIGNvbnN0IGRzdCA9IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRzdFswXSA9IHg7XG4gICAgICAgIGlmICh5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdFsxXSA9IHk7XG4gICAgICAgICAgICBpZiAoeiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZHN0WzJdID0gejtcbiAgICAgICAgICAgICAgICBpZiAodyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFszXSA9IHc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIFF1YXQ7IG1heSBiZSBjYWxsZWQgd2l0aCB4LCB5LCB6IHRvIHNldCBpbml0aWFsIHZhbHVlcy4gKHNhbWUgYXMgY3JlYXRlKVxuICogQHBhcmFtIHggLSBJbml0aWFsIHggdmFsdWUuXG4gKiBAcGFyYW0geSAtIEluaXRpYWwgeSB2YWx1ZS5cbiAqIEBwYXJhbSB6IC0gSW5pdGlhbCB6IHZhbHVlLlxuICogQHBhcmFtIHogLSBJbml0aWFsIHcgdmFsdWUuXG4gKiBAcmV0dXJucyB0aGUgY3JlYXRlZCB2ZWN0b3JcbiAqL1xuY29uc3QgZnJvbVZhbHVlcyQxID0gY3JlYXRlJDE7XG4vKipcbiAqIFNldHMgdGhlIHZhbHVlcyBvZiBhIFF1YXRcbiAqIEFsc28gc2VlIHtAbGluayBxdWF0LmNyZWF0ZX0gYW5kIHtAbGluayBxdWF0LmNvcHl9XG4gKlxuICogQHBhcmFtIHggZmlyc3QgdmFsdWVcbiAqIEBwYXJhbSB5IHNlY29uZCB2YWx1ZVxuICogQHBhcmFtIHogdGhpcmQgdmFsdWVcbiAqIEBwYXJhbSB3IGZvdXJ0aCB2YWx1ZVxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHdpdGggaXRzIGVsZW1lbnRzIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0JDEoeCwgeSwgeiwgdywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBkc3RbMF0gPSB4O1xuICAgIGRzdFsxXSA9IHk7XG4gICAgZHN0WzJdID0gejtcbiAgICBkc3RbM10gPSB3O1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFNldHMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCAgYXhpcyxcbiAqIHRoZW4gcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0gYXhpcyAtIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEBwYXJhbSBhbmdsZUluUmFkaWFucyAtIHRoZSBhbmdsZVxuICogQHBhcmFtIGRzdCAtIHF1YXRlcm5pb24gdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgcXVhdGVybmlvbiB0aGF0IHJlcHJlc2VudHMgdGhlIGdpdmVuIGF4aXMgYW5kIGFuZ2xlXG4gKiovXG5mdW5jdGlvbiBmcm9tQXhpc0FuZ2xlKGF4aXMsIGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIGNvbnN0IGhhbGZBbmdsZSA9IGFuZ2xlSW5SYWRpYW5zICogMC41O1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihoYWxmQW5nbGUpO1xuICAgIGRzdFswXSA9IHMgKiBheGlzWzBdO1xuICAgIGRzdFsxXSA9IHMgKiBheGlzWzFdO1xuICAgIGRzdFsyXSA9IHMgKiBheGlzWzJdO1xuICAgIGRzdFszXSA9IE1hdGguY29zKGhhbGZBbmdsZSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogR2V0cyB0aGUgcm90YXRpb24gYXhpcyBhbmQgYW5nbGVcbiAqIEBwYXJhbSBxIC0gcXVhdGVybmlvbiB0byBjb21wdXRlIGZyb21cbiAqIEBwYXJhbSBkc3QgLSBWZWMzIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiBhbmdsZSBhbmQgYXhpc1xuICovXG5mdW5jdGlvbiB0b0F4aXNBbmdsZShxLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgY3JlYXRlJDMoNCk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmFjb3MocVszXSkgKiAyO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSAqIDAuNSk7XG4gICAgaWYgKHMgPiBFUFNJTE9OKSB7XG4gICAgICAgIGRzdFswXSA9IHFbMF0gLyBzO1xuICAgICAgICBkc3RbMV0gPSBxWzFdIC8gcztcbiAgICAgICAgZHN0WzJdID0gcVsyXSAvIHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3RbMF0gPSAxO1xuICAgICAgICBkc3RbMV0gPSAwO1xuICAgICAgICBkc3RbMl0gPSAwO1xuICAgIH1cbiAgICByZXR1cm4geyBhbmdsZSwgYXhpczogZHN0IH07XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGFuZ2xlIGluIGRlZ3JlZXMgYmV0d2VlbiB0d28gcm90YXRpb25zIGEgYW5kIGIuXG4gKiBAcGFyYW0gYSAtIHF1YXRlcm5pb24gYVxuICogQHBhcmFtIGIgLSBxdWF0ZXJuaW9uIGJcbiAqIEByZXR1cm4gYW5nbGUgaW4gcmFkaWFucyBiZXR3ZWVuIHRoZSB0d28gcXVhdGVybmlvbnNcbiAqL1xuZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICAgIGNvbnN0IGQgPSBkb3QkMShhLCBiKTtcbiAgICByZXR1cm4gTWF0aC5hY29zKDIgKiBkICogZCAtIDEpO1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBxdWF0ZXJuaW9uc1xuICpcbiAqIEBwYXJhbSBhIC0gdGhlIGZpcnN0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSBiIC0gdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgcXVhdGVybmlvbiB0aGF0IGlzIHRoZSByZXN1bHQgb2YgYSAqIGJcbiAqL1xuZnVuY3Rpb24gbXVsdGlwbHkkMShhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIGNvbnN0IGF4ID0gYVswXTtcbiAgICBjb25zdCBheSA9IGFbMV07XG4gICAgY29uc3QgYXogPSBhWzJdO1xuICAgIGNvbnN0IGF3ID0gYVszXTtcbiAgICBjb25zdCBieCA9IGJbMF07XG4gICAgY29uc3QgYnkgPSBiWzFdO1xuICAgIGNvbnN0IGJ6ID0gYlsyXTtcbiAgICBjb25zdCBidyA9IGJbM107XG4gICAgZHN0WzBdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgICBkc3RbMV0gPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xuICAgIGRzdFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gICAgZHN0WzNdID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBxdWF0ZXJuaW9uc1xuICpcbiAqIEBwYXJhbSBhIC0gdGhlIGZpcnN0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSBiIC0gdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgcXVhdGVybmlvbiB0aGF0IGlzIHRoZSByZXN1bHQgb2YgYSAqIGJcbiAqL1xuY29uc3QgbXVsJDEgPSBtdWx0aXBseSQxO1xuLyoqXG4gKiBSb3RhdGVzIHRoZSBnaXZlbiBxdWF0ZXJuaW9uIGFyb3VuZCB0aGUgWCBheGlzIGJ5IHRoZSBnaXZlbiBhbmdsZS5cbiAqIEBwYXJhbSBxIC0gcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSBhbmdsZUluUmFkaWFucyAtIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGVcbiAqIEBwYXJhbSBkc3QgLSBxdWF0ZXJuaW9uIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBxdWF0ZXJuaW9uIHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBhICogYlxuICovXG5mdW5jdGlvbiByb3RhdGVYKHEsIGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIGNvbnN0IGhhbGZBbmdsZSA9IGFuZ2xlSW5SYWRpYW5zICogMC41O1xuICAgIGNvbnN0IHF4ID0gcVswXTtcbiAgICBjb25zdCBxeSA9IHFbMV07XG4gICAgY29uc3QgcXogPSBxWzJdO1xuICAgIGNvbnN0IHF3ID0gcVszXTtcbiAgICBjb25zdCBieCA9IE1hdGguc2luKGhhbGZBbmdsZSk7XG4gICAgY29uc3QgYncgPSBNYXRoLmNvcyhoYWxmQW5nbGUpO1xuICAgIGRzdFswXSA9IHF4ICogYncgKyBxdyAqIGJ4O1xuICAgIGRzdFsxXSA9IHF5ICogYncgKyBxeiAqIGJ4O1xuICAgIGRzdFsyXSA9IHF6ICogYncgLSBxeSAqIGJ4O1xuICAgIGRzdFszXSA9IHF3ICogYncgLSBxeCAqIGJ4O1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIHF1YXRlcm5pb24gYXJvdW5kIHRoZSBZIGF4aXMgYnkgdGhlIGdpdmVuIGFuZ2xlLlxuICogQHBhcmFtIHEgLSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIGFuZ2xlSW5SYWRpYW5zIC0gVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZVxuICogQHBhcmFtIGRzdCAtIHF1YXRlcm5pb24gdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHF1YXRlcm5pb24gdGhhdCBpcyB0aGUgcmVzdWx0IG9mIGEgKiBiXG4gKi9cbmZ1bmN0aW9uIHJvdGF0ZVkocSwgYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgY29uc3QgaGFsZkFuZ2xlID0gYW5nbGVJblJhZGlhbnMgKiAwLjU7XG4gICAgY29uc3QgcXggPSBxWzBdO1xuICAgIGNvbnN0IHF5ID0gcVsxXTtcbiAgICBjb25zdCBxeiA9IHFbMl07XG4gICAgY29uc3QgcXcgPSBxWzNdO1xuICAgIGNvbnN0IGJ5ID0gTWF0aC5zaW4oaGFsZkFuZ2xlKTtcbiAgICBjb25zdCBidyA9IE1hdGguY29zKGhhbGZBbmdsZSk7XG4gICAgZHN0WzBdID0gcXggKiBidyAtIHF6ICogYnk7XG4gICAgZHN0WzFdID0gcXkgKiBidyArIHF3ICogYnk7XG4gICAgZHN0WzJdID0gcXogKiBidyArIHF4ICogYnk7XG4gICAgZHN0WzNdID0gcXcgKiBidyAtIHF5ICogYnk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUm90YXRlcyB0aGUgZ2l2ZW4gcXVhdGVybmlvbiBhcm91bmQgdGhlIFogYXhpcyBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0gcSAtIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0gYW5nbGVJblJhZGlhbnMgLSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgcXVhdGVybmlvbiB0aGF0IGlzIHRoZSByZXN1bHQgb2YgYSAqIGJcbiAqL1xuZnVuY3Rpb24gcm90YXRlWihxLCBhbmdsZUluUmFkaWFucywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBjb25zdCBoYWxmQW5nbGUgPSBhbmdsZUluUmFkaWFucyAqIDAuNTtcbiAgICBjb25zdCBxeCA9IHFbMF07XG4gICAgY29uc3QgcXkgPSBxWzFdO1xuICAgIGNvbnN0IHF6ID0gcVsyXTtcbiAgICBjb25zdCBxdyA9IHFbM107XG4gICAgY29uc3QgYnogPSBNYXRoLnNpbihoYWxmQW5nbGUpO1xuICAgIGNvbnN0IGJ3ID0gTWF0aC5jb3MoaGFsZkFuZ2xlKTtcbiAgICBkc3RbMF0gPSBxeCAqIGJ3ICsgcXkgKiBiejtcbiAgICBkc3RbMV0gPSBxeSAqIGJ3IC0gcXggKiBiejtcbiAgICBkc3RbMl0gPSBxeiAqIGJ3ICsgcXcgKiBiejtcbiAgICBkc3RbM10gPSBxdyAqIGJ3IC0gcXogKiBiejtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBTcGhlcmljYWxseSBsaW5lYXIgaW50ZXJwb2xhdGUgYmV0d2VlbiB0d28gcXVhdGVybmlvbnNcbiAqXG4gKiBAcGFyYW0gYSAtIHN0YXJ0aW5nIHZhbHVlXG4gKiBAcGFyYW0gYiAtIGVuZGluZyB2YWx1ZVxuICogQHBhcmFtIHQgLSB2YWx1ZSB3aGVyZSAwID0gYSBhbmQgMSA9IGJcbiAqIEBwYXJhbSBkc3QgLSBxdWF0ZXJuaW9uIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBxdWF0ZXJuaW9uIHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBhICogYlxuICovXG5mdW5jdGlvbiBzbGVycChhLCBiLCB0LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIGNvbnN0IGF4ID0gYVswXTtcbiAgICBjb25zdCBheSA9IGFbMV07XG4gICAgY29uc3QgYXogPSBhWzJdO1xuICAgIGNvbnN0IGF3ID0gYVszXTtcbiAgICBsZXQgYnggPSBiWzBdO1xuICAgIGxldCBieSA9IGJbMV07XG4gICAgbGV0IGJ6ID0gYlsyXTtcbiAgICBsZXQgYncgPSBiWzNdO1xuICAgIGxldCBjb3NPbWVnYSA9IGF4ICogYnggKyBheSAqIGJ5ICsgYXogKiBieiArIGF3ICogYnc7XG4gICAgaWYgKGNvc09tZWdhIDwgMCkge1xuICAgICAgICBjb3NPbWVnYSA9IC1jb3NPbWVnYTtcbiAgICAgICAgYnggPSAtYng7XG4gICAgICAgIGJ5ID0gLWJ5O1xuICAgICAgICBieiA9IC1iejtcbiAgICAgICAgYncgPSAtYnc7XG4gICAgfVxuICAgIGxldCBzY2FsZTA7XG4gICAgbGV0IHNjYWxlMTtcbiAgICBpZiAoMS4wIC0gY29zT21lZ2EgPiBFUFNJTE9OKSB7XG4gICAgICAgIGNvbnN0IG9tZWdhID0gTWF0aC5hY29zKGNvc09tZWdhKTtcbiAgICAgICAgY29uc3Qgc2luT21lZ2EgPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICAgIHNjYWxlMCA9IE1hdGguc2luKCgxIC0gdCkgKiBvbWVnYSkgLyBzaW5PbWVnYTtcbiAgICAgICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbk9tZWdhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2NhbGUwID0gMS4wIC0gdDtcbiAgICAgICAgc2NhbGUxID0gdDtcbiAgICB9XG4gICAgZHN0WzBdID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDtcbiAgICBkc3RbMV0gPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xuICAgIGRzdFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XG4gICAgZHN0WzNdID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidztcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlIHRoZSBpbnZlcnNlIG9mIGEgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSBxIC0gcXVhdGVybmlvbiB0byBjb21wdXRlIHRoZSBpbnZlcnNlIG9mXG4gKiBAcmV0dXJucyBBIHF1YXRlcm5pb24gdGhhdCBpcyB0aGUgcmVzdWx0IG9mIGEgKiBiXG4gKi9cbmZ1bmN0aW9uIGludmVyc2UkMShxLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIGNvbnN0IGEwID0gcVswXTtcbiAgICBjb25zdCBhMSA9IHFbMV07XG4gICAgY29uc3QgYTIgPSBxWzJdO1xuICAgIGNvbnN0IGEzID0gcVszXTtcbiAgICBjb25zdCBkb3QgPSBhMCAqIGEwICsgYTEgKiBhMSArIGEyICogYTIgKyBhMyAqIGEzO1xuICAgIGNvbnN0IGludkRvdCA9IGRvdCA/IDEgLyBkb3QgOiAwO1xuICAgIGRzdFswXSA9IC1hMCAqIGludkRvdDtcbiAgICBkc3RbMV0gPSAtYTEgKiBpbnZEb3Q7XG4gICAgZHN0WzJdID0gLWEyICogaW52RG90O1xuICAgIGRzdFszXSA9IGEzICogaW52RG90O1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvbXB1dGUgdGhlIGNvbmp1Z2F0ZSBvZiBhIHF1YXRlcm5pb25cbiAqIEZvciBxdWF0ZXJuaW9ucyB3aXRoIGEgbWFnbml0dWRlIG9mIDEgKGEgdW5pdCBxdWF0ZXJuaW9uKVxuICogdGhpcyByZXR1cm5zIHRoZSBzYW1lIGFzIHRoZSBpbnZlcnNlIGJ1dCBpcyBmYXN0ZXIgdG8gY2FsY3VsYXRlLlxuICpcbiAqIEBwYXJhbSBxIC0gcXVhdGVybmlvbiB0byBjb21wdXRlIHRoZSBjb25qdWdhdGUgb2YuXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBjb25qdWdhdGUgb2YgcVxuICovXG5mdW5jdGlvbiBjb25qdWdhdGUocSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBkc3RbMF0gPSAtcVswXTtcbiAgICBkc3RbMV0gPSAtcVsxXTtcbiAgICBkc3RbMl0gPSAtcVsyXTtcbiAgICBkc3RbM10gPSBxWzNdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIHJvdGF0aW9uIG1hdHJpeC5cbiAqXG4gKiBUaGUgY3JlYXRlZCBxdWF0ZXJuaW9uIGlzIG5vdCBub3JtYWxpemVkLlxuICpcbiAqIEBwYXJhbSBtIC0gcm90YXRpb24gbWF0cml4XG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIHRoZSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gZnJvbU1hdChtLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIC8qXG4gICAgMCAxIDJcbiAgICAzIDQgNVxuICAgIDYgNyA4XG4gIFxuICAgIDAgMSAyXG4gICAgNCA1IDZcbiAgICA4IDkgMTBcbiAgICAgKi9cbiAgICAvLyBBbGdvcml0aG0gaW4gS2VuIFNob2VtYWtlJ3MgYXJ0aWNsZSBpbiAxOTg3IFNJR0dSQVBIIGNvdXJzZSBub3Rlc1xuICAgIC8vIGFydGljbGUgXCJRdWF0ZXJuaW9uIENhbGN1bHVzIGFuZCBGYXN0IEFuaW1hdGlvblwiLlxuICAgIGNvbnN0IHRyYWNlID0gbVswXSArIG1bNV0gKyBtWzEwXTtcbiAgICBpZiAodHJhY2UgPiAwLjApIHtcbiAgICAgICAgLy8gfHd8ID4gMS8yLCBtYXkgYXMgd2VsbCBjaG9vc2UgdyA+IDEvMlxuICAgICAgICBjb25zdCByb290ID0gTWF0aC5zcXJ0KHRyYWNlICsgMSk7IC8vIDJ3XG4gICAgICAgIGRzdFszXSA9IDAuNSAqIHJvb3Q7XG4gICAgICAgIGNvbnN0IGludlJvb3QgPSAwLjUgLyByb290OyAvLyAxLyg0dylcbiAgICAgICAgZHN0WzBdID0gKG1bNl0gLSBtWzldKSAqIGludlJvb3Q7XG4gICAgICAgIGRzdFsxXSA9IChtWzhdIC0gbVsyXSkgKiBpbnZSb290O1xuICAgICAgICBkc3RbMl0gPSAobVsxXSAtIG1bNF0pICogaW52Um9vdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHx3fCA8PSAxLzJcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpZiAobVs1XSA+IG1bMF0pIHtcbiAgICAgICAgICAgIGkgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtWzEwXSA+IG1baSAqIDQgKyBpXSkge1xuICAgICAgICAgICAgaSA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaiA9IChpICsgMSkgJSAzO1xuICAgICAgICBjb25zdCBrID0gKGkgKyAyKSAlIDM7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBNYXRoLnNxcnQobVtpICogNCArIGldIC0gbVtqICogNCArIGpdIC0gbVtrICogNCArIGtdICsgMS4wKTtcbiAgICAgICAgZHN0W2ldID0gMC41ICogcm9vdDtcbiAgICAgICAgY29uc3QgaW52Um9vdCA9IDAuNSAvIHJvb3Q7XG4gICAgICAgIGRzdFszXSA9IChtW2ogKiA0ICsga10gLSBtW2sgKiA0ICsgal0pICogaW52Um9vdDtcbiAgICAgICAgZHN0W2pdID0gKG1baiAqIDQgKyBpXSArIG1baSAqIDQgKyBqXSkgKiBpbnZSb290O1xuICAgICAgICBkc3Rba10gPSAobVtrICogNCArIGldICsgbVtpICogNCArIGtdKSAqIGludlJvb3Q7XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHogdXNpbmcgdGhlIHByb3ZpZGVkIGludHJpbnNpYyBvcmRlciBmb3IgdGhlIGNvbnZlcnNpb24uXG4gKlxuICogQHBhcmFtIHhBbmdsZUluUmFkaWFucyAtIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWCBheGlzIGluIHJhZGlhbnMuXG4gKiBAcGFyYW0geUFuZ2xlSW5SYWRpYW5zIC0gYW5nbGUgdG8gcm90YXRlIGFyb3VuZCBZIGF4aXMgaW4gcmFkaWFucy5cbiAqIEBwYXJhbSB6QW5nbGVJblJhZGlhbnMgLSBhbmdsZSB0byByb3RhdGUgYXJvdW5kIFogYXhpcyBpbiByYWRpYW5zLlxuICogQHBhcmFtIG9yZGVyIC0gb3JkZXIgdG8gYXBwbHkgZXVsZXIgYW5nbGVzXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHNhbWUgcm90YXRpb24gYXMgdGhlIGV1bGVyIGFuZ2xlcyBhcHBsaWVkIGluIHRoZSBnaXZlbiBvcmRlclxuICovXG5mdW5jdGlvbiBmcm9tRXVsZXIoeEFuZ2xlSW5SYWRpYW5zLCB5QW5nbGVJblJhZGlhbnMsIHpBbmdsZUluUmFkaWFucywgb3JkZXIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgY29uc3QgeEhhbGZBbmdsZSA9IHhBbmdsZUluUmFkaWFucyAqIDAuNTtcbiAgICBjb25zdCB5SGFsZkFuZ2xlID0geUFuZ2xlSW5SYWRpYW5zICogMC41O1xuICAgIGNvbnN0IHpIYWxmQW5nbGUgPSB6QW5nbGVJblJhZGlhbnMgKiAwLjU7XG4gICAgY29uc3Qgc3ggPSBNYXRoLnNpbih4SGFsZkFuZ2xlKTtcbiAgICBjb25zdCBjeCA9IE1hdGguY29zKHhIYWxmQW5nbGUpO1xuICAgIGNvbnN0IHN5ID0gTWF0aC5zaW4oeUhhbGZBbmdsZSk7XG4gICAgY29uc3QgY3kgPSBNYXRoLmNvcyh5SGFsZkFuZ2xlKTtcbiAgICBjb25zdCBzeiA9IE1hdGguc2luKHpIYWxmQW5nbGUpO1xuICAgIGNvbnN0IGN6ID0gTWF0aC5jb3MoekhhbGZBbmdsZSk7XG4gICAgc3dpdGNoIChvcmRlcikge1xuICAgICAgICBjYXNlICd4eXonOlxuICAgICAgICAgICAgZHN0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgICAgICAgZHN0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgICAgICAgZHN0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgICAgICAgZHN0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3h6eSc6XG4gICAgICAgICAgICBkc3RbMF0gPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XG4gICAgICAgICAgICBkc3RbMV0gPSBjeCAqIHN5ICogY3ogLSBzeCAqIGN5ICogc3o7XG4gICAgICAgICAgICBkc3RbMl0gPSBjeCAqIGN5ICogc3ogKyBzeCAqIHN5ICogY3o7XG4gICAgICAgICAgICBkc3RbM10gPSBjeCAqIGN5ICogY3ogKyBzeCAqIHN5ICogc3o7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAneXh6JzpcbiAgICAgICAgICAgIGRzdFswXSA9IHN4ICogY3kgKiBjeiArIGN4ICogc3kgKiBzejtcbiAgICAgICAgICAgIGRzdFsxXSA9IGN4ICogc3kgKiBjeiAtIHN4ICogY3kgKiBzejtcbiAgICAgICAgICAgIGRzdFsyXSA9IGN4ICogY3kgKiBzeiAtIHN4ICogc3kgKiBjejtcbiAgICAgICAgICAgIGRzdFszXSA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd5engnOlxuICAgICAgICAgICAgZHN0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgICAgICAgZHN0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgICAgICAgZHN0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgICAgICAgZHN0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3p4eSc6XG4gICAgICAgICAgICBkc3RbMF0gPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XG4gICAgICAgICAgICBkc3RbMV0gPSBjeCAqIHN5ICogY3ogKyBzeCAqIGN5ICogc3o7XG4gICAgICAgICAgICBkc3RbMl0gPSBjeCAqIGN5ICogc3ogKyBzeCAqIHN5ICogY3o7XG4gICAgICAgICAgICBkc3RbM10gPSBjeCAqIGN5ICogY3ogLSBzeCAqIHN5ICogc3o7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnenl4JzpcbiAgICAgICAgICAgIGRzdFswXSA9IHN4ICogY3kgKiBjeiAtIGN4ICogc3kgKiBzejtcbiAgICAgICAgICAgIGRzdFsxXSA9IGN4ICogc3kgKiBjeiArIHN4ICogY3kgKiBzejtcbiAgICAgICAgICAgIGRzdFsyXSA9IGN4ICogY3kgKiBzeiAtIHN4ICogc3kgKiBjejtcbiAgICAgICAgICAgIGRzdFszXSA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHJvdGF0aW9uIG9yZGVyOiAke29yZGVyfWApO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb3BpZXMgYSBxdWF0ZXJuaW9uLiAoc2FtZSBhcyB7QGxpbmsgcXVhdC5jbG9uZX0pXG4gKiBBbHNvIHNlZSB7QGxpbmsgcXVhdC5jcmVhdGV9IGFuZCB7QGxpbmsgcXVhdC5zZXR9XG4gKiBAcGFyYW0gcSAtIFRoZSBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIGRzdCAtIHF1YXRlcm5pb24gdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHF1YXRlcm5pb24gdGhhdCBpcyBhIGNvcHkgb2YgcVxuICovXG5mdW5jdGlvbiBjb3B5JDEocSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBkc3RbMF0gPSBxWzBdO1xuICAgIGRzdFsxXSA9IHFbMV07XG4gICAgZHN0WzJdID0gcVsyXTtcbiAgICBkc3RbM10gPSBxWzNdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENsb25lcyBhIHF1YXRlcm5pb24uIChzYW1lIGFzIHtAbGluayBxdWF0LmNvcHl9KVxuICogQWxzbyBzZWUge0BsaW5rIHF1YXQuY3JlYXRlfSBhbmQge0BsaW5rIHF1YXQuc2V0fVxuICogQHBhcmFtIHEgLSBUaGUgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBkc3QgLSBxdWF0ZXJuaW9uIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBjb3B5IG9mIHEuXG4gKi9cbmNvbnN0IGNsb25lJDEgPSBjb3B5JDE7XG4vKipcbiAqIEFkZHMgdHdvIHF1YXRlcm5pb25zOyBhc3N1bWVzIGEgYW5kIGIgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb24uXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIGRzdCAtIHF1YXRlcm5pb24gdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHF1YXRlcm5pb24gdGhhdCBpcyB0aGUgc3VtIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIGFkZCQxKGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgZHN0WzBdID0gYVswXSArIGJbMF07XG4gICAgZHN0WzFdID0gYVsxXSArIGJbMV07XG4gICAgZHN0WzJdID0gYVsyXSArIGJbMl07XG4gICAgZHN0WzNdID0gYVszXSArIGJbM107XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHR3byBxdWF0ZXJuaW9ucy5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgcXVhdGVybmlvbiB0aGF0IGlzIHRoZSBkaWZmZXJlbmNlIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIHN1YnRyYWN0JDEoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBkc3RbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBkc3RbMV0gPSBhWzFdIC0gYlsxXTtcbiAgICBkc3RbMl0gPSBhWzJdIC0gYlsyXTtcbiAgICBkc3RbM10gPSBhWzNdIC0gYlszXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdHdvIHF1YXRlcm5pb25zLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBkc3QgLSBxdWF0ZXJuaW9uIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBxdWF0ZXJuaW9uIHRoYXQgaXMgdGhlIGRpZmZlcmVuY2Ugb2YgYSBhbmQgYi5cbiAqL1xuY29uc3Qgc3ViJDEgPSBzdWJ0cmFjdCQxO1xuLyoqXG4gKiBNdWx0aXBsaWVzIGEgcXVhdGVybmlvbiBieSBhIHNjYWxhci5cbiAqIEBwYXJhbSB2IC0gVGhlIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0gayAtIFRoZSBzY2FsYXIuXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsZWQgcXVhdGVybmlvbi5cbiAqL1xuZnVuY3Rpb24gbXVsU2NhbGFyJDEodiwgaywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBkc3RbMF0gPSB2WzBdICogaztcbiAgICBkc3RbMV0gPSB2WzFdICogaztcbiAgICBkc3RbMl0gPSB2WzJdICogaztcbiAgICBkc3RbM10gPSB2WzNdICogaztcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIGEgcXVhdGVybmlvbiBieSBhIHNjYWxhci4gKHNhbWUgYXMgbXVsU2NhbGFyKVxuICogQHBhcmFtIHYgLSBUaGUgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBrIC0gVGhlIHNjYWxhci5cbiAqIEBwYXJhbSBkc3QgLSBxdWF0ZXJuaW9uIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCBxdWF0ZXJuaW9uLlxuICovXG5jb25zdCBzY2FsZSQxID0gbXVsU2NhbGFyJDE7XG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gayAtIFRoZSBzY2FsYXIuXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsZWQgcXVhdGVybmlvbi5cbiAqL1xuZnVuY3Rpb24gZGl2U2NhbGFyJDEodiwgaywgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBkc3RbMF0gPSB2WzBdIC8gaztcbiAgICBkc3RbMV0gPSB2WzFdIC8gaztcbiAgICBkc3RbMl0gPSB2WzJdIC8gaztcbiAgICBkc3RbM10gPSB2WzNdIC8gaztcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXRlcm5pb25zXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMgZG90IHByb2R1Y3RcbiAqL1xuZnVuY3Rpb24gZG90JDEoYSwgYikge1xuICAgIHJldHVybiAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzFdKSArIChhWzJdICogYlsyXSkgKyAoYVszXSAqIGJbM10pO1xufVxuLyoqXG4gKiBQZXJmb3JtcyBsaW5lYXIgaW50ZXJwb2xhdGlvbiBvbiB0d28gcXVhdGVybmlvbnMuXG4gKiBHaXZlbiBxdWF0ZXJuaW9ucyBhIGFuZCBiIGFuZCBpbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50IHQsIHJldHVybnNcbiAqIGEgKyB0ICogKGIgLSBhKS5cbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0gdCAtIEludGVycG9sYXRpb24gY29lZmZpY2llbnQuXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBsaW5lYXIgaW50ZXJwb2xhdGVkIHJlc3VsdC5cbiAqL1xuZnVuY3Rpb24gbGVycCQxKGEsIGIsIHQsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgZHN0WzBdID0gYVswXSArIHQgKiAoYlswXSAtIGFbMF0pO1xuICAgIGRzdFsxXSA9IGFbMV0gKyB0ICogKGJbMV0gLSBhWzFdKTtcbiAgICBkc3RbMl0gPSBhWzJdICsgdCAqIChiWzJdIC0gYVsyXSk7XG4gICAgZHN0WzNdID0gYVszXSArIHQgKiAoYlszXSAtIGFbM10pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBsZW5ndGggb2YgcXVhdGVybmlvblxuICogQHBhcmFtIHYgLSBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMgbGVuZ3RoIG9mIHF1YXRlcm5pb24uXG4gKi9cbmZ1bmN0aW9uIGxlbmd0aCQxKHYpIHtcbiAgICBjb25zdCB2MCA9IHZbMF07XG4gICAgY29uc3QgdjEgPSB2WzFdO1xuICAgIGNvbnN0IHYyID0gdlsyXTtcbiAgICBjb25zdCB2MyA9IHZbM107XG4gICAgcmV0dXJuIE1hdGguc3FydCh2MCAqIHYwICsgdjEgKiB2MSArIHYyICogdjIgKyB2MyAqIHYzKTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxlbmd0aCBvZiBxdWF0ZXJuaW9uIChzYW1lIGFzIGxlbmd0aClcbiAqIEBwYXJhbSB2IC0gcXVhdGVybmlvbi5cbiAqIEByZXR1cm5zIGxlbmd0aCBvZiBxdWF0ZXJuaW9uLlxuICovXG5jb25zdCBsZW4kMSA9IGxlbmd0aCQxO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgcXVhdGVybmlvblxuICogQHBhcmFtIHYgLSBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgcXVhdGVybmlvbi5cbiAqL1xuZnVuY3Rpb24gbGVuZ3RoU3EkMSh2KSB7XG4gICAgY29uc3QgdjAgPSB2WzBdO1xuICAgIGNvbnN0IHYxID0gdlsxXTtcbiAgICBjb25zdCB2MiA9IHZbMl07XG4gICAgY29uc3QgdjMgPSB2WzNdO1xuICAgIHJldHVybiB2MCAqIHYwICsgdjEgKiB2MSArIHYyICogdjIgKyB2MyAqIHYzO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgcXVhdGVybmlvbiAoc2FtZSBhcyBsZW5ndGhTcSlcbiAqIEBwYXJhbSB2IC0gcXVhdGVybmlvbi5cbiAqIEByZXR1cm5zIHNxdWFyZSBvZiB0aGUgbGVuZ3RoIG9mIHF1YXRlcm5pb24uXG4gKi9cbmNvbnN0IGxlblNxJDEgPSBsZW5ndGhTcSQxO1xuLyoqXG4gKiBEaXZpZGVzIGEgcXVhdGVybmlvbiBieSBpdHMgRXVjbGlkZWFuIGxlbmd0aCBhbmQgcmV0dXJucyB0aGUgcXVvdGllbnQuXG4gKiBAcGFyYW0gdiAtIFRoZSBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIGRzdCAtIHF1YXRlcm5pb24gdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgbm9ybWFsaXplZCBxdWF0ZXJuaW9uLlxuICovXG5mdW5jdGlvbiBub3JtYWxpemUkMSh2LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgY29uc3QgdjIgPSB2WzJdO1xuICAgIGNvbnN0IHYzID0gdlszXTtcbiAgICBjb25zdCBsZW4gPSBNYXRoLnNxcnQodjAgKiB2MCArIHYxICogdjEgKyB2MiAqIHYyICsgdjMgKiB2Myk7XG4gICAgaWYgKGxlbiA+IDAuMDAwMDEpIHtcbiAgICAgICAgZHN0WzBdID0gdjAgLyBsZW47XG4gICAgICAgIGRzdFsxXSA9IHYxIC8gbGVuO1xuICAgICAgICBkc3RbMl0gPSB2MiAvIGxlbjtcbiAgICAgICAgZHN0WzNdID0gdjMgLyBsZW47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3RbMF0gPSAwO1xuICAgICAgICBkc3RbMV0gPSAwO1xuICAgICAgICBkc3RbMl0gPSAwO1xuICAgICAgICBkc3RbM10gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBDaGVjayBpZiAyIHF1YXRlcm5pb25zIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMgdHJ1ZSBpZiBxdWF0ZXJuaW9ucyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHNBcHByb3hpbWF0ZWx5JDEoYSwgYikge1xuICAgIHJldHVybiBNYXRoLmFicyhhWzBdIC0gYlswXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMV0gLSBiWzFdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVsyXSAtIGJbMl0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzNdIC0gYlszXSkgPCBFUFNJTE9OO1xufVxuLyoqXG4gKiBDaGVjayBpZiAyIHF1YXRlcm5pb25zIGFyZSBleGFjdGx5IGVxdWFsXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMgdHJ1ZSBpZiBxdWF0ZXJuaW9ucyBhcmUgZXhhY3RseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHMkMShhLCBiKSB7XG4gICAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaWRlbnRpdHkgcXVhdGVybmlvblxuICogQHBhcmFtIGRzdCAtIHF1YXRlcm5pb24gdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBhbiBpZGVudGl0eSBxdWF0ZXJuaW9uXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgZHN0WzBdID0gMDtcbiAgICBkc3RbMV0gPSAwO1xuICAgIGRzdFsyXSA9IDA7XG4gICAgZHN0WzNdID0gMTtcbiAgICByZXR1cm4gZHN0O1xufVxubGV0IHRlbXBWZWMzO1xubGV0IHhVbml0VmVjMztcbmxldCB5VW5pdFZlYzM7XG4vKipcbiAqIENvbXB1dGVzIGEgcXVhdGVybmlvbiB0byByZXByZXNlbnQgdGhlIHNob3J0ZXN0IHJvdGF0aW9uIGZyb20gb25lIHZlY3RvciB0byBhbm90aGVyLlxuICpcbiAqIEBwYXJhbSBhVW5pdCAtIHRoZSBzdGFydCB2ZWN0b3JcbiAqIEBwYXJhbSBiVW5pdCAtIHRoZSBlbmQgdmVjdG9yXG4gKiBAcGFyYW0gZHN0IC0gcXVhdGVybmlvbiB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIHRoZSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gcm90YXRpb25UbyhhVW5pdCwgYlVuaXQsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgdGVtcFZlYzMgPSB0ZW1wVmVjMyB8fCBjcmVhdGUkMygpO1xuICAgIHhVbml0VmVjMyA9IHhVbml0VmVjMyB8fCBjcmVhdGUkMygxLCAwLCAwKTtcbiAgICB5VW5pdFZlYzMgPSB5VW5pdFZlYzMgfHwgY3JlYXRlJDMoMCwgMSwgMCk7XG4gICAgY29uc3QgZG90ID0gZG90JDIoYVVuaXQsIGJVbml0KTtcbiAgICBpZiAoZG90IDwgLTAuOTk5OTk5KSB7XG4gICAgICAgIGNyb3NzKHhVbml0VmVjMywgYVVuaXQsIHRlbXBWZWMzKTtcbiAgICAgICAgaWYgKGxlbiQyKHRlbXBWZWMzKSA8IDAuMDAwMDAxKSB7XG4gICAgICAgICAgICBjcm9zcyh5VW5pdFZlYzMsIGFVbml0LCB0ZW1wVmVjMyk7XG4gICAgICAgIH1cbiAgICAgICAgbm9ybWFsaXplJDIodGVtcFZlYzMsIHRlbXBWZWMzKTtcbiAgICAgICAgZnJvbUF4aXNBbmdsZSh0ZW1wVmVjMywgTWF0aC5QSSwgZHN0KTtcbiAgICAgICAgcmV0dXJuIGRzdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZG90ID4gMC45OTk5OTkpIHtcbiAgICAgICAgZHN0WzBdID0gMDtcbiAgICAgICAgZHN0WzFdID0gMDtcbiAgICAgICAgZHN0WzJdID0gMDtcbiAgICAgICAgZHN0WzNdID0gMTtcbiAgICAgICAgcmV0dXJuIGRzdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNyb3NzKGFVbml0LCBiVW5pdCwgdGVtcFZlYzMpO1xuICAgICAgICBkc3RbMF0gPSB0ZW1wVmVjM1swXTtcbiAgICAgICAgZHN0WzFdID0gdGVtcFZlYzNbMV07XG4gICAgICAgIGRzdFsyXSA9IHRlbXBWZWMzWzJdO1xuICAgICAgICBkc3RbM10gPSAxICsgZG90O1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplJDEoZHN0LCBkc3QpO1xuICAgIH1cbn1cbmxldCB0ZW1wUXVhdDE7XG5sZXQgdGVtcFF1YXQyO1xuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSBhIC0gdGhlIGZpcnN0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSBiIC0gdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gYyAtIHRoZSB0aGlyZCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gZCAtIHRoZSBmb3VydGggcXVhdGVybmlvblxuICogQHBhcmFtIHQgLSBJbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50IDAgdG8gMVxuICogQHJldHVybnMgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIHNxbGVycChhLCBiLCBjLCBkLCB0LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFF1YXRUeXBlKDQpO1xuICAgIHRlbXBRdWF0MSA9IHRlbXBRdWF0MSB8fCBuZXcgUXVhdFR5cGUoNCk7XG4gICAgdGVtcFF1YXQyID0gdGVtcFF1YXQyIHx8IG5ldyBRdWF0VHlwZSg0KTtcbiAgICBzbGVycChhLCBkLCB0LCB0ZW1wUXVhdDEpO1xuICAgIHNsZXJwKGIsIGMsIHQsIHRlbXBRdWF0Mik7XG4gICAgc2xlcnAodGVtcFF1YXQxLCB0ZW1wUXVhdDIsIDIgKiB0ICogKDEgLSB0KSwgZHN0KTtcbiAgICByZXR1cm4gZHN0O1xufVxuXG52YXIgcXVhdEltcGwgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIGNyZWF0ZTogY3JlYXRlJDEsXG4gICAgc2V0RGVmYXVsdFR5cGU6IHNldERlZmF1bHRUeXBlJDIsXG4gICAgZnJvbVZhbHVlczogZnJvbVZhbHVlcyQxLFxuICAgIHNldDogc2V0JDEsXG4gICAgZnJvbUF4aXNBbmdsZTogZnJvbUF4aXNBbmdsZSxcbiAgICB0b0F4aXNBbmdsZTogdG9BeGlzQW5nbGUsXG4gICAgYW5nbGU6IGFuZ2xlLFxuICAgIG11bHRpcGx5OiBtdWx0aXBseSQxLFxuICAgIG11bDogbXVsJDEsXG4gICAgcm90YXRlWDogcm90YXRlWCxcbiAgICByb3RhdGVZOiByb3RhdGVZLFxuICAgIHJvdGF0ZVo6IHJvdGF0ZVosXG4gICAgc2xlcnA6IHNsZXJwLFxuICAgIGludmVyc2U6IGludmVyc2UkMSxcbiAgICBjb25qdWdhdGU6IGNvbmp1Z2F0ZSxcbiAgICBmcm9tTWF0OiBmcm9tTWF0LFxuICAgIGZyb21FdWxlcjogZnJvbUV1bGVyLFxuICAgIGNvcHk6IGNvcHkkMSxcbiAgICBjbG9uZTogY2xvbmUkMSxcbiAgICBhZGQ6IGFkZCQxLFxuICAgIHN1YnRyYWN0OiBzdWJ0cmFjdCQxLFxuICAgIHN1Yjogc3ViJDEsXG4gICAgbXVsU2NhbGFyOiBtdWxTY2FsYXIkMSxcbiAgICBzY2FsZTogc2NhbGUkMSxcbiAgICBkaXZTY2FsYXI6IGRpdlNjYWxhciQxLFxuICAgIGRvdDogZG90JDEsXG4gICAgbGVycDogbGVycCQxLFxuICAgIGxlbmd0aDogbGVuZ3RoJDEsXG4gICAgbGVuOiBsZW4kMSxcbiAgICBsZW5ndGhTcTogbGVuZ3RoU3EkMSxcbiAgICBsZW5TcTogbGVuU3EkMSxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZSQxLFxuICAgIGVxdWFsc0FwcHJveGltYXRlbHk6IGVxdWFsc0FwcHJveGltYXRlbHkkMSxcbiAgICBlcXVhbHM6IGVxdWFscyQxLFxuICAgIGlkZW50aXR5OiBpZGVudGl0eSxcbiAgICByb3RhdGlvblRvOiByb3RhdGlvblRvLFxuICAgIHNxbGVycDogc3FsZXJwXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDIyIEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKlxuICogVmVjNCBtYXRoIGZ1bmN0aW9ucy5cbiAqXG4gKiBBbG1vc3QgYWxsIGZ1bmN0aW9ucyB0YWtlIGFuIG9wdGlvbmFsIGBkc3RgIGFyZ3VtZW50LiBJZiBpdCBpcyBub3QgcGFzc2VkIGluIHRoZVxuICogZnVuY3Rpb25zIHdpbGwgY3JlYXRlIGEgbmV3IGBWZWM0YC4gSW4gb3RoZXIgd29yZHMgeW91IGNhbiBkbyB0aGlzXG4gKlxuICogICAgIGNvbnN0IHYgPSB2ZWM0LmNyb3NzKHYxLCB2Mik7ICAvLyBDcmVhdGVzIGEgbmV3IFZlYzQgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB2MSB4IHYyLlxuICpcbiAqIG9yXG4gKlxuICogICAgIGNvbnN0IHYgPSB2ZWM0LmNyZWF0ZSgpO1xuICogICAgIHZlYzQuY3Jvc3ModjEsIHYyLCB2KTsgIC8vIFB1dHMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdjEgeCB2MiBpbiB2XG4gKlxuICogVGhlIGZpcnN0IHN0eWxlIGlzIG9mdGVuIGVhc2llciBidXQgZGVwZW5kaW5nIG9uIHdoZXJlIGl0J3MgdXNlZCBpdCBnZW5lcmF0ZXMgZ2FyYmFnZSB3aGVyZVxuICogYXMgdGhlcmUgaXMgYWxtb3N0IG5ldmVyIGFsbG9jYXRpb24gd2l0aCB0aGUgc2Vjb25kIHN0eWxlLlxuICpcbiAqIEl0IGlzIGFsd2F5cyBzYWZlIHRvIHBhc3MgYW55IHZlY3RvciBhcyB0aGUgZGVzdGluYXRpb24uIFNvIGZvciBleGFtcGxlXG4gKlxuICogICAgIHZlYzQuY3Jvc3ModjEsIHYyLCB2MSk7ICAvLyBQdXRzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHYxIHggdjIgaW4gdjFcbiAqXG4gKi9cbmxldCBWZWNUeXBlID0gRmxvYXQzMkFycmF5O1xuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIHRoaXMgbGlicmFyeSBjcmVhdGVzIGZvciBhIFZlYzRcbiAqIEBwYXJhbSBjdG9yIC0gdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgdHlwZS4gRWl0aGVyIGBGbG9hdDMyQXJyYXlgLCBgRmxvYXQ2NEFycmF5YCwgb3IgYEFycmF5YFxuICogQHJldHVybnMgcHJldmlvdXMgY29uc3RydWN0b3IgZm9yIFZlYzRcbiAqL1xuZnVuY3Rpb24gc2V0RGVmYXVsdFR5cGUkMShjdG9yKSB7XG4gICAgY29uc3Qgb2xkVHlwZSA9IFZlY1R5cGU7XG4gICAgVmVjVHlwZSA9IGN0b3I7XG4gICAgcmV0dXJuIG9sZFR5cGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB2ZWM0OyBtYXkgYmUgY2FsbGVkIHdpdGggeCwgeSwgeiB0byBzZXQgaW5pdGlhbCB2YWx1ZXMuXG4gKiBAcGFyYW0geCAtIEluaXRpYWwgeCB2YWx1ZS5cbiAqIEBwYXJhbSB5IC0gSW5pdGlhbCB5IHZhbHVlLlxuICogQHBhcmFtIHogLSBJbml0aWFsIHogdmFsdWUuXG4gKiBAcGFyYW0gdyAtIEluaXRpYWwgdyB2YWx1ZS5cbiAqIEByZXR1cm5zIHRoZSBjcmVhdGVkIHZlY3RvclxuICovXG5mdW5jdGlvbiBjcmVhdGUoeCwgeSwgeiwgdykge1xuICAgIGNvbnN0IGRzdCA9IG5ldyBWZWNUeXBlKDQpO1xuICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZHN0WzBdID0geDtcbiAgICAgICAgaWYgKHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHN0WzFdID0geTtcbiAgICAgICAgICAgIGlmICh6ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkc3RbMl0gPSB6O1xuICAgICAgICAgICAgICAgIGlmICh3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0WzNdID0gdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cblxuLypcbiAqIENvcHlyaWdodCAyMDIyIEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdmVjNDsgbWF5IGJlIGNhbGxlZCB3aXRoIHgsIHksIHogdG8gc2V0IGluaXRpYWwgdmFsdWVzLiAoc2FtZSBhcyBjcmVhdGUpXG4gKiBAcGFyYW0geCAtIEluaXRpYWwgeCB2YWx1ZS5cbiAqIEBwYXJhbSB5IC0gSW5pdGlhbCB5IHZhbHVlLlxuICogQHBhcmFtIHogLSBJbml0aWFsIHogdmFsdWUuXG4gKiBAcGFyYW0geiAtIEluaXRpYWwgdyB2YWx1ZS5cbiAqIEByZXR1cm5zIHRoZSBjcmVhdGVkIHZlY3RvclxuICovXG5jb25zdCBmcm9tVmFsdWVzID0gY3JlYXRlO1xuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZXMgb2YgYSBWZWM0XG4gKiBBbHNvIHNlZSB7QGxpbmsgdmVjNC5jcmVhdGV9IGFuZCB7QGxpbmsgdmVjNC5jb3B5fVxuICpcbiAqIEBwYXJhbSB4IGZpcnN0IHZhbHVlXG4gKiBAcGFyYW0geSBzZWNvbmQgdmFsdWVcbiAqIEBwYXJhbSB6IHRoaXJkIHZhbHVlXG4gKiBAcGFyYW0gdyBmb3VydGggdmFsdWVcbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB3aXRoIGl0cyBlbGVtZW50cyBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldCh4LCB5LCB6LCB3LCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoNCk7XG4gICAgZHN0WzBdID0geDtcbiAgICBkc3RbMV0gPSB5O1xuICAgIGRzdFsyXSA9IHo7XG4gICAgZHN0WzNdID0gdztcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBcHBsaWVzIE1hdGguY2VpbCB0byBlYWNoIGVsZW1lbnQgb2YgdmVjdG9yXG4gKiBAcGFyYW0gdiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgdmVjdG9yIHRoYXQgaXMgdGhlIGNlaWwgb2YgZWFjaCBlbGVtZW50IG9mIHYuXG4gKi9cbmZ1bmN0aW9uIGNlaWwodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IE1hdGguY2VpbCh2WzBdKTtcbiAgICBkc3RbMV0gPSBNYXRoLmNlaWwodlsxXSk7XG4gICAgZHN0WzJdID0gTWF0aC5jZWlsKHZbMl0pO1xuICAgIGRzdFszXSA9IE1hdGguY2VpbCh2WzNdKTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBcHBsaWVzIE1hdGguZmxvb3IgdG8gZWFjaCBlbGVtZW50IG9mIHZlY3RvclxuICogQHBhcmFtIHYgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBBIHZlY3RvciB0aGF0IGlzIHRoZSBmbG9vciBvZiBlYWNoIGVsZW1lbnQgb2Ygdi5cbiAqL1xuZnVuY3Rpb24gZmxvb3IodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IE1hdGguZmxvb3IodlswXSk7XG4gICAgZHN0WzFdID0gTWF0aC5mbG9vcih2WzFdKTtcbiAgICBkc3RbMl0gPSBNYXRoLmZsb29yKHZbMl0pO1xuICAgIGRzdFszXSA9IE1hdGguZmxvb3IodlszXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQXBwbGllcyBNYXRoLnJvdW5kIHRvIGVhY2ggZWxlbWVudCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgcm91bmQgb2YgZWFjaCBlbGVtZW50IG9mIHYuXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSBNYXRoLnJvdW5kKHZbMF0pO1xuICAgIGRzdFsxXSA9IE1hdGgucm91bmQodlsxXSk7XG4gICAgZHN0WzJdID0gTWF0aC5yb3VuZCh2WzJdKTtcbiAgICBkc3RbM10gPSBNYXRoLnJvdW5kKHZbM10pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENsYW1wIGVhY2ggZWxlbWVudCBvZiB2ZWN0b3IgYmV0d2VlbiBtaW4gYW5kIG1heFxuICogQHBhcmFtIHYgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBtYXggLSBNaW4gdmFsdWUsIGRlZmF1bHQgMFxuICogQHBhcmFtIG1pbiAtIE1heCB2YWx1ZSwgZGVmYXVsdCAxXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCB0aGUgY2xhbXBlZCB2YWx1ZSBvZiBlYWNoIGVsZW1lbnQgb2Ygdi5cbiAqL1xuZnVuY3Rpb24gY2xhbXAodiwgbWluID0gMCwgbWF4ID0gMSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2WzBdKSk7XG4gICAgZHN0WzFdID0gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZbMV0pKTtcbiAgICBkc3RbMl0gPSBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgdlsyXSkpO1xuICAgIGRzdFszXSA9IE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2WzNdKSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjdG9yczsgYXNzdW1lcyBhIGFuZCBiIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgc3VtIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIGFkZChhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoNCk7XG4gICAgZHN0WzBdID0gYVswXSArIGJbMF07XG4gICAgZHN0WzFdID0gYVsxXSArIGJbMV07XG4gICAgZHN0WzJdID0gYVsyXSArIGJbMl07XG4gICAgZHN0WzNdID0gYVszXSArIGJbM107XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjdG9ycywgc2NhbGluZyB0aGUgMm5kOyBhc3N1bWVzIGEgYW5kIGIgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb24uXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBzY2FsZSAtIEFtb3VudCB0byBzY2FsZSBiXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgc3VtIG9mIGEgKyBiICogc2NhbGUuXG4gKi9cbmZ1bmN0aW9uIGFkZFNjYWxlZChhLCBiLCBzY2FsZSwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gICAgZHN0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgICBkc3RbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICAgIGRzdFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHR3byB2ZWN0b3JzLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgZGlmZmVyZW5jZSBvZiBhIGFuZCBiLlxuICovXG5mdW5jdGlvbiBzdWJ0cmFjdChhLCBiLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoNCk7XG4gICAgZHN0WzBdID0gYVswXSAtIGJbMF07XG4gICAgZHN0WzFdID0gYVsxXSAtIGJbMV07XG4gICAgZHN0WzJdID0gYVsyXSAtIGJbMl07XG4gICAgZHN0WzNdID0gYVszXSAtIGJbM107XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHR3byB2ZWN0b3JzLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSB2ZWN0b3IgdGhhdCBpcyB0aGUgZGlmZmVyZW5jZSBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQ2hlY2sgaWYgMiB2ZWN0b3JzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHRydWUgaWYgdmVjdG9ycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHNBcHByb3hpbWF0ZWx5KGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoYVswXSAtIGJbMF0pIDwgRVBTSUxPTiAmJlxuICAgICAgICBNYXRoLmFicyhhWzFdIC0gYlsxXSkgPCBFUFNJTE9OICYmXG4gICAgICAgIE1hdGguYWJzKGFbMl0gLSBiWzJdKSA8IEVQU0lMT04gJiZcbiAgICAgICAgTWF0aC5hYnMoYVszXSAtIGJbM10pIDwgRVBTSUxPTjtcbn1cbi8qKlxuICogQ2hlY2sgaWYgMiB2ZWN0b3JzIGFyZSBleGFjdGx5IGVxdWFsXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHRydWUgaWYgdmVjdG9ycyBhcmUgZXhhY3RseSBlcXVhbFxuICovXG5mdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICAgIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xufVxuLyoqXG4gKiBQZXJmb3JtcyBsaW5lYXIgaW50ZXJwb2xhdGlvbiBvbiB0d28gdmVjdG9ycy5cbiAqIEdpdmVuIHZlY3RvcnMgYSBhbmQgYiBhbmQgaW50ZXJwb2xhdGlvbiBjb2VmZmljaWVudCB0LCByZXR1cm5zXG4gKiBhICsgdCAqIChiIC0gYSkuXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB0IC0gSW50ZXJwb2xhdGlvbiBjb2VmZmljaWVudC5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgbGluZWFyIGludGVycG9sYXRlZCByZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIGxlcnAoYSwgYiwgdCwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IGFbMF0gKyB0ICogKGJbMF0gLSBhWzBdKTtcbiAgICBkc3RbMV0gPSBhWzFdICsgdCAqIChiWzFdIC0gYVsxXSk7XG4gICAgZHN0WzJdID0gYVsyXSArIHQgKiAoYlsyXSAtIGFbMl0pO1xuICAgIGRzdFszXSA9IGFbM10gKyB0ICogKGJbM10gLSBhWzNdKTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBsaW5lYXIgaW50ZXJwb2xhdGlvbiBvbiB0d28gdmVjdG9ycy5cbiAqIEdpdmVuIHZlY3RvcnMgYSBhbmQgYiBhbmQgaW50ZXJwb2xhdGlvbiBjb2VmZmljaWVudCB2ZWN0b3IgdCwgcmV0dXJuc1xuICogYSArIHQgKiAoYiAtIGEpLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gdCAtIEludGVycG9sYXRpb24gY29lZmZpY2llbnRzIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyB0aGUgbGluZWFyIGludGVycG9sYXRlZCByZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIGxlcnBWKGEsIGIsIHQsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSBhWzBdICsgdFswXSAqIChiWzBdIC0gYVswXSk7XG4gICAgZHN0WzFdID0gYVsxXSArIHRbMV0gKiAoYlsxXSAtIGFbMV0pO1xuICAgIGRzdFsyXSA9IGFbMl0gKyB0WzJdICogKGJbMl0gLSBhWzJdKTtcbiAgICBkc3RbM10gPSBhWzNdICsgdFszXSAqIChiWzNdIC0gYVszXSk7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogUmV0dXJuIG1heCB2YWx1ZXMgb2YgdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgcmV0dXJuc1xuICogW21heChhWzBdLCBiWzBdKSwgbWF4KGFbMV0sIGJbMV0pLCBtYXgoYVsyXSwgYlsyXSldLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG1heCBjb21wb25lbnRzIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbWF4KGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgICBkc3RbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgICBkc3RbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgICBkc3RbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBSZXR1cm4gbWluIHZhbHVlcyBvZiB0d28gdmVjdG9ycy5cbiAqIEdpdmVuIHZlY3RvcnMgYSBhbmQgYiByZXR1cm5zXG4gKiBbbWluKGFbMF0sIGJbMF0pLCBtaW4oYVsxXSwgYlsxXSksIG1pbihhWzJdLCBiWzJdKV0uXG4gKiBAcGFyYW0gYSAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGIgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgbWluIGNvbXBvbmVudHMgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBtaW4oYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICAgIGRzdFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICAgIGRzdFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICAgIGRzdFszXSA9IE1hdGgubWluKGFbM10sIGJbM10pO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gayAtIFRoZSBzY2FsYXIuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHNjYWxlZCB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIG11bFNjYWxhcih2LCBrLCBkc3QpIHtcbiAgICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoNCk7XG4gICAgZHN0WzBdID0gdlswXSAqIGs7XG4gICAgZHN0WzFdID0gdlsxXSAqIGs7XG4gICAgZHN0WzJdID0gdlsyXSAqIGs7XG4gICAgZHN0WzNdID0gdlszXSAqIGs7XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhIHNjYWxhci4gKHNhbWUgYXMgbXVsU2NhbGFyKVxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGsgLSBUaGUgc2NhbGFyLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBzY2FsZWQgdmVjdG9yLlxuICovXG5jb25zdCBzY2FsZSA9IG11bFNjYWxhcjtcbi8qKlxuICogRGl2aWRlcyBhIHZlY3RvciBieSBhIHNjYWxhci5cbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSBrIC0gVGhlIHNjYWxhci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgc2NhbGVkIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gZGl2U2NhbGFyKHYsIGssIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSB2WzBdIC8gaztcbiAgICBkc3RbMV0gPSB2WzFdIC8gaztcbiAgICBkc3RbMl0gPSB2WzJdIC8gaztcbiAgICBkc3RbM10gPSB2WzNdIC8gaztcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBJbnZlcnNlIGEgdmVjdG9yLlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSBpbnZlcnRlZCB2ZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGludmVyc2UodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IDEgLyB2WzBdO1xuICAgIGRzdFsxXSA9IDEgLyB2WzFdO1xuICAgIGRzdFsyXSA9IDEgLyB2WzJdO1xuICAgIGRzdFszXSA9IDEgLyB2WzNdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEludmVydCBhIHZlY3Rvci4gKHNhbWUgYXMgaW52ZXJzZSlcbiAqIEBwYXJhbSB2IC0gVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSBkc3QgLSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgaW4gYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJucyBUaGUgaW52ZXJ0ZWQgdmVjdG9yLlxuICovXG5jb25zdCBpbnZlcnQgPSBpbnZlcnNlO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnNcbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHJldHVybnMgZG90IHByb2R1Y3RcbiAqL1xuZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgICByZXR1cm4gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYlsxXSkgKyAoYVsyXSAqIGJbMl0pICsgKGFbM10gKiBiWzNdKTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxlbmd0aCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gdmVjdG9yLlxuICogQHJldHVybnMgbGVuZ3RoIG9mIHZlY3Rvci5cbiAqL1xuZnVuY3Rpb24gbGVuZ3RoKHYpIHtcbiAgICBjb25zdCB2MCA9IHZbMF07XG4gICAgY29uc3QgdjEgPSB2WzFdO1xuICAgIGNvbnN0IHYyID0gdlsyXTtcbiAgICBjb25zdCB2MyA9IHZbM107XG4gICAgcmV0dXJuIE1hdGguc3FydCh2MCAqIHYwICsgdjEgKiB2MSArIHYyICogdjIgKyB2MyAqIHYzKTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxlbmd0aCBvZiB2ZWN0b3IgKHNhbWUgYXMgbGVuZ3RoKVxuICogQHBhcmFtIHYgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBsZW5ndGggb2YgdmVjdG9yLlxuICovXG5jb25zdCBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIENvbXB1dGVzIHRoZSBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB2IC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBsZW5ndGhTcSh2KSB7XG4gICAgY29uc3QgdjAgPSB2WzBdO1xuICAgIGNvbnN0IHYxID0gdlsxXTtcbiAgICBjb25zdCB2MiA9IHZbMl07XG4gICAgY29uc3QgdjMgPSB2WzNdO1xuICAgIHJldHVybiB2MCAqIHYwICsgdjEgKiB2MSArIHYyICogdjIgKyB2MyAqIHYzO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgdmVjdG9yIChzYW1lIGFzIGxlbmd0aFNxKVxuICogQHBhcmFtIHYgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB2ZWN0b3IuXG4gKi9cbmNvbnN0IGxlblNxID0gbGVuZ3RoU3E7XG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzXG4gKiBAcGFyYW0gYSAtIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gdmVjdG9yLlxuICogQHJldHVybnMgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgY29uc3QgZHogPSBhWzJdIC0gYlsyXTtcbiAgICBjb25zdCBkdyA9IGFbM10gLSBiWzNdO1xuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6ICsgZHcgKiBkdyk7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIChzYW1lIGFzIGRpc3RhbmNlKVxuICogQHBhcmFtIGEgLSB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIHZlY3Rvci5cbiAqIEByZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5jb25zdCBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIENvbXB1dGVzIHRoZSBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbiAqIEBwYXJhbSBhIC0gdmVjdG9yLlxuICogQHBhcmFtIGIgLSB2ZWN0b3IuXG4gKiBAcmV0dXJucyBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5mdW5jdGlvbiBkaXN0YW5jZVNxKGEsIGIpIHtcbiAgICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgY29uc3QgZHogPSBhWzJdIC0gYlsyXTtcbiAgICBjb25zdCBkdyA9IGFbM10gLSBiWzNdO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHogKyBkdyAqIGR3O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIChzYW1lIGFzIGRpc3RhbmNlU3EpXG4gKiBAcGFyYW0gYSAtIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gdmVjdG9yLlxuICogQHJldHVybnMgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuY29uc3QgZGlzdFNxID0gZGlzdGFuY2VTcTtcbi8qKlxuICogRGl2aWRlcyBhIHZlY3RvciBieSBpdHMgRXVjbGlkZWFuIGxlbmd0aCBhbmQgcmV0dXJucyB0aGUgcXVvdGllbnQuXG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIG5vcm1hbGl6ZWQgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBub3JtYWxpemUodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGNvbnN0IHYwID0gdlswXTtcbiAgICBjb25zdCB2MSA9IHZbMV07XG4gICAgY29uc3QgdjIgPSB2WzJdO1xuICAgIGNvbnN0IHYzID0gdlszXTtcbiAgICBjb25zdCBsZW4gPSBNYXRoLnNxcnQodjAgKiB2MCArIHYxICogdjEgKyB2MiAqIHYyICsgdjMgKiB2Myk7XG4gICAgaWYgKGxlbiA+IDAuMDAwMDEpIHtcbiAgICAgICAgZHN0WzBdID0gdjAgLyBsZW47XG4gICAgICAgIGRzdFsxXSA9IHYxIC8gbGVuO1xuICAgICAgICBkc3RbMl0gPSB2MiAvIGxlbjtcbiAgICAgICAgZHN0WzNdID0gdjMgLyBsZW47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3RbMF0gPSAwO1xuICAgICAgICBkc3RbMV0gPSAwO1xuICAgICAgICBkc3RbMl0gPSAwO1xuICAgICAgICBkc3RbM10gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBOZWdhdGVzIGEgdmVjdG9yLlxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIC12LlxuICovXG5mdW5jdGlvbiBuZWdhdGUodiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IC12WzBdO1xuICAgIGRzdFsxXSA9IC12WzFdO1xuICAgIGRzdFsyXSA9IC12WzJdO1xuICAgIGRzdFszXSA9IC12WzNdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENvcGllcyBhIHZlY3Rvci4gKHNhbWUgYXMge0BsaW5rIHZlYzQuY2xvbmV9KVxuICogQWxzbyBzZWUge0BsaW5rIHZlYzQuY3JlYXRlfSBhbmQge0BsaW5rIHZlYzQuc2V0fVxuICogQHBhcmFtIHYgLSBUaGUgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIEEgY29weSBvZiB2LlxuICovXG5mdW5jdGlvbiBjb3B5KHYsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSB2WzBdO1xuICAgIGRzdFsxXSA9IHZbMV07XG4gICAgZHN0WzJdID0gdlsyXTtcbiAgICBkc3RbM10gPSB2WzNdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIENsb25lcyBhIHZlY3Rvci4gKHNhbWUgYXMge0BsaW5rIHZlYzQuY29weX0pXG4gKiBBbHNvIHNlZSB7QGxpbmsgdmVjNC5jcmVhdGV9IGFuZCB7QGxpbmsgdmVjNC5zZXR9XG4gKiBAcGFyYW0gdiAtIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgQSBjb3B5IG9mIHYuXG4gKi9cbmNvbnN0IGNsb25lID0gY29weTtcbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciAoY29tcG9uZW50LXdpc2UpOyBhc3N1bWVzIGEgYW5kXG4gKiBiIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBwcm9kdWN0cyBvZiBlbnRyaWVzIG9mIGEgYW5kIGIuXG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5KGEsIGIsIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSBhWzBdICogYlswXTtcbiAgICBkc3RbMV0gPSBhWzFdICogYlsxXTtcbiAgICBkc3RbMl0gPSBhWzJdICogYlsyXTtcbiAgICBkc3RbM10gPSBhWzNdICogYlszXTtcbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIGEgdmVjdG9yIGJ5IGFub3RoZXIgdmVjdG9yIChjb21wb25lbnQtd2lzZSk7IGFzc3VtZXMgYSBhbmRcbiAqIGIgaGF2ZSB0aGUgc2FtZSBsZW5ndGguIChzYW1lIGFzIG11bClcbiAqIEBwYXJhbSBhIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gYiAtIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB2ZWN0b3Igb2YgcHJvZHVjdHMgb2YgZW50cmllcyBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogRGl2aWRlcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciAoY29tcG9uZW50LXdpc2UpOyBhc3N1bWVzIGEgYW5kXG4gKiBiIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBxdW90aWVudHMgb2YgZW50cmllcyBvZiBhIGFuZCBiLlxuICovXG5mdW5jdGlvbiBkaXZpZGUoYSwgYiwgZHN0KSB7XG4gICAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDQpO1xuICAgIGRzdFswXSA9IGFbMF0gLyBiWzBdO1xuICAgIGRzdFsxXSA9IGFbMV0gLyBiWzFdO1xuICAgIGRzdFsyXSA9IGFbMl0gLyBiWzJdO1xuICAgIGRzdFszXSA9IGFbM10gLyBiWzNdO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYW5vdGhlciB2ZWN0b3IgKGNvbXBvbmVudC13aXNlKTsgYXNzdW1lcyBhIGFuZFxuICogYiBoYXZlIHRoZSBzYW1lIGxlbmd0aC4gKHNhbWUgYXMgZGl2aWRlKVxuICogQHBhcmFtIGEgLSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSBiIC0gT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0gZHN0IC0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGluIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgVGhlIHZlY3RvciBvZiBxdW90aWVudHMgb2YgZW50cmllcyBvZiBhIGFuZCBiLlxuICovXG5jb25zdCBkaXYgPSBkaXZpZGU7XG4vKipcbiAqIFplcm8ncyBhIHZlY3RvclxuICogQHBhcmFtIGRzdCAtIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBpbiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIFRoZSB6ZXJvZWQgdmVjdG9yLlxuICovXG5mdW5jdGlvbiB6ZXJvKGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBkc3RbMF0gPSAwO1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgICBkc3RbM10gPSAwO1xuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIHRyYW5zZm9ybSB2ZWM0IGJ5IDR4NCBtYXRyaXhcbiAqIEBwYXJhbSB2IC0gdGhlIHZlY3RvclxuICogQHBhcmFtIG0gLSBUaGUgbWF0cml4LlxuICogQHBhcmFtIGRzdCAtIG9wdGlvbmFsIHZlYzQgdG8gc3RvcmUgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybnMgdGhlIHRyYW5zZm9ybWVkIHZlY3RvclxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KHYsIG0sIGRzdCkge1xuICAgIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSg0KTtcbiAgICBjb25zdCB4ID0gdlswXTtcbiAgICBjb25zdCB5ID0gdlsxXTtcbiAgICBjb25zdCB6ID0gdlsyXTtcbiAgICBjb25zdCB3ID0gdlszXTtcbiAgICBkc3RbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XG4gICAgZHN0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICAgIGRzdFsyXSA9IG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSAqIHc7XG4gICAgZHN0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcbiAgICByZXR1cm4gZHN0O1xufVxuXG52YXIgdmVjNEltcGwgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgIHNldERlZmF1bHRUeXBlOiBzZXREZWZhdWx0VHlwZSQxLFxuICAgIGZyb21WYWx1ZXM6IGZyb21WYWx1ZXMsXG4gICAgc2V0OiBzZXQsXG4gICAgY2VpbDogY2VpbCxcbiAgICBmbG9vcjogZmxvb3IsXG4gICAgcm91bmQ6IHJvdW5kLFxuICAgIGNsYW1wOiBjbGFtcCxcbiAgICBhZGQ6IGFkZCxcbiAgICBhZGRTY2FsZWQ6IGFkZFNjYWxlZCxcbiAgICBzdWJ0cmFjdDogc3VidHJhY3QsXG4gICAgc3ViOiBzdWIsXG4gICAgZXF1YWxzQXBwcm94aW1hdGVseTogZXF1YWxzQXBwcm94aW1hdGVseSxcbiAgICBlcXVhbHM6IGVxdWFscyxcbiAgICBsZXJwOiBsZXJwLFxuICAgIGxlcnBWOiBsZXJwVixcbiAgICBtYXg6IG1heCxcbiAgICBtaW46IG1pbixcbiAgICBtdWxTY2FsYXI6IG11bFNjYWxhcixcbiAgICBzY2FsZTogc2NhbGUsXG4gICAgZGl2U2NhbGFyOiBkaXZTY2FsYXIsXG4gICAgaW52ZXJzZTogaW52ZXJzZSxcbiAgICBpbnZlcnQ6IGludmVydCxcbiAgICBkb3Q6IGRvdCxcbiAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICBsZW46IGxlbixcbiAgICBsZW5ndGhTcTogbGVuZ3RoU3EsXG4gICAgbGVuU3E6IGxlblNxLFxuICAgIGRpc3RhbmNlOiBkaXN0YW5jZSxcbiAgICBkaXN0OiBkaXN0LFxuICAgIGRpc3RhbmNlU3E6IGRpc3RhbmNlU3EsXG4gICAgZGlzdFNxOiBkaXN0U3EsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgbmVnYXRlOiBuZWdhdGUsXG4gICAgY29weTogY29weSxcbiAgICBjbG9uZTogY2xvbmUsXG4gICAgbXVsdGlwbHk6IG11bHRpcGx5LFxuICAgIG11bDogbXVsLFxuICAgIGRpdmlkZTogZGl2aWRlLFxuICAgIGRpdjogZGl2LFxuICAgIHplcm86IHplcm8sXG4gICAgdHJhbnNmb3JtTWF0NDogdHJhbnNmb3JtTWF0NFxufSk7XG5cbi8qKlxuICogU2V0cyB0aGUgdHlwZSB0aGlzIGxpYnJhcnkgY3JlYXRlcyBmb3IgYWxsIHR5cGVzXG4gKlxuICogZXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHNldERlZmF1bHRUeXBlKEZsb2F0NjRBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gY3RvciAtIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUuIEVpdGhlciBgRmxvYXQzMkFycmF5YCwgYEZsb2F0NjRBcnJheWAsIG9yIGBBcnJheWBcbiAqL1xuZnVuY3Rpb24gc2V0RGVmYXVsdFR5cGUoY3Rvcikge1xuICAgIHNldERlZmF1bHRUeXBlJDUoY3Rvcik7XG4gICAgc2V0RGVmYXVsdFR5cGUkMyhjdG9yKTtcbiAgICBzZXREZWZhdWx0VHlwZSQyKGN0b3IpO1xuICAgIHNldERlZmF1bHRUeXBlJDYoY3Rvcik7XG4gICAgc2V0RGVmYXVsdFR5cGUkNChjdG9yKTtcbiAgICBzZXREZWZhdWx0VHlwZSQxKGN0b3IpO1xufVxuXG5leHBvcnQgeyBtYXQzSW1wbCBhcyBtYXQzLCBtYXQ0SW1wbCBhcyBtYXQ0LCBxdWF0SW1wbCBhcyBxdWF0LCBzZXREZWZhdWx0VHlwZSwgdXRpbHMsIHZlYzJJbXBsIGFzIHZlYzIsIHZlYzNJbXBsIGFzIHZlYzMsIHZlYzRJbXBsIGFzIHZlYzQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdncHUtbWF0cml4Lm1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/wgpu-matrix/dist/2.x/wgpu-matrix.module.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;